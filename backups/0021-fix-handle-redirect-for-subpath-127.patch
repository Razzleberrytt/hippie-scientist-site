From 0c79d3093c391d2251d74a0f91f57b9571c64bf0 Mon Sep 17 00:00:00 2001
From: Willie Randolph <RazzleberryT@gmail.com>
Date: Sat, 19 Jul 2025 00:37:47 -0400
Subject: [PATCH 21/27] fix: handle redirect for subpath (#127)

---
 404.html | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/404.html b/404.html
index c5607fd..60f6056 100644
--- a/404.html
+++ b/404.html
@@ -4,11 +4,12 @@
     <meta charset="UTF-8" />
     <title>Redirectingâ€¦</title>
     <script>
-      const cleanPath = window.location.pathname
-        .replace(/\/$/, '') +
+      const cleanPath =
+        window.location.pathname.replace(/\/$/, '') +
         window.location.search +
         window.location.hash;
-      window.location.replace('/#' + cleanPath);
+      const root = window.location.pathname.replace(/404\.html$/, '');
+      window.location.replace(root + '#' + cleanPath);
     </script>
   </head>
   <body>
-- 
2.43.0

