import{R as n,j as t,W as j,L as v,m as N}from"./main-43a05c2f.js";import{C as w}from"./CardShell-50ceeb01.js";import{F as S}from"./fuse-11af6271.js";import{d as u}from"./format-45884e8d.js";import{p as x}from"./posts-db1fccc0.js";const T=({posts:r,onFilter:o})=>{const[l,d]=n.useState(""),[c,i]=n.useState([]),h=n.useMemo(()=>new S(r,{keys:["title","excerpt","content","tags"],threshold:.3}),[r]),p=n.useMemo(()=>{const e=r.reduce((s,a)=>s.concat(a.tags),[]);return Array.from(new Set(e))},[r]),g=e=>{const s=e.target.value;s&&!c.includes(s)&&i(a=>[...a,s]),e.target.value=""},f=e=>{i(s=>s.filter(a=>a!==e))},y=()=>{d(""),i([]),o(r)},m=n.useMemo(()=>{const e=l.trim();let s=r;return e&&(s=h.search(e).map(a=>a.item)),c.length&&(s=s.filter(a=>c.every(b=>a.tags.includes(b)))),s},[r,l,c]);return n.useEffect(()=>{o(m)},[m,o]),t.jsxs("div",{className:"mb-8 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Search posts...","aria-label":"Search posts",value:l,onChange:e=>d(e.target.value),className:"w-full rounded-md border border-gray-700 bg-gray-900 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.map(e=>t.jsx("button",{type:"button",onClick:()=>f(e),className:"tag-pill",children:u(e)},e)),t.jsxs("select",{onChange:g,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white",defaultValue:"",children:[t.jsx("option",{value:"",children:"Add Tag Filter..."}),p.map(e=>t.jsx("option",{value:e,children:u(e)},e))]}),t.jsx("button",{type:"button",onClick:y,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white hover:bg-gray-700",children:"Clear Filters"})]})]})},R=()=>{const[r,o]=n.useState(x);return t.jsxs(t.Fragment,{children:[t.jsx(j,{children:t.jsx("title",{children:"Blog - The Hippie Scientist"})}),t.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 px-6 py-12",children:[t.jsx(T,{posts:x,onFilter:o}),r.map(l=>t.jsx(w,{className:"hover:shadow-intense",children:t.jsxs(v,{to:`/blog/${l.slug}`,className:"block space-y-2",children:[t.jsx(N.h2,{whileHover:{x:4},className:"text-gradient text-2xl font-bold",children:l.title}),t.jsx("p",{className:"text-moss",children:l.excerpt})]})},l.id))]})]})};export{R as default};
