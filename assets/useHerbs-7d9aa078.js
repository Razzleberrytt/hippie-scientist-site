import{R as s,h as l}from"./main-563435cd.js";function w(){const[o,n]=s.useState([]),[i,f]=s.useState(!0),[c,u]=s.useState(null);return s.useEffect(()=>{async function d(){try{const e=await fetch("/database.json");if(!e.ok)throw new Error(`status ${e.status}`);const a=await e.json();if(!Array.isArray(a))throw new Error("invalid format");const t=new Map;a.filter(r=>r&&typeof r.name=="string").forEach(r=>{r.id&&!t.has(r.id)&&t.set(r.id,r)}),n(Array.from(t.values()))}catch(e){console.error("Failed to fetch database",e),u(e.message);const a=new Map;l.forEach(t=>{a.has(t.id)||a.set(t.id,t)}),n(Array.from(a.values()))}finally{f(!1)}}d()},[]),s.useEffect(()=>{},[o]),{herbs:o,loading:i,error:c}}export{w as u};
