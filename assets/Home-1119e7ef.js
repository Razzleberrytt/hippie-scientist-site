import{i as H,u as f,a as A,c as I,f as R,b as h,d as T,r as g,j as t,m as x,R as m}from"./main-80bc30eb.js";import{l as $,f as E,H as V}from"./index-b9132989.js";import{d as j}from"./format-45884e8d.js";import{F as B}from"./fuse-11af6271.js";import{h as v}from"./herbs-e6ff26dc.js";import"./star-43880155.js";const L=e=>e&&typeof e=="object"&&e.mix,P=e=>L(e)?e.mix:void 0;function X(...e){const s=!Array.isArray(e[0]),a=s?0:-1,r=e[0+a],n=e[1+a],c=e[2+a],d=e[3+a],i=H(n,c,{mixer:P(c[0]),...d});return s?i(r):i}function M(e,s){const a=f(s()),r=()=>a.set(s());return r(),A(()=>{const n=()=>R.update(r,!1,!0),c=e.map(d=>d.on("change",n));return()=>{c.forEach(d=>d()),I(r)}}),a}function Y(e){h.current=[],e();const s=M(h.current,e);return h.current=void 0,s}function w(e,s,a,r){if(typeof e=="function")return Y(e);const n=typeof s=="function"?s:X(s,a,r);return Array.isArray(e)?N(e,n):N([e],([c])=>n(c))}function N(e,s){const a=T(()=>[]);return M(e,()=>{a.length=0;const r=e.length;for(let n=0;n<r;n++)a[n]=e[n].get();return s(a)})}const _=()=>{const e=f(0),s=f(0),a=typeof window<"u"?window.innerWidth:1,r=typeof window<"u"?window.innerHeight:1,n=w(e,[0,a],[-30,30]),c=w(s,[0,r],[-30,30]),d=g.useMemo(()=>Array.from({length:25},(i,y)=>({id:y,size:Math.random()*4+2,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5})),[]);return t.jsxs(x.div,{className:"absolute inset-0 -z-10 overflow-hidden",onMouseMove:i=>{e.set(i.clientX),s.set(i.clientY)},children:[d.map(i=>t.jsx(x.span,{style:{width:i.size,height:i.size,left:`${i.x}%`,top:`${i.y}%`},className:"absolute rounded-full bg-forest-green/20",animate:{y:[-10,10,-10]},transition:{duration:8,ease:"easeInOut",repeat:1/0,delay:i.delay}},i.id)),t.jsx(x.div,{className:"bg-cosmic-gradient animate-gradient absolute inset-0",style:{x:n,y:c}})]})},q=_;function O(){const e=g.useCallback(async s=>{await $(s)},[]);return t.jsx(E,{id:"tsparticles",init:e,options:{fullScreen:{enable:!0,zIndex:-1},particles:{color:{value:"#ffffff"},number:{value:40,density:{enable:!0,area:800}},size:{value:1},move:{enable:!0,speed:.3},opacity:{value:.2}},background:{color:"#0c0c1a"}}})}const D=()=>{const e=g.useMemo(()=>Array.from({length:20},(s,a)=>({id:a,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5})),[]);return t.jsx("div",{className:"pointer-events-none fixed inset-0 overflow-hidden","aria-hidden":"true",children:e.map(s=>t.jsx(x.div,{className:"absolute rounded-full",style:{width:s.size,height:s.size,left:`${s.x}%`,top:`${s.y}%`,background:"radial-gradient(circle, rgba(34, 197, 94, 0.15) 0%, transparent 70%)",willChange:"transform, opacity"},animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:s.duration,repeat:1/0,delay:s.delay,ease:"easeInOut"}},s.id))})},Q=D;function U(){return t.jsxs("section",{className:"relative flex min-h-[70vh] items-center justify-center overflow-hidden py-16 text-center",children:[t.jsx(O,{}),t.jsx(q,{}),t.jsx(Q,{}),t.jsxs(x.div,{className:"relative z-10 px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx("h1",{className:"text-gradient animate-ripple mb-4 font-display text-5xl md:text-6xl",children:"The Hippie Scientist"}),t.jsx("p",{className:"text-lg text-opal",children:"Psychedelic Botany & Conscious Exploration"})]})]})}const W=({herbs:e,onFilter:s})=>{const[a,r]=m.useState(""),[n,c]=m.useState([]),[d,i]=m.useState(""),y=m.useMemo(()=>new B(e,{keys:["name","scientificName","tags"],threshold:.3}),[e]),k=()=>{const o=e[Math.floor(Math.random()*e.length)];s([o])},C=m.useMemo(()=>{const o=e.reduce((l,u)=>l.concat(u.tags),[]);return Array.from(new Set(o))},[e]),S=o=>{const l=o.target.value;l&&!n.includes(l)&&c(u=>[...u,l]),o.target.value=""},z=o=>{c(l=>l.filter(u=>u!==o))},F=()=>{r(""),c([]),i(""),s(e)},b=m.useMemo(()=>{const o=a.trim();let l=e;return o&&(l=y.search(o).map(u=>u.item)),n.length&&(l=l.filter(u=>n.every(p=>u.tags.includes(p)))),d==="intensity"?l=[...l].sort((u,p)=>u.intensity.localeCompare(p.intensity)):d==="onset"?l=[...l].sort((u,p)=>u.onset.localeCompare(p.onset)):d==="safetyRating"&&(l=[...l].sort((u,p)=>(u.safetyRating??0)-(p.safetyRating??0))),l},[e,a,n,d]);return m.useEffect(()=>{s(b)},[b,s]),t.jsxs("div",{className:"sticky top-20 z-10 mb-8 space-y-4 rounded-lg bg-space-dark/70 p-4 backdrop-blur-md",children:[t.jsx("input",{type:"text",placeholder:"Search herbs...","aria-label":"Search herbs",value:a,onChange:o=>r(o.target.value),className:"w-full rounded-md border border-gray-700 bg-gray-900 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.map(o=>t.jsx("button",{type:"button",onClick:()=>z(o),className:"tag-pill",children:j(o)},o)),t.jsxs("select",{onChange:S,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white",defaultValue:"",children:[t.jsx("option",{value:"",children:"Add Tag Filter..."}),C.map(o=>t.jsx("option",{value:o,children:j(o)},o))]}),t.jsx("button",{type:"button",onClick:k,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white hover:bg-gray-700",children:"Random Herb"}),t.jsxs("select",{value:d,onChange:o=>i(o.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white",children:[t.jsx("option",{value:"",children:"Sort By..."}),t.jsx("option",{value:"intensity",children:"Intensity"}),t.jsx("option",{value:"onset",children:"Onset"}),t.jsx("option",{value:"safetyRating",children:"Safety"})]}),t.jsx("button",{type:"button",onClick:F,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white hover:bg-gray-700",children:"Clear Filters"})]})]})},G=W,J=({currentPage:e,totalPages:s,onPageChange:a})=>{const r=Array.from({length:s},(n,c)=>c+1);return t.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[t.jsx("button",{type:"button",disabled:e===1,onClick:()=>a(e-1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Prev"}),r.map(n=>t.jsx(x.button,{whileHover:{scale:1.1},onClick:()=>a(n),className:`rounded px-2 py-1 text-sm ${n===e?"bg-cosmic-purple text-white":"text-sand"}`,children:n},n)),t.jsx("button",{type:"button",disabled:e===s,onClick:()=>a(e+1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Next"})]})},K=J;function oe(){const[e,s]=m.useState(v),[a,r]=m.useState(1),n=6,c=Math.ceil(e.length/n),d=m.useMemo(()=>e.slice((a-1)*n,a*n),[e,a]),i=y=>{s(y),r(1)};return t.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-black via-indigo-950 to-slate-900 px-4 py-10 text-white",children:[t.jsx(U,{}),t.jsxs("section",{className:"mx-auto max-w-4xl space-y-10",children:[t.jsx("p",{className:"text-center text-lg text-opal",children:"Discover visionary plants used throughout history. Search the database or browse page by page."}),t.jsx(G,{herbs:v,onFilter:i}),t.jsxs(x.div,{layout:!0,children:[t.jsx("h2",{className:"text-gradient mb-4 font-display text-3xl",children:"Herb Index"}),t.jsx(V,{herbs:d}),t.jsx(K,{currentPage:a,totalPages:c,onPageChange:r})]})]})]})}export{oe as default};
