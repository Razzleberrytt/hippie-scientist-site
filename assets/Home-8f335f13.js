import{i as $,u as y,a as E,c as z,f as H,b as g,d as R,h as A,e as L,r as l,p as T,j as e,m as d,L as x,A as S,M as B}from"./main-257132f5.js";import{l as V,f as _,_ as N,S as F}from"./StarfieldBackground-518a934e.js";import{h as f}from"./herbs-eefd96fc.js";import{b as P}from"./compoundData-b9bb6d47.js";import"./Full200-666e4da0.js";const D=t=>t&&typeof t=="object"&&t.mix,O=t=>D(t)?t.mix:void 0;function X(...t){const a=!Array.isArray(t[0]),n=a?0:-1,i=t[0+n],r=t[1+n],o=t[2+n],c=t[3+n],s=$(r,o,{mixer:O(o[0]),...c});return a?s(i):s}function C(t,a){const n=y(a()),i=()=>n.set(a());return i(),E(()=>{const r=()=>H.update(i,!1,!0),o=t.map(c=>c.on("change",r));return()=>{o.forEach(c=>c()),z(i)}}),n}function Y(t){g.current=[],t();const a=C(g.current,t);return g.current=void 0,a}function M(t,a,n,i){if(typeof t=="function")return Y(t);const r=typeof a=="function"?a:X(a,n,i);return Array.isArray(t)?k(t,r):k([t],([o])=>r(o))}function k(t,a){const n=R(()=>[]);return C(t,()=>{n.length=0;const i=t.length;for(let r=0;r<i;r++)n[r]=t[r].get();return a(n)})}function J(){!A.current&&L();const[t]=l.useState(T.current);return t}const U=()=>{const t=y(0),a=y(0),n=typeof window<"u"?window.innerWidth:1,i=typeof window<"u"?window.innerHeight:1,r=M(t,[0,n],[-30,30]),o=M(a,[0,i],[-30,30]),c=l.useMemo(()=>Array.from({length:25},(s,m)=>({id:m,size:Math.random()*4+2,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5})),[]);return e.jsxs(d.div,{className:"absolute inset-0 -z-10 overflow-hidden",onMouseMove:s=>{t.set(s.clientX),a.set(s.clientY)},children:[c.map(s=>e.jsx(d.span,{style:{width:s.size,height:s.size,left:`${s.x}%`,top:`${s.y}%`},className:"absolute rounded-full bg-forest-green/20",animate:{y:[-10,10,-10]},transition:{duration:8,ease:"easeInOut",repeat:1/0,delay:s.delay}},s.id)),e.jsx(d.div,{className:"bg-cosmic-gradient animate-gradient absolute inset-0",style:{x:r,y:o}})]})},K=U;function W(){const t=l.useCallback(async a=>{await V(a)},[]);return e.jsx(_,{id:"tsparticles",init:t,options:{fullScreen:{enable:!0,zIndex:-1},particles:{color:{value:"#ffffff"},number:{value:40,density:{enable:!0,area:800}},size:{value:1},move:{enable:!0,speed:.3},opacity:{value:.2}},background:{color:"#0c0c1a"}}})}const q=()=>{const t=l.useMemo(()=>Array.from({length:20},(a,n)=>({id:n,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5})),[]);return e.jsx("div",{className:"pointer-events-none fixed inset-0 overflow-hidden","aria-hidden":"true",children:t.map(a=>e.jsx(d.div,{className:"absolute rounded-full",style:{width:a.size,height:a.size,left:`${a.x}%`,top:`${a.y}%`,background:"radial-gradient(circle, rgba(34, 197, 94, 0.15) 0%, transparent 70%)",willChange:"transform, opacity"},animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:a.duration,repeat:1/0,delay:a.delay,ease:"easeInOut"}},a.id))})},G=q;function Q(t){const a=[...t];for(let n=a.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[a[n],a[i]]=[a[i],a[n]]}return a}const I=4500;function Z(){var b,j,v;const t=J(),[a]=l.useState(()=>Q(f)),[n,i]=l.useState(0),[r,o]=l.useState(!1),c=l.useRef();l.useEffect(()=>{if(!t)return c.current=setInterval(()=>{r||i(u=>(u+1)%a.length)},I),()=>{c.current&&clearInterval(c.current)}},[r,t,a]);const s=a[n];if(!s)return null;const m=()=>{const u=localStorage.getItem("herbTapCounts"),h=u?JSON.parse(u):{};h[s.id]=(h[s.id]||0)+1,localStorage.setItem("herbTapCounts",JSON.stringify(h)),i(w=>{let p=Math.floor(Math.random()*a.length);return p===w&&(p=(w+1)%a.length),p})};return t?e.jsx("div",{"aria-live":"polite",className:"relative mx-auto mt-6 flex min-h-[16rem] min-w-[280px] justify-center",children:e.jsxs("div",{className:"glass-card hover-glow inset-0 flex w-full flex-col justify-center rounded-xl p-4 text-center shadow-lg",style:{position:"absolute",top:0,left:0},children:[s.image&&e.jsx("img",{src:s.image,alt:s.name,className:"h-32 w-full rounded-md object-cover"}),e.jsx("h3",{className:`mt-3 font-herb ${s.name.length>20?"text-lg sm:text-xl":"text-xl sm:text-2xl"}`,children:s.name}),((b=s.effects)==null?void 0:b.length)>0&&e.jsx("p",{className:"mt-1 text-sm text-sand",children:s.effects.slice(0,3).join(", ")}),e.jsx(x,{to:`/herbs/${s.id}`,className:"hover-glow mt-3 inline-block rounded-md bg-black/30 px-4 py-2 text-sand backdrop-blur-md hover:rotate-1",children:"Learn More"})]})}):e.jsx("div",{"aria-live":"polite",className:"relative mx-auto mt-6 flex min-h-[16rem] min-w-[280px] justify-center",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:m,onTouchStart:m,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),m())},role:"button",tabIndex:0,children:e.jsx(S,{exitBeforeEnter:!0,children:e.jsxs(d.div,{"aria-label":`Herb preview: ${s.name}${(j=s.effects)!=null&&j.length?` â€“ ${s.effects.slice(0,2).join(", ")}`:""}`,className:"glass-card hover-glow inset-0 flex w-full flex-col justify-center rounded-xl p-4 text-center shadow-lg",style:{position:"absolute",top:0,left:0},initial:t?!1:{opacity:0,y:10},animate:{opacity:1,y:0},exit:t?{opacity:0}:{opacity:0,y:-10},transition:{duration:.6},whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.image&&e.jsx("img",{src:s.image,alt:s.name,className:"h-32 w-full rounded-md object-cover"}),e.jsx("h3",{className:`mt-3 font-herb ${s.name.length>20?"text-lg sm:text-xl":"text-xl sm:text-2xl"}`,children:s.name}),((v=s.effects)==null?void 0:v.length)>0&&e.jsx("p",{className:"mt-1 text-sm text-sand",children:s.effects.slice(0,3).join(", ")}),e.jsx(x,{to:`/herbs/${s.id}`,className:"hover-glow mt-3 inline-block rounded-md bg-black/30 px-4 py-2 text-sand backdrop-blur-md hover:rotate-1",children:"Learn More"}),e.jsx(d.div,{className:"pointer-events-none absolute inset-0 rounded-xl ring-2 ring-psychedelic-pink/40 drop-shadow-[0_0_8px_#ff00ff]",style:{willChange:"filter"},animate:{filter:["hue-rotate(0deg)","hue-rotate(360deg)"]},transition:{duration:8,repeat:1/0,ease:"linear"}}),e.jsx(d.div,{className:"absolute bottom-0 left-0 h-1 w-full bg-forest-green/40",initial:{width:0},animate:{width:"100%"},transition:{duration:I/1e3,ease:"linear"}},n)]},s.id)})})}function ee({className:t=""}){return e.jsxs("div",{className:`mx-auto mt-4 flex max-w-4xl flex-col items-center justify-center gap-6 text-center sm:flex-row sm:gap-12 ${t}`,children:[e.jsxs("div",{className:"text-lg sm:text-xl",children:[e.jsx(N,{end:f.length,duration:2}),"+ psychoactive herbs indexed"]}),e.jsxs("div",{className:"text-lg sm:text-xl",children:[e.jsx(N,{end:P.length,duration:2}),"+ active compounds mapped"]}),e.jsx("div",{className:"text-lg sm:text-xl",children:"Updated daily"})]})}function te(){return e.jsxs(d.section,{className:"hero-section pb-safe",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[e.jsx(W,{}),e.jsx(K,{}),e.jsx(G,{}),e.jsxs("div",{className:"relative z-10 flex flex-1 flex-col items-center justify-center gap-4",children:[e.jsxs(d.div,{className:"mx-auto max-w-2xl space-y-1",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:1,delay:.2,ease:"easeOut"},children:[e.jsx("h1",{className:"text-gradient font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl",children:"The Hippie Scientist"}),e.jsx("p",{className:"text-opal text-base sm:text-lg md:text-xl",children:"Psychedelic Botany & Conscious Exploration"})]}),e.jsx("div",{className:"mt-2",children:e.jsx(Z,{})})]}),e.jsxs("div",{className:"relative z-10 mb-4 flex flex-col items-center gap-4",children:[e.jsx(ee,{className:"mt-0"}),e.jsx(x,{to:"/database",className:"hover-glow inline-block rounded-md bg-black/30 px-6 py-3 text-white backdrop-blur-md hover:rotate-1",children:"ðŸŒ¿ Browse Database"})]})]})}function ae(){const t=f.filter(n=>n.category.includes("Psychedelic"));return[...t.length>0?t:f].sort(()=>Math.random()-.5).slice(0,5)}function se(){const[t]=l.useState(()=>ae()),[a,n]=l.useState(0);l.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%t.length)},6e3);return()=>clearInterval(r)},[]);const i=t[a];return e.jsx(d.div,{id:"featured-herb-carousel",className:"relative mx-auto mt-6 max-w-md",initial:{opacity:0},animate:{opacity:1},children:e.jsx(S,{mode:"wait",children:e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6},className:"glass-card cursor-pointer overflow-hidden rounded-xl p-4 shadow-lg",whileHover:{scale:1.03,rotate:.5},children:[i.image&&e.jsx("img",{src:i.image,alt:i.name,className:"h-40 w-full rounded-md object-cover"}),e.jsx("h3",{className:"mt-3 font-herb text-2xl",children:i.name}),i.description&&e.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-sand",children:i.description}),e.jsx(x,{to:`/herbs/${i.id}`,className:"hover-glow mt-3 inline-block rounded-md bg-black/30 px-4 py-2 text-sand backdrop-blur-md hover:rotate-1",children:"Learn More"})]},i.id)})})}function ce(){return e.jsxs("main",{id:"home","aria-label":"Site introduction",className:"relative min-h-screen overflow-hidden bg-white pt-16 text-black dark:bg-black dark:text-white",children:[e.jsx(F,{}),e.jsx(B,{}),e.jsx(te,{}),e.jsx("div",{className:"hidden md:block",children:e.jsx(se,{})})]})}export{ce as default};
