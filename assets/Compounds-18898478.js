import{R as l,g as x,r as p,j as e,m as h,T as v,I as w,L as b,W as H}from"./main-44447a5f.js";import{u as C}from"./useHerbs-5b9f1f3f.js";import{T as A}from"./TagFilterBar-5078bceb.js";const E=[{name:"Mescaline",class:"phenethylamine",effects:["psychedelic","empathogenic"],sourceHerbs:["lophophora-williamsii"],mechanismOfAction:"5-HT2A agonist",psychoactiveEffects:["visual enhancement","emotional openness"],foundInHerbs:["lophophora-williamsii"],toxicityWarning:"High doses may cause nausea and anxiety"},{name:"Psilocybin",class:"tryptamine",effects:["psychedelic"],sourceHerbs:["psilocybe-cubensis"],notes:"Converted to psilocin in the body",mechanismOfAction:"Converted to psilocin; 5-HT2A agonist",psychoactiveEffects:["visual distortion","mystical states"],foundInHerbs:["psilocybe-cubensis"]},{name:"Mitragynine",class:"indole alkaloid",effects:["stimulant","analgesic"],sourceHerbs:["kratom-hybrids"],mechanismOfAction:"Partial Î¼-opioid agonist",psychoactiveEffects:["energy boost","pain relief"],foundInHerbs:["kratom-hybrids"]},{name:"Harmine",class:"beta-carboline",effects:["MAOI","psychedelic potentiator"],sourceHerbs:["banisteriopsis-caapi"],mechanismOfAction:"Reversible MAO-A inhibitor",psychoactiveEffects:["potentiates DMT"],foundInHerbs:["banisteriopsis-caapi"]},{name:"Thujone",class:"monoterpene",effects:["GABA antagonist"],sourceHerbs:["salvia-apiana","achillea-millefolium"],mechanismOfAction:"GABA_A receptor antagonist",psychoactiveEffects:["stimulant","convulsant at high dose"],foundInHerbs:["salvia-apiana","achillea-millefolium"],toxicityWarning:"Convulsant at high doses"}];function N(){const[s]=l.useState(E);return l.useEffect(()=>{s.forEach(a=>{(a.foundInHerbs??a.sourceHerbs).forEach(o=>{x.find(r=>r.id===o)||console.warn(`Compound ${a.name} references missing herb: ${o}`)})}),x.forEach(a=>{var c;(c=a.activeConstituents)==null||c.forEach(o=>{s.find(r=>r.name.toLowerCase()===o.name.toLowerCase())||console.warn(`Herb ${a.name} lists unknown compound: ${o.name}`)})})},[s]),s}const g={alkaloid:"purple",terpene:"green",glycoside:"yellow",phenethylamine:"pink",tryptamine:"blue"};function k({compound:s}){var i;const[a,c]=p.useState(!1),o=Object.keys(g).find(n=>s.class.toLowerCase().includes(n)),r=o?g[o]:"purple";return e.jsxs(h.article,{layout:!0,onClick:()=>c(n=>!n),whileHover:{scale:1.05},whileTap:{scale:.98},tabIndex:0,className:"glass-card hover-glow cursor-pointer rounded-xl p-4 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-psychedelic-pink",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-moss",children:e.jsx(v,{label:s.class,variant:r,className:"mr-2"})}),s.effects.length>0&&e.jsxs("p",{className:"mt-1 text-sm text-sand",children:["Effects: ",s.effects.join(", ")]}),s.notes&&e.jsx("p",{className:"mt-1 text-xs italic text-sand",children:s.notes}),s.toxicityWarning&&e.jsx(w,{text:s.toxicityWarning,children:e.jsx("span",{className:"mt-1 inline-flex items-center text-red-400",children:"â˜£ï¸"})}),a&&e.jsxs(h.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:80,damping:16},className:"mt-2 space-y-1 text-sm text-sand",children:[s.mechanismOfAction&&e.jsxs("p",{children:[e.jsx("strong",{children:"Mechanism:"})," ",s.mechanismOfAction]}),((i=s.psychoactiveEffects)==null?void 0:i.length)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Effects:"})," ",s.psychoactiveEffects.join(", ")]}),(s.foundInHerbs??s.sourceHerbs).length>0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Found In:"})," ",(s.foundInHerbs??s.sourceHerbs).map((n,m)=>e.jsxs(l.Fragment,{children:[m>0&&", ",e.jsx(b,{to:`/herbs/${n}`,className:"underline",children:n.replace(/-/g," ")})]},n))]})]}),e.jsx(b,{to:`/database?herbs=${s.sourceHerbs.join(",")}`,className:"tag-pill mt-2 inline-block",children:"ðŸ§¬ Source Herb"})]})}function I({options:s,onChange:a}){const[c,o]=p.useState([]),r=i=>{o(n=>n.includes(i)?n.filter(m=>m!==i):[...n,i])};return p.useEffect(()=>{a==null||a(c)},[c,a]),e.jsxs("div",{className:"flex gap-2 overflow-x-auto py-2 no-scrollbar",children:[s.map(i=>{const n=c.includes(i.value);return e.jsx(h.button,{type:"button",onClick:()=>r(i.value),whileTap:{scale:.9},whileHover:{scale:1.08},animate:n?{scale:[1,1.15,1],boxShadow:"0 0 8px rgba(16,185,129,0.8)"}:{scale:1,boxShadow:"none"},transition:{type:"spring",stiffness:220,damping:12},className:`tag-pill whitespace-nowrap hover-glow ${n?"bg-emerald-700/70 text-white ring-2 ring-emerald-400":"bg-space-dark/70 text-sand"}`,children:i.label},i.value)}),c.length>0&&e.jsx(h.button,{type:"button",onClick:()=>o([]),whileTap:{scale:.9},whileHover:{scale:1.08},transition:{type:"spring",stiffness:220,damping:12},className:"tag-pill whitespace-nowrap hover-glow bg-rose-700/70 text-white",children:"Clear"})]})}function O(){const s=N(),a=C(),c=l.useMemo(()=>Array.from(new Set(s.map(t=>t.class.toLowerCase()))),[s]),o=l.useMemo(()=>{const t={};return a.forEach(d=>{t[d.id]=d.name}),t},[a]),r=l.useMemo(()=>Array.from(new Set(s.flatMap(t=>t.sourceHerbs))).map(t=>({value:t,label:o[t]||t.replace(/-/g," ")})),[s,o]),[i,n]=l.useState([]),[m,y]=l.useState([]),j=l.useMemo(()=>{let t=s;return i.length&&(t=t.filter(d=>i.every(f=>d.class.toLowerCase().includes(f.toLowerCase())))),m.length&&(t=t.filter(d=>m.every(f=>{var u;return d.sourceHerbs.includes(f)||((u=d.foundInHerbs)==null?void 0:u.includes(f))}))),t},[s,i,m]);return e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx("title",{children:"Psychoactive Compounds - The Hippie Scientist"})}),e.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:e.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[e.jsx("h1",{className:"text-gradient mb-6 text-5xl font-bold",children:"Psychoactive Compounds"}),e.jsx("p",{className:"mb-8 text-sand",children:"List of notable active constituents and their source herbs."}),e.jsx(A,{tags:c,onChange:n}),e.jsx(I,{options:r,onChange:t=>y(t)}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:j.map(t=>e.jsx(k,{compound:t},t.name))})]})})]})}export{O as default};
