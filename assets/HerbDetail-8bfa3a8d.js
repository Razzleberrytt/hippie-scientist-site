import{l as y,h as j,R as r,j as e,L as l,W as b,m as N}from"./main-0a80006b.js";import{h as f}from"./herbs-1a1e5de8.js";import{s as v,d as k,t as w}from"./format-5969a492.js";import{T as S}from"./TagBadge-8cdd78d0.js";import{s as C}from"./slugify-386a61cd.js";import{u as A}from"./useLocalStorage-b85b51a4.js";/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function L(i){return f.map(a=>{if(a.id===i.id)return{h:a,score:-1};let n=0;const m=new Set(a.tags),d=new Set(a.effects||[]);return i.tags.forEach(c=>{m.has(c)&&(n+=2)}),(i.effects||[]).forEach(c=>{d.has(c)&&(n+=1)}),i.mechanismOfAction&&a.mechanismOfAction&&i.mechanismOfAction===a.mechanismOfAction&&(n+=2),{h:a,score:n}}).sort((a,n)=>n.score-a.score).slice(0,5).filter(a=>a.score>0).map(a=>a.h)}function I(){var h;const{id:i}=j(),s=f.find(t=>t.id===i),[a,n]=A(`notes-${i}`,""),[m,d]=r.useState(!1),[c,u]=r.useState(!1),p=()=>{const t=`${window.location.origin}/herb/${s==null?void 0:s.id}`;navigator.clipboard.writeText(t)};if(!s)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{children:"Herb not found."}),e.jsx(l,{to:"/database",className:"text-comet underline",children:"Back to database"})]});const x=r.useMemo(()=>L(s),[s]),g=`${s.name} is classified as ${s.category}. Known effects include ${(s.effects||[]).join(", ")}.`;return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsxs("title",{children:[s.name," - The Hippie Scientist"]})}),e.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},className:"glass-card mx-auto max-w-3xl space-y-6 overflow-y-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{to:"/database",onClick:()=>localStorage.setItem("focusHerb",s.id),className:"text-comet underline",children:"← Back"}),e.jsx("button",{type:"button","aria-label":"Copy link",onClick:p,className:"rounded-md p-1 text-sand hover:bg-white/20",children:e.jsx($,{size:18})})]}),e.jsx("h1",{className:"text-gradient text-4xl font-bold",children:s.name}),s.scientificName&&e.jsx("p",{className:"italic",children:s.scientificName}),e.jsxs("div",{className:"space-y-2",children:[["description","mechanismOfAction","therapeuticUses","sideEffects","contraindications","drugInteractions","preparation","dosage","pharmacokinetics","onset","duration","intensity","region","legalStatus","safetyRating","toxicity","toxicityLD50"].map(t=>{const o=s[t];return o?e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-lime-300",children:[t.replace(/([A-Z])/g," $1"),":"]})," ",t==="safetyRating"?e.jsx("span",{className:v(o),children:o}):o]},t):null}),((h=s.activeConstituents)==null?void 0:h.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Active Compounds:"})," ",(c?s.activeConstituents:s.activeConstituents.slice(0,5)).map((t,o)=>e.jsxs(r.Fragment,{children:[o>0&&", ",e.jsx(l,{className:"text-sky-300 underline",to:`/compounds?compound=${C(t.name)}`,children:t.name})]},t.name)),s.activeConstituents.length>5&&!c&&e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"ml-2 underline",children:["+",s.activeConstituents.length-5," more"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:s.tags.map(t=>e.jsx(S,{label:k(t),variant:w(t)},t))}),s.affiliateLink&&e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsx("a",{href:s.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"hover-glow block min-h-[44px] rounded-md bg-gradient-to-r from-green-700 to-lime-600 px-4 py-2 text-center text-white",children:"🌐 Buy Online"}),e.jsx("p",{className:"text-xs text-sand",children:"As an Amazon Associate, I earn from qualifying purchases. Some links on this page may be affiliate links."})]})]}),e.jsx("button",{type:"button",className:"rounded-md bg-gradient-to-r from-violet-900 to-sky-900 px-3 py-2 text-white hover:opacity-90",onClick:()=>d(t=>!t),children:"🧠 Smart Explore"}),m&&x.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"mt-4 text-2xl font-bold text-sky-300",children:"Similar Herbs"}),e.jsx("ul",{className:"list-disc list-inside",children:x.map(t=>e.jsx("li",{children:e.jsx(l,{className:"text-comet underline",to:`/herbs/${t.id}`,children:t.name})},t.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-sky-300",children:"Your Notes"}),e.jsx("textarea",{value:a,onChange:t=>n(t.target.value),className:"mt-2 w-full rounded-md bg-black/20 p-2 text-white",rows:5})]}),e.jsxs("details",{className:"bg-slate-800/40 p-4 rounded-md",children:[e.jsx("summary",{className:"cursor-pointer text-sky-300",children:"🧬 Summarize This Herb"}),e.jsx("p",{className:"mt-2",children:g})]})]})]})}export{I as default};
