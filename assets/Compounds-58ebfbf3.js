import{r,h as g,p as y,j as s,W as f,m as d,A as C}from"./main-5479a281.js";import{C as j,a as b}from"./CompoundTagFilter-9912cd72.js";import{m as v}from"./useFilteredHerbs-5143524c.js";function F(){const[c,u]=r.useState(""),[l,p]=r.useState([]),m=r.useMemo(()=>{const e=new Map;return g.forEach(t=>{e.set(t.name.toLowerCase(),{slug:t.slug,category:t.category})}),e},[]),n=r.useMemo(()=>y.map(e=>{const t=e.foundIn.map(o=>{const a=m.get(o.toLowerCase());return{name:o,slug:a==null?void 0:a.slug,category:a==null?void 0:a.category}}),i=new Set(t.map(o=>o.category?v(o.category):void 0).filter(Boolean));return{...e,herbsFound:t,effectClass:Array.from(i).join(", ")}}),[m]),h=r.useMemo(()=>Array.from(new Set(n.map(e=>e.type))).sort().map(e=>({label:e,value:e})),[n]),x=r.useMemo(()=>n.filter(e=>{const t=c.trim().toLowerCase(),i=!t||e.name.toLowerCase().includes(t)||e.herbsFound.some(a=>a.name.toLowerCase().includes(t)),o=l.length===0||l.includes(e.type);return i&&o}),[c,l,n]);return s.jsxs(s.Fragment,{children:[s.jsx(f,{children:s.jsx("title",{children:"Psychoactive Compounds Index - The Hippie Scientist"})}),s.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:s.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[s.jsx("h1",{className:"text-gradient mb-2 text-4xl font-bold",children:"Psychoactive Compounds Index"}),s.jsx("p",{className:"mb-6 text-sand",children:"Explore the active ingredients behind each herbâ€™s effects"}),s.jsxs("div",{className:"mb-4 flex flex-col items-center gap-4",children:[s.jsx("input",{type:"text",placeholder:"Search compounds or herbs...",value:c,onChange:e=>u(e.target.value),className:"w-full rounded-md bg-space-dark/70 px-3 py-2 text-white backdrop-blur-md focus:outline-none sm:w-72"}),s.jsx(j,{options:h,onChange:p})]}),s.jsx(d.div,{layout:!0,className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.jsx(C,{children:x.map(e=>s.jsx(d.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(b,{compound:e})},e.name))})})]})})]})}export{F as default};
