import{h,R as d,j as e,L as m,W as p,m as u}from"./main-c9bef5d5.js";import{h as x,u as j,T as g}from"./herbs-6c10be05.js";import{s as N,d as b,t as y}from"./format-45884e8d.js";function S(i){return x.map(t=>{if(t.id===i.id)return{h:t,score:-1};let n=0;const l=new Set(t.tags),o=new Set(t.effects||[]);return i.tags.forEach(c=>{l.has(c)&&(n+=2)}),(i.effects||[]).forEach(c=>{o.has(c)&&(n+=1)}),i.mechanismOfAction&&t.mechanismOfAction&&i.mechanismOfAction===t.mechanismOfAction&&(n+=2),{h:t,score:n}}).sort((t,n)=>n.score-t.score).slice(0,5).filter(t=>t.score>0).map(t=>t.h)}function A(){const{id:i}=h(),a=x.find(s=>s.id===i),[t,n]=j(`notes-${i}`,""),[l,o]=d.useState(!1);if(!a)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{children:"Herb not found."}),e.jsx(m,{to:"/database",className:"text-comet underline",children:"Back to database"})]});const c=d.useMemo(()=>S(a),[a]),f=`${a.name} is classified as ${a.category}. Known effects include ${(a.effects||[]).join(", ")}.`;return e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsxs("title",{children:[a.name," - The Hippie Scientist"]})}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-auto max-w-3xl px-6 py-12 space-y-6",children:[e.jsx(m,{to:"/database",className:"text-comet underline",children:"← Back"}),e.jsx("h1",{className:"text-gradient text-4xl font-bold",children:a.name}),a.scientificName&&e.jsx("p",{className:"italic",children:a.scientificName}),e.jsxs("div",{className:"space-y-2",children:[["description","mechanismOfAction","therapeuticUses","sideEffects","contraindications","drugInteractions","preparation","pharmacokinetics","onset","duration","intensity","region","legalStatus","safetyRating","toxicity","toxicityLD50"].map(s=>{const r=a[s];return r?e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-lime-300",children:[s.replace(/([A-Z])/g," $1"),":"]})," ",s==="safetyRating"?e.jsx("span",{className:N(r),children:r}):r]},s):null}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:a.tags.map(s=>e.jsx(g,{label:b(s),variant:y(s)},s))})]}),e.jsx("button",{type:"button",className:"rounded-md bg-gradient-to-r from-violet-900 to-sky-900 px-3 py-2 text-white hover:opacity-90",onClick:()=>o(s=>!s),children:"🧠 Smart Explore"}),l&&c.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"mt-4 text-2xl font-bold text-sky-300",children:"Similar Herbs"}),e.jsx("ul",{className:"list-disc list-inside",children:c.map(s=>e.jsx("li",{children:e.jsx(m,{className:"text-comet underline",to:`/herbs/${s.id}`,children:s.name})},s.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-sky-300",children:"Your Notes"}),e.jsx("textarea",{value:t,onChange:s=>n(s.target.value),className:"mt-2 w-full rounded-md bg-black/20 p-2 text-white",rows:5})]}),e.jsxs("details",{className:"bg-slate-800/40 p-4 rounded-md",children:[e.jsx("summary",{className:"cursor-pointer text-sky-300",children:"🧬 Summarize This Herb"}),e.jsx("p",{className:"mt-2",children:f})]})]})]})}export{A as default};
