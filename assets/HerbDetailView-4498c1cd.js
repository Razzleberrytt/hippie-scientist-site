import{R as r,j as e,g as y,L as m,W as g,m as k}from"./main-63298e01.js";import{a as w,d as C,t as L}from"./herbs-3ee75735.js";import{u as S,T}from"./useLocalStorage-c7957748.js";import{s as $}from"./slugify-386a61cd.js";function D({tabs:n}){var l;const[s,c]=r.useState(0),[o,d]=r.useState(!1);return r.useEffect(()=>{const t=()=>d(window.innerWidth<640);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),o?e.jsx("div",{className:"space-y-4",children:n.map((t,a)=>e.jsxs("details",{open:a===s,className:"rounded-md bg-black/20 p-2",onClick:()=>c(a),children:[e.jsx("summary",{className:"cursor-pointer font-semibold",children:t.label}),e.jsx("div",{className:"mt-2",children:t.content})]},t.id))}):e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-2 border-b border-comet/30",children:n.map((t,a)=>e.jsx("button",{type:"button",onClick:()=>c(a),className:`px-3 py-2 text-sm ${a===s?"border-b-2 border-sky-300 text-sky-300":"text-sand hover:text-sky-300"}`,children:t.label},t.id))}),e.jsx("div",{className:"pt-4",children:(l=n[s])==null?void 0:l.content})]})}function R(){var x,h;const{id:n}=y(),s=w.find(i=>i.id===n),[c,o]=S(`notes-${n}`,""),[d,l]=r.useState(!1);if(!s)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{children:"Herb not found."}),e.jsx(m,{to:"/database",className:"text-comet underline",children:"Back to database"})]});const t=`https://thehippiescientist.net/#/herb/${s.id}`,a=async()=>{try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>l(!1),2e3)}catch{}},p=()=>o(""),j=e.jsxs("div",{className:"space-y-2",children:[((x=s.effects)==null?void 0:x.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Effects:"})," ",s.effects.join(", ")]}),s.region&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Region:"})," ",s.region]}),s.history&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"History:"})," ",s.history]}),s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:s.tags.map(i=>e.jsx(T,{label:C(i),variant:L(i)},i))})]}),f=e.jsxs("div",{className:"space-y-2",children:[((h=s.activeConstituents)==null?void 0:h.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Compounds:"})," ",s.activeConstituents.map((i,N)=>e.jsxs(r.Fragment,{children:[N>0&&", ",e.jsx(m,{className:"text-sky-300 underline",to:`/compounds#${$(i.name)}`,children:i.name})]},i.name))]}),s.mechanismOfAction&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Mechanism:"})," ",s.mechanismOfAction]}),s.toxicityLD50&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"LD50:"})," ",s.toxicityLD50]})]}),u=e.jsxs("div",{className:"space-y-2",children:[s.preparation&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Prep:"})," ",s.preparation]}),s.intensity&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Intensity:"})," ",s.intensity]}),s.dosage&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-lime-300",children:"Dosage:"})," ",s.dosage]}),s.affiliateLink&&s.affiliateLink.startsWith("http")&&e.jsx("a",{href:s.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"text-sky-300 underline",children:"Buy Online"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-sky-300",children:"Usage Log"}),e.jsx("textarea",{value:c,onChange:i=>o(i.target.value),className:"mt-2 w-full rounded-md bg-black/20 p-2 text-white",rows:5}),e.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[c&&e.jsx("span",{className:"text-sm text-sand/80",children:"Saved"}),c&&e.jsx("button",{type:"button",onClick:p,className:"text-sky-300 underline",children:"Clear Notes"})]})]})]}),b=[{id:"overview",label:"Overview",content:j},{id:"chemistry",label:"Chemistry",content:f},{id:"usage",label:"Usage",content:u}],v=`${s.name} is classified as ${s.category}. Known effects include ${(s.effects||[]).join(", ")}.`;return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:[e.jsxs("title",{children:[s.name," - The Hippie Scientist"]}),s.description&&e.jsx("meta",{name:"description",content:s.description})]}),e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-auto max-w-3xl space-y-6 px-6 py-12",children:[e.jsx(m,{to:"/database",className:"text-comet underline",children:"‚Üê Back"}),e.jsx("h1",{className:"text-gradient text-4xl font-bold",children:s.name}),s.scientificName&&e.jsx("p",{className:"italic",children:s.scientificName}),e.jsx("button",{type:"button",onClick:a,className:"rounded-md bg-black/30 px-3 py-2 text-sm text-sand hover:bg-white/10 backdrop-blur-md",children:d?"‚úÖ Copied!":"Share üîó"}),e.jsx(D,{tabs:b}),e.jsxs("details",{className:"rounded-md bg-slate-800/40 p-4",children:[e.jsx("summary",{className:"cursor-pointer text-sky-300",children:"üß¨ Summarize This Herb"}),e.jsx("p",{className:"mt-2",children:v})]})]})]})}export{R as default};
