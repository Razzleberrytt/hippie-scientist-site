import{i as H,u as g,a as A,c as I,f as R,b as y,d as T,r as f,j as t,m as p,R as m}from"./main-bcc93350.js";import{l as $,f as E,H as V}from"./index-d998bb9f.js";import{d as j}from"./format-45884e8d.js";import{F as B}from"./fuse-11af6271.js";import{h as k}from"./herbs-3eddf340.js";import"./star-d9dc66a3.js";const L=e=>e&&typeof e=="object"&&e.mix,P=e=>L(e)?e.mix:void 0;function X(...e){const a=!Array.isArray(e[0]),s=a?0:-1,o=e[0+s],n=e[1+s],c=e[2+s],d=e[3+s],i=H(n,c,{mixer:P(c[0]),...d});return a?i(o):i}function N(e,a){const s=g(a()),o=()=>s.set(a());return o(),A(()=>{const n=()=>R.update(o,!1,!0),c=e.map(d=>d.on("change",n));return()=>{c.forEach(d=>d()),I(o)}}),s}function Y(e){y.current=[],e();const a=N(y.current,e);return y.current=void 0,a}function v(e,a,s,o){if(typeof e=="function")return Y(e);const n=typeof a=="function"?a:X(a,s,o);return Array.isArray(e)?w(e,n):w([e],([c])=>n(c))}function w(e,a){const s=T(()=>[]);return N(e,()=>{s.length=0;const o=e.length;for(let n=0;n<o;n++)s[n]=e[n].get();return a(s)})}const _=()=>{const e=g(0),a=g(0),s=typeof window<"u"?window.innerWidth:1,o=typeof window<"u"?window.innerHeight:1,n=v(e,[0,s],[-30,30]),c=v(a,[0,o],[-30,30]),d=f.useMemo(()=>Array.from({length:25},(i,h)=>({id:h,size:Math.random()*4+2,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5})),[]);return t.jsxs(p.div,{className:"absolute inset-0 -z-10 overflow-hidden",onMouseMove:i=>{e.set(i.clientX),a.set(i.clientY)},children:[d.map(i=>t.jsx(p.span,{style:{width:i.size,height:i.size,left:`${i.x}%`,top:`${i.y}%`},className:"absolute rounded-full bg-forest-green/20",animate:{y:[-10,10,-10]},transition:{duration:8,ease:"easeInOut",repeat:1/0,delay:i.delay}},i.id)),t.jsx(p.div,{className:"bg-cosmic-gradient animate-gradient absolute inset-0",style:{x:n,y:c}})]})},q=_;function O(){const e=f.useCallback(async a=>{await $(a)},[]);return t.jsx(E,{id:"tsparticles",init:e,options:{fullScreen:{enable:!0,zIndex:-1},particles:{color:{value:"#ffffff"},number:{value:40,density:{enable:!0,area:800}},size:{value:1},move:{enable:!0,speed:.3},opacity:{value:.2}},background:{color:"#0c0c1a"}}})}const D=()=>{const e=f.useMemo(()=>Array.from({length:20},(a,s)=>({id:s,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5})),[]);return t.jsx("div",{className:"pointer-events-none fixed inset-0 overflow-hidden","aria-hidden":"true",children:e.map(a=>t.jsx(p.div,{className:"absolute rounded-full",style:{width:a.size,height:a.size,left:`${a.x}%`,top:`${a.y}%`,background:"radial-gradient(circle, rgba(34, 197, 94, 0.15) 0%, transparent 70%)",willChange:"transform, opacity"},animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:a.duration,repeat:1/0,delay:a.delay,ease:"easeInOut"}},a.id))})},Q=D;function U(){return t.jsxs("section",{className:"relative flex min-h-[60vh] items-center justify-center overflow-hidden py-16 text-center",children:[t.jsx(O,{}),t.jsx(q,{}),t.jsx(Q,{}),t.jsxs(p.div,{className:"relative z-10 px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx("h1",{className:"text-gradient animate-ripple mb-4 font-display text-5xl md:text-6xl",children:"The Hippie Scientist"}),t.jsx("p",{className:"text-lg text-opal",children:"Psychedelic Botany & Conscious Exploration"})]})]})}const W=({herbs:e,onFilter:a})=>{const[s,o]=m.useState(""),[n,c]=m.useState([]),[d,i]=m.useState(""),h=m.useMemo(()=>new B(e,{keys:["name","scientificName","tags"],threshold:.3}),[e]),M=()=>{const r=e[Math.floor(Math.random()*e.length)];a([r])},C=m.useMemo(()=>{const r=e.reduce((l,u)=>l.concat(u.tags),[]);return Array.from(new Set(r))},[e]),S=r=>{const l=r.target.value;l&&!n.includes(l)&&c(u=>[...u,l]),r.target.value=""},z=r=>{c(l=>l.filter(u=>u!==r))},F=()=>{o(""),c([]),i(""),a(e)},b=m.useMemo(()=>{const r=s.trim();let l=e;return r&&(l=h.search(r).map(u=>u.item)),n.length&&(l=l.filter(u=>n.every(x=>u.tags.includes(x)))),d==="intensity"?l=[...l].sort((u,x)=>u.intensity.localeCompare(x.intensity)):d==="onset"?l=[...l].sort((u,x)=>u.onset.localeCompare(x.onset)):d==="safetyRating"&&(l=[...l].sort((u,x)=>(u.safetyRating??0)-(x.safetyRating??0))),l},[e,s,n,d]);return m.useEffect(()=>{a(b)},[b,a]),t.jsxs("div",{className:"sticky top-20 z-10 mb-8 space-y-4 rounded-lg bg-white/70 p-4 backdrop-blur-md dark:bg-space-dark/70",children:[t.jsx("input",{type:"text",placeholder:"Search herbs...","aria-label":"Search herbs",value:s,onChange:r=>o(r.target.value),className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-black focus:outline-none focus:ring-2 focus:ring-purple-500 dark:border-gray-700 dark:bg-gray-900 dark:text-white"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.map(r=>t.jsx("button",{type:"button",onClick:()=>z(r),className:"tag-pill",children:j(r)},r)),t.jsxs("select",{onChange:S,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black dark:border-gray-700 dark:bg-gray-900 dark:text-white",defaultValue:"",children:[t.jsx("option",{value:"",children:"Add Tag Filter..."}),C.map(r=>t.jsx("option",{value:r,children:j(r)},r))]}),t.jsx("button",{type:"button",onClick:M,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:hover:bg-gray-700",children:"Random Herb"}),t.jsxs("select",{value:d,onChange:r=>i(r.target.value),className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black dark:border-gray-700 dark:bg-gray-900 dark:text-white",children:[t.jsx("option",{value:"",children:"Sort By..."}),t.jsx("option",{value:"intensity",children:"Intensity"}),t.jsx("option",{value:"onset",children:"Onset"}),t.jsx("option",{value:"safetyRating",children:"Safety"})]}),t.jsx("button",{type:"button",onClick:F,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:hover:bg-gray-700",children:"Clear Filters"})]})]})},G=W,J=({currentPage:e,totalPages:a,onPageChange:s})=>{const o=Array.from({length:a},(n,c)=>c+1);return t.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[t.jsx("button",{type:"button",disabled:e===1,onClick:()=>s(e-1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Prev"}),o.map(n=>t.jsx(p.button,{whileHover:{scale:1.1},onClick:()=>s(n),className:`rounded px-2 py-1 text-sm ${n===e?"bg-cosmic-purple text-white":"text-sand"}`,children:n},n)),t.jsx("button",{type:"button",disabled:e===a,onClick:()=>s(e+1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Next"})]})},K=J;function re(){const[e,a]=m.useState(k),[s,o]=m.useState(1),n=6,c=Math.ceil(e.length/n),d=m.useMemo(()=>e.slice((s-1)*n,s*n),[e,s]),i=h=>{a(h),o(1)};return t.jsxs("main",{className:"min-h-screen bg-white text-black dark:bg-black dark:text-white px-4 py-10",children:[t.jsx(U,{}),t.jsxs("section",{className:"mx-auto max-w-4xl space-y-10",children:[t.jsx("p",{className:"text-center text-lg text-opal",children:"Discover visionary plants used throughout history. Search the database or browse page by page."}),t.jsx(G,{herbs:k,onFilter:i}),t.jsxs(p.div,{layout:!0,children:[t.jsx("h2",{className:"text-gradient mb-4 font-display text-3xl",children:"Herb Index"}),t.jsx(V,{herbs:d}),t.jsx(K,{currentPage:s,totalPages:c,onPageChange:o})]})]})]})}export{re as default};
