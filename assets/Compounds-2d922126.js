import{l as j,o as b,R as l,j as e,W as L,L as o}from"./main-7366ef95.js";import{b as w,h as v}from"./compoundData-ce3d2f18.js";import{s as h}from"./slugify-386a61cd.js";import{F as M,L as C}from"./leaf-133c0a4e.js";/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=j("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=j("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);function f(d){const i=d.toLowerCase();return i.includes("alkaloid")?e.jsx(M,{className:"mr-1 inline h-4 w-4"}):i.includes("terpene")?e.jsx(C,{className:"mr-1 inline h-4 w-4"}):i.includes("glycoside")?e.jsx(B,{className:"mr-1 inline h-4 w-4"}):i.includes("phenolic")||i.includes("coumarin")?e.jsx(F,{className:"mr-1 inline h-4 w-4"}):null}function S(){const[d]=b(),i=d.get("compound"),[c,k]=l.useState([]),m=l.useMemo(()=>{const s=new Map;return w.forEach(n=>{s.set(n.name,{...n,sources:[]})}),v.forEach(n=>{var a;(a=n.activeConstituents)==null||a.forEach(x=>{const u=x.name;if(!s.has(u))s.set(u,{name:x.name,type:x.type,mechanism:"",affiliateLink:void 0,sources:[{id:n.id,name:n.name,link:n.affiliateLink}]});else{const p=s.get(u);p.sources.find(g=>g.id===n.id)||p.sources.push({id:n.id,name:n.name,link:n.affiliateLink})}})}),Array.from(s.values())},[]),r=l.useMemo(()=>[...m].sort((s,n)=>s.name.localeCompare(n.name)),[m]),N=l.useMemo(()=>{const s=m.reduce((n,a)=>n.concat(a.tags||[]),[]);return Array.from(new Set(s))},[m]),t=l.useMemo(()=>r.find(s=>i&&h(s.name)===i)||null,[r,i]),y=l.useMemo(()=>c.length===0?r:r.filter(s=>{var n;return(n=s.tags)==null?void 0:n.some(a=>c.includes(a))}),[r,c]);return e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:"Psychoactive Compounds - The Hippie Scientist"}),e.jsx("meta",{name:"description",content:"Browse active constituents found in herbs and learn their mechanisms."})]}),e.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:e.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[e.jsx("h1",{className:"text-gradient mb-6 text-5xl font-bold",children:"Psychoactive Compounds"}),e.jsx("p",{className:"mb-8 text-sand",children:"Prototype view of active constituents found in the herb database."}),t?e.jsxs("div",{className:"glass-card mb-6 p-4 text-left",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-moss",children:[f(t.type),t.type]}),t.mechanism&&e.jsxs("p",{className:"text-xs text-sand",children:["MOA: ",t.mechanism]}),t.aliases&&t.aliases.length>0&&e.jsxs("p",{className:"text-xs text-sand",children:["Also known as: ",t.aliases.join(", ")]}),e.jsxs("p",{className:"text-xs text-sand",children:["Herbs:",t.sources.map((s,n)=>e.jsxs(l.Fragment,{children:[n>0&&", ",e.jsx(o,{to:`/herbs/${s.id}`,className:"underline",children:s.name}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-300 underline",children:"Buy"})]},s.id))]}),t.affiliateLink&&e.jsx("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block min-h-[44px] text-sm text-sky-300 underline",children:"Buy Online"}),e.jsx("div",{className:"mt-2",children:e.jsx(o,{to:"/compounds",className:"text-comet underline",children:"Back to list"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex flex-wrap justify-center gap-2",children:N.map(s=>e.jsx("button",{type:"button",onClick:()=>k(n=>n.includes(s)?n.filter(a=>a!==s):[...n,s]),className:`tag-pill ${c.includes(s)?"ring-2 ring-emerald-400":""}`,children:s},s))}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:y.map(s=>e.jsxs("div",{id:h(s.name),className:"glass-card flex flex-col p-4 text-left",children:[e.jsx("h2",{className:"max-w-xs truncate text-xl font-bold text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-moss",children:[f(s.type),s.type]}),s.tags&&e.jsxs("p",{className:"mb-1 text-xs text-sand",children:["Tags: ",s.tags.join(", ")]}),s.mechanism&&e.jsxs("p",{className:"text-xs text-sand",children:["MOA: ",s.mechanism]}),e.jsxs("p",{className:"text-xs text-sand",children:["Herbs:",s.sources.map((n,a)=>e.jsxs(l.Fragment,{children:[a>0&&", ",e.jsx(o,{to:`/herbs/${n.id}`,className:"underline",children:n.name}),n.link&&e.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-300 underline",children:"Buy"})]},n.id))]}),s.affiliateLink&&e.jsx("a",{href:s.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block min-h-[44px] text-sm text-sky-300 underline",children:"Buy Online"}),e.jsx(o,{to:`/compounds?compound=${h(s.name)}`,className:"mt-1 text-comet underline",children:"Detail"})]},s.name))})]})]})})]})}export{S as default};
