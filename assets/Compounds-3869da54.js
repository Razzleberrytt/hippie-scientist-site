import{l as k,o as L,R as l,j as e,W as w,L as d}from"./main-1c70c059.js";import{u as v,b as M}from"./compoundData-ba7aaba1.js";import{s as p}from"./slugify-386a61cd.js";import{F as C,L as F}from"./leaf-ade264a6.js";/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=k("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);function j(x){const i=x.toLowerCase();return i.includes("alkaloid")?e.jsx(C,{className:"mr-1 inline h-4 w-4"}):i.includes("terpene")?e.jsx(F,{className:"mr-1 inline h-4 w-4"}):i.includes("glycoside")?e.jsx(A,{className:"mr-1 inline h-4 w-4"}):i.includes("phenolic")||i.includes("coumarin")?e.jsx(B,{className:"mr-1 inline h-4 w-4"}):null}function S(){const[x]=L(),i=x.get("compound"),c=v(),[m,N]=l.useState([]),o=l.useMemo(()=>{const s=new Map;return M.forEach(n=>{s.set(n.name,{...n,sources:[]})}),c==null||c.forEach(n=>{var a;(a=n.activeConstituents)==null||a.forEach(u=>{const h=u.name;if(!s.has(h))s.set(h,{name:u.name,type:u.type,mechanism:"",affiliateLink:void 0,sources:[{id:n.id,name:n.name,link:n.affiliateLink}]});else{const f=s.get(h);f.sources.find(b=>b.id===n.id)||f.sources.push({id:n.id,name:n.name,link:n.affiliateLink})}})}),Array.from(s.values())},[c]),r=l.useMemo(()=>[...o].sort((s,n)=>s.name.localeCompare(n.name)),[o]),y=l.useMemo(()=>{const s=o.reduce((n,a)=>n.concat(a.tags||[]),[]);return Array.from(new Set(s))},[o]),t=l.useMemo(()=>r.find(s=>i&&p(s.name)===i)||null,[r,i]),g=l.useMemo(()=>m.length===0?r:r.filter(s=>{var n;return(n=s.tags)==null?void 0:n.some(a=>m.includes(a))}),[r,m]);return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsx("title",{children:"Psychoactive Compounds - The Hippie Scientist"}),e.jsx("meta",{name:"description",content:"Browse active constituents found in herbs and learn their mechanisms."})]}),e.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:e.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[e.jsx("h1",{className:"text-gradient mb-6 text-5xl font-bold",children:"Psychoactive Compounds"}),e.jsx("p",{className:"mb-8 text-sand",children:"Prototype view of active constituents found in the herb database."}),t?e.jsxs("div",{className:"glass-card mb-6 p-4 text-left",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-moss",children:[j(t.type),t.type]}),t.mechanism&&e.jsxs("p",{className:"text-xs text-sand",children:["MOA: ",t.mechanism]}),t.aliases&&t.aliases.length>0&&e.jsxs("p",{className:"text-xs text-sand",children:["Also known as: ",t.aliases.join(", ")]}),e.jsxs("p",{className:"text-xs text-sand",children:["Herbs:",t.sources.map((s,n)=>e.jsxs(l.Fragment,{children:[n>0&&", ",e.jsx(d,{to:`/herbs/${s.id}`,className:"underline",children:s.name}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-300 underline",children:"Buy"})]},s.id))]}),t.affiliateLink&&e.jsx("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block min-h-[44px] text-sm text-sky-300 underline",children:"Buy Online"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{to:"/compounds",className:"text-comet underline",children:"Back to list"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex flex-wrap justify-center gap-2",children:y.map(s=>e.jsx("button",{type:"button",onClick:()=>N(n=>n.includes(s)?n.filter(a=>a!==s):[...n,s]),className:`tag-pill ${m.includes(s)?"ring-2 ring-emerald-400":""}`,children:s},s))}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:g.map(s=>e.jsxs("div",{id:p(s.name),className:"glass-card flex flex-col p-4 text-left",children:[e.jsx("h2",{className:"max-w-xs truncate text-xl font-bold text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-moss",children:[j(s.type),s.type]}),s.tags&&e.jsxs("p",{className:"mb-1 text-xs text-sand",children:["Tags: ",s.tags.join(", ")]}),s.mechanism&&e.jsxs("p",{className:"text-xs text-sand",children:["MOA: ",s.mechanism]}),e.jsxs("p",{className:"text-xs text-sand",children:["Herbs:",s.sources.map((n,a)=>e.jsxs(l.Fragment,{children:[a>0&&", ",e.jsx(d,{to:`/herbs/${n.id}`,className:"underline",children:n.name}),n.link&&e.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-300 underline",children:"Buy"})]},n.id))]}),s.affiliateLink&&e.jsx("a",{href:s.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block min-h-[44px] text-sm text-sky-300 underline",children:"Buy Online"}),e.jsx(d,{to:`/compounds?compound=${p(s.name)}`,className:"mt-1 text-comet underline",children:"Detail"})]},s.name))})]})]})})]})}export{S as default};
