import{x as A,y as V,d as j,a as C,r as v,j as O,m as M}from"./main-0d350f8e.js";function T(t){t.values.forEach(r=>r.stop())}function _(){const t=new Set,r={subscribe(e){return t.add(e),()=>void t.delete(e)},start(e,n){const i=[];return t.forEach(o=>{i.push(A(o,e,{transitionOverride:n}))}),Promise.all(i)},set(e){return t.forEach(n=>{V(n,e)})},stop(){t.forEach(e=>{T(e)})},mount(){return()=>{r.stop()}}};return r}function B(){const t=j(_);return C(t.mount,[]),t}const F=B;var y=new Map,b=new WeakMap,S=0,$=void 0;function z(t){return t?(b.has(t)||(S+=1,b.set(t,S.toString())),b.get(t)):"0"}function L(t){return Object.keys(t).sort().filter(r=>t[r]!==void 0).map(r=>`${r}_${r==="root"?z(t.root):t[r]}`).toString()}function P(t){const r=L(t);let e=y.get(r);if(!e){const n=new Map;let i;const o=new IntersectionObserver(u=>{u.forEach(s=>{var c;const l=s.isIntersecting&&i.some(f=>s.intersectionRatio>=f);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=l),(c=n.get(s.target))==null||c.forEach(f=>{f(l,s)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),e={id:r,observer:o,elements:n},y.set(r,e)}return e}function W(t,r,e={},n=$){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=t.getBoundingClientRect();return r(n,{isIntersecting:n,target:t,intersectionRatio:typeof e.threshold=="number"?e.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:i,observer:o,elements:u}=P(e),s=u.get(t)||[];return u.has(t)||u.set(t,s),s.push(r),o.observe(t),function(){s.splice(s.indexOf(r),1),s.length===0&&(u.delete(t),o.unobserve(t)),u.size===0&&(o.disconnect(),y.delete(i))}}function q({threshold:t,delay:r,trackVisibility:e,rootMargin:n,root:i,triggerOnce:o,skip:u,initialInView:s,fallbackInView:c,onChange:l}={}){var f;const[h,x]=v.useState(null),g=v.useRef(l),[m,R]=v.useState({inView:!!s,entry:void 0});g.current=l,v.useEffect(()=>{if(u||!h)return;let d;return d=W(h,(I,E)=>{R({inView:I,entry:E}),g.current&&g.current(I,E),E.isIntersecting&&o&&d&&(d(),d=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:e,delay:r},c),()=>{d&&d()}},[Array.isArray(t)?t.toString():t,h,i,n,o,u,e,c,r]);const p=(f=m.entry)==null?void 0:f.target,w=v.useRef(void 0);!h&&p&&!o&&!u&&w.current!==p&&(w.current=p,R({inView:!!s,entry:void 0}));const a=[x,m.inView,m.entry];return a.ref=a[0],a.inView=a[1],a.entry=a[2],a}function G({children:t,className:r}){const e=F(),[n,i]=q({triggerOnce:!0,threshold:.2});return v.useEffect(()=>{i&&e.start("visible")},[e,i]),O.jsx(M.section,{ref:n,initial:"hidden",animate:e,variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},transition:{duration:.6},className:r,children:t})}export{G as F};
