import{R as n,j as t,W as j,L as v,m as N}from"./main-bba94b24.js";import{C as w}from"./CardShell-a5526ccb.js";import{F as S,d as m}from"./fuse-3c7d7c98.js";import{p as x}from"./posts-db1fccc0.js";const T=({posts:r,onFilter:c})=>{const[l,d]=n.useState(""),[o,i]=n.useState([]),h=n.useMemo(()=>new S(r,{keys:["title","excerpt","content","tags"],threshold:.3}),[r]),g=n.useMemo(()=>{const e=r.reduce((s,a)=>s.concat(a.tags),[]);return Array.from(new Set(e))},[r]),p=e=>{const s=e.target.value;s&&!o.includes(s)&&i(a=>[...a,s]),e.target.value=""},f=e=>{i(s=>s.filter(a=>a!==e))},y=()=>{d(""),i([]),c(r)},u=n.useMemo(()=>{const e=l.trim();let s=r;return e&&(s=h.search(e).map(a=>a.item)),o.length&&(s=s.filter(a=>o.every(b=>a.tags.includes(b)))),s},[r,l,o]);return n.useEffect(()=>{c(u)},[u,c]),t.jsxs("div",{className:"mb-8 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Search posts...","aria-label":"Search posts",value:l,onChange:e=>d(e.target.value),className:"w-full rounded-md border border-gray-700 bg-gray-900 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.map(e=>t.jsx("button",{type:"button",onClick:()=>f(e),className:"tag-pill",children:m(e)},e)),t.jsxs("select",{onChange:p,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white",defaultValue:"",children:[t.jsx("option",{value:"",children:"Add Tag Filter..."}),g.map(e=>t.jsx("option",{value:e,children:m(e)},e))]}),t.jsx("button",{type:"button",onClick:y,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white hover:bg-gray-700",children:"Clear Filters"})]})]})},M=()=>{const[r,c]=n.useState(x);return t.jsxs(t.Fragment,{children:[t.jsx(j,{children:t.jsx("title",{children:"Blog - The Hippie Scientist"})}),t.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 px-6 py-12",children:[t.jsx(T,{posts:x,onFilter:c}),r.map(l=>t.jsx(w,{className:"hover:shadow-intense",children:t.jsxs(v,{to:`/blog/${l.slug}`,className:"block space-y-2",children:[t.jsx(N.h2,{whileHover:{x:4},className:"text-gradient text-2xl font-bold",children:l.title}),t.jsx("p",{className:"text-moss",children:l.excerpt})]})},l.id))]})]})};export{M as default};
