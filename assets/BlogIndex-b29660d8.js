import{j as t,m as h,R as c,W as b,L as w}from"./main-d36a67cd.js";import{F as N,d as m}from"./fuse-3c7d7c98.js";import{p as x}from"./posts-db1fccc0.js";const S=({children:r,className:n})=>t.jsx(h.div,{whileHover:{scale:1.05},className:`glass-card relative rounded-lg p-4 hover:shadow-glow hover:ring-2 hover:ring-lichen/50 ${n??""}`,children:r}),T=({posts:r,onFilter:n})=>{const[l,d]=c.useState(""),[o,i]=c.useState([]),g=c.useMemo(()=>new N(r,{keys:["title","excerpt","content","tags"],threshold:.3}),[r]),p=c.useMemo(()=>{const e=r.reduce((s,a)=>s.concat(a.tags),[]);return Array.from(new Set(e))},[r]),f=e=>{const s=e.target.value;s&&!o.includes(s)&&i(a=>[...a,s]),e.target.value=""},y=e=>{i(s=>s.filter(a=>a!==e))},v=()=>{d(""),i([]),n(r)},u=c.useMemo(()=>{const e=l.trim();let s=r;return e&&(s=g.search(e).map(a=>a.item)),o.length&&(s=s.filter(a=>o.every(j=>a.tags.includes(j)))),s},[r,l,o]);return c.useEffect(()=>{n(u)},[u,n]),t.jsxs("div",{className:"mb-8 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Search posts...","aria-label":"Search posts",value:l,onChange:e=>d(e.target.value),className:"w-full rounded-md border border-gray-700 bg-gray-900 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.map(e=>t.jsx("button",{type:"button",onClick:()=>y(e),className:"tag-pill",children:m(e)},e)),t.jsxs("select",{onChange:f,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white",defaultValue:"",children:[t.jsx("option",{value:"",children:"Add Tag Filter..."}),p.map(e=>t.jsx("option",{value:e,children:m(e)},e))]}),t.jsx("button",{type:"button",onClick:v,className:"rounded-md border border-gray-700 bg-gray-900 px-2 py-1 text-sm text-white hover:bg-gray-700",children:"Clear Filters"})]})]})},A=()=>{const[r,n]=c.useState(x);return t.jsxs(t.Fragment,{children:[t.jsx(b,{children:t.jsx("title",{children:"Blog - The Hippie Scientist"})}),t.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 px-6 py-12",children:[t.jsx(T,{posts:x,onFilter:n}),r.map(l=>t.jsx(S,{className:"hover:shadow-intense",children:t.jsxs(w,{to:`/blog/${l.slug}`,className:"block space-y-2",children:[t.jsx(h.h2,{whileHover:{x:4},className:"text-gradient text-2xl font-bold",children:l.title}),t.jsx("p",{className:"text-moss",children:l.excerpt})]})},l.id))]})]})};export{A as default};
