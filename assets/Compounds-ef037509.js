import{R as l,h as g,r as b,j as s,m as p,s as A,T as N,L as x,I as E,W as S}from"./main-fd3c3d21.js";import{u as T}from"./useHerbs-64210664.js";import{T as y}from"./TagFilterBar-b62237be.js";const k=[{name:"Mescaline",class:"phenethylamine",effects:["psychedelic","empathogenic"],sourceHerbs:["lophophora-williamsii"],mechanismOfAction:"5-HT2A agonist",psychoactiveEffects:["visual enhancement","emotional openness"],foundInHerbs:["lophophora-williamsii"],toxicityWarning:"High doses may cause nausea and anxiety"},{name:"Psilocybin",class:"tryptamine",effects:["psychedelic"],sourceHerbs:["psilocybe-cubensis"],notes:"Converted to psilocin in the body",mechanismOfAction:"Converted to psilocin; 5-HT2A agonist",psychoactiveEffects:["visual distortion","mystical states"],foundInHerbs:["psilocybe-cubensis"]},{name:"Mitragynine",class:"indole alkaloid",effects:["stimulant","analgesic"],sourceHerbs:["kratom-hybrids"],mechanismOfAction:"Partial μ-opioid agonist",psychoactiveEffects:["energy boost","pain relief"],foundInHerbs:["kratom-hybrids"]},{name:"Harmine",class:"beta-carboline",effects:["MAOI","psychedelic potentiator"],sourceHerbs:["banisteriopsis-caapi"],mechanismOfAction:"Reversible MAO-A inhibitor",psychoactiveEffects:["potentiates DMT"],foundInHerbs:["banisteriopsis-caapi"]},{name:"Thujone",class:"monoterpene",effects:["GABA antagonist"],sourceHerbs:["salvia-apiana","achillea-millefolium"],mechanismOfAction:"GABA_A receptor antagonist",psychoactiveEffects:["stimulant","convulsant at high dose"],foundInHerbs:["salvia-apiana","achillea-millefolium"],toxicityWarning:"Convulsant at high doses"}];function I(){const[e]=l.useState(k);return l.useEffect(()=>{e.forEach(n=>{(n.foundInHerbs??n.sourceHerbs).forEach(r=>{g.find(m=>m.id===r)||console.warn(`Compound ${n.name} references missing herb: ${r}`)})}),g.forEach(n=>{var c;(c=n.activeConstituents)==null||c.forEach(r=>{e.find(m=>m.name.toLowerCase()===r.name.toLowerCase())||console.warn(`Herb ${n.name} lists unknown compound: ${r.name}`)})})},[e]),e}const j={alkaloid:"purple",terpene:"green",glycoside:"yellow",phenethylamine:"pink",tryptamine:"blue"};function M({compound:e}){var i;const[n,c]=b.useState(!1),r=Object.keys(j).find(a=>e.class.toLowerCase().includes(a)),m=r?j[r]:"purple";return s.jsxs(p.article,{id:A(e.name),layout:!0,onClick:()=>c(a=>!a),whileHover:{scale:1.05},whileTap:{scale:.98},tabIndex:0,className:"glass-card hover-glow cursor-pointer rounded-xl p-4 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-psychedelic-pink",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),s.jsx("p",{className:"text-sm text-moss",children:s.jsx(N,{label:e.class,variant:m,className:"mr-2"})}),e.effects.length>0&&s.jsxs("p",{className:"mt-1 text-sm text-sand",children:["Effects: ",e.effects.join(", ")]}),e.notes&&s.jsx("p",{className:"mt-1 text-xs italic text-sand",children:e.notes}),e.sourceHerbs.length>0&&!n&&s.jsxs("p",{className:"mt-1 text-sm text-sand",children:["Source:"," ",e.sourceHerbs.map((a,d)=>s.jsxs(l.Fragment,{children:[d>0&&", ",s.jsx(x,{to:`/herbs/${a}`,className:"underline",children:a.replace(/-/g," ")})]},a))]}),e.toxicityWarning&&s.jsx(E,{text:e.toxicityWarning,children:s.jsx("span",{className:"mt-1 inline-flex items-center text-red-400",children:"☣️"})}),n&&s.jsxs(p.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:80,damping:16},className:"mt-2 space-y-1 text-sm text-sand",children:[e.mechanismOfAction&&s.jsxs("p",{children:[s.jsx("strong",{children:"Mechanism:"})," ",e.mechanismOfAction]}),((i=e.psychoactiveEffects)==null?void 0:i.length)&&s.jsxs("p",{children:[s.jsx("strong",{children:"Effects:"})," ",e.psychoactiveEffects.join(", ")]}),(e.foundInHerbs??e.sourceHerbs).length>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Found In:"})," ",(e.foundInHerbs??e.sourceHerbs).map((a,d)=>s.jsxs(l.Fragment,{children:[d>0&&", ",s.jsx(x,{to:`/herbs/${a}`,className:"underline",children:a.replace(/-/g," ")})]},a))]})]}),s.jsx(x,{to:`/database?herbs=${e.sourceHerbs.join(",")}`,className:"tag-pill mt-2 inline-block",children:"🧬 Source Herb"})]})}function L({options:e,onChange:n}){const[c,r]=b.useState([]),m=i=>{r(a=>a.includes(i)?a.filter(d=>d!==i):[...a,i])};return b.useEffect(()=>{n==null||n(c)},[c,n]),s.jsxs("div",{className:"flex gap-2 overflow-x-auto py-2 no-scrollbar",children:[e.map(i=>{const a=c.includes(i.value);return s.jsx(p.button,{type:"button",onClick:()=>m(i.value),whileTap:{scale:.9},whileHover:{scale:1.08},animate:a?{scale:[1,1.15,1],boxShadow:"0 0 8px rgba(16,185,129,0.8)"}:{scale:1,boxShadow:"none"},transition:{type:"spring",stiffness:220,damping:12},className:`tag-pill whitespace-nowrap hover-glow ${a?"bg-emerald-700/70 text-white ring-2 ring-emerald-400":"bg-space-dark/70 text-sand"}`,children:i.label},i.value)}),c.length>0&&s.jsx(p.button,{type:"button",onClick:()=>r([]),whileTap:{scale:.9},whileHover:{scale:1.08},transition:{type:"spring",stiffness:220,damping:12},className:"tag-pill whitespace-nowrap hover-glow bg-rose-700/70 text-white",children:"Clear"})]})}function W(){const e=I(),n=T(),c=l.useMemo(()=>Array.from(new Set(e.map(t=>t.class.toLowerCase()))),[e]),r=l.useMemo(()=>{const t={};return n.forEach(o=>{t[o.id]=o.name}),t},[n]),m=l.useMemo(()=>Array.from(new Set(e.flatMap(t=>t.sourceHerbs))).map(t=>({value:t,label:r[t]||t.replace(/-/g," ")})),[e,r]),[i,a]=l.useState([]),[d,v]=l.useState([]),w=l.useMemo(()=>Array.from(new Set(e.flatMap(t=>t.effects.map(o=>o.toLowerCase())))),[e]),[u,H]=l.useState([]),C=l.useMemo(()=>{let t=e;return i.length&&(t=t.filter(o=>i.every(f=>o.class.toLowerCase().includes(f.toLowerCase())))),u.length&&(t=t.filter(o=>u.every(f=>o.effects.map(h=>h.toLowerCase()).includes(f)))),d.length&&(t=t.filter(o=>d.every(f=>{var h;return o.sourceHerbs.includes(f)||((h=o.foundInHerbs)==null?void 0:h.includes(f))}))),t},[e,i,d,u]);return s.jsxs(s.Fragment,{children:[s.jsx(S,{children:s.jsx("title",{children:"Psychoactive Compounds - The Hippie Scientist"})}),s.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:s.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[s.jsx("h1",{className:"text-gradient mb-6 text-5xl font-bold",children:"Psychoactive Compounds"}),s.jsx("p",{className:"mb-8 text-sand",children:"List of notable active constituents and their source herbs."}),s.jsx(y,{tags:c,onChange:a}),s.jsx(y,{tags:w,onChange:H}),s.jsx(L,{options:m,onChange:t=>v(t)}),s.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:C.map(t=>s.jsx(M,{compound:t},t.name))})]})})]})}export{W as default};
