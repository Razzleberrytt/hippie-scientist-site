import{j as e,m,T as h,L as b,r as c,h as f,w,W as y,A as j}from"./main-1fb0f3bc.js";import{m as v}from"./useFilteredHerbs-d0790eb8.js";function N({compound:t}){return e.jsxs(m.article,{whileHover:{scale:1.03},title:t.herbsFound.map(a=>a.name).join(", "),className:"glassmorphic-card hover-glow flex flex-col rounded-lg border border-emerald-600/40 p-4 text-left",children:[e.jsx("h2",{className:"mb-1 text-lg font-bold text-emerald-300 drop-shadow-glow",children:t.name}),e.jsxs("div",{className:"mb-2 flex flex-wrap gap-2",children:[e.jsx(h,{label:t.type}),t.effectClass&&e.jsx(h,{label:t.effectClass,variant:"blue"})]}),e.jsx("p",{className:"mb-2 text-sm text-sand",children:t.description}),e.jsx("p",{className:"mb-2 text-sm text-sand",children:t.mechanismOfAction}),e.jsx("div",{className:"mt-auto flex flex-wrap gap-1",children:t.herbsFound.map(a=>a.slug?e.jsx(b,{to:`/herbs/${a.slug}`,className:"tag-pill bg-space-dark/70 text-sand hover-glow transition-colors duration-300 dark:bg-gray-800 dark:text-gray-200",children:a.name},a.name):e.jsx("span",{className:"tag-pill bg-space-dark/70 text-sand dark:bg-gray-800 dark:text-gray-200",children:a.name},a.name))})]})}function C({options:t,onChange:a}){const[n,x]=c.useState([]),p=r=>{x(o=>o.includes(r)?o.filter(g=>g!==r):[...o,r])};return c.useEffect(()=>{a==null||a(n)},[n,a]),e.jsxs("div",{className:"flex gap-2 overflow-x-auto py-2 no-scrollbar",children:[t.map(r=>{const o=n.includes(r.value);return e.jsx(m.button,{type:"button",onClick:()=>p(r.value),whileTap:{scale:.9},whileHover:{scale:1.08},animate:o?{scale:[1,1.15,1],boxShadow:"0 0 8px rgba(16,185,129,0.8)"}:{scale:1,boxShadow:"none"},transition:{type:"spring",stiffness:220,damping:12},className:`tag-pill whitespace-nowrap hover-glow transition-colors duration-300 ${o?"bg-emerald-700/70 text-white ring-2 ring-emerald-400 dark:bg-emerald-800":"bg-space-dark/70 text-sand dark:bg-gray-800 dark:text-gray-200"}`,children:r.label},r.value)}),n.length>0&&e.jsx(m.button,{type:"button",onClick:()=>x([]),whileTap:{scale:.9},whileHover:{scale:1.08},transition:{type:"spring",stiffness:220,damping:12},className:"tag-pill whitespace-nowrap hover-glow bg-rose-700/70 text-white dark:bg-rose-800 transition-colors duration-300",children:"Clear"})]})}function F(){const[t,a]=c.useState(""),[n,x]=c.useState([]),p=c.useMemo(()=>{const s=new Map;return f.forEach(l=>{s.set(l.name.toLowerCase(),{slug:l.slug,category:l.category})}),s},[]),r=c.useMemo(()=>w.map(s=>{const l=s.foundIn.map(d=>{const i=p.get(d.toLowerCase());return{name:d,slug:i==null?void 0:i.slug,category:i==null?void 0:i.category}}),u=new Set(l.map(d=>d.category?v(d.category):void 0).filter(Boolean));return{...s,herbsFound:l,effectClass:Array.from(u).join(", ")}}),[p]),o=c.useMemo(()=>Array.from(new Set(r.map(s=>s.type))).sort().map(s=>({label:s,value:s})),[r]),g=c.useMemo(()=>r.filter(s=>{const l=t.trim().toLowerCase(),u=!l||s.name.toLowerCase().includes(l)||s.herbsFound.some(i=>i.name.toLowerCase().includes(l)),d=n.length===0||n.includes(s.type);return u&&d}),[t,n,r]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("title",{children:"Psychoactive Compounds Index - The Hippie Scientist"})}),e.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:e.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[e.jsx("h1",{className:"text-gradient mb-2 text-4xl font-bold",children:"Psychoactive Compounds Index"}),e.jsx("p",{className:"mb-6 text-sand",children:"Explore the active ingredients behind each herbâ€™s effects"}),e.jsxs("div",{className:"mb-4 flex flex-col items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search compounds or herbs...",value:t,onChange:s=>a(s.target.value),className:"w-full rounded-md bg-space-dark/70 px-3 py-2 text-white backdrop-blur-md focus:outline-none sm:w-72"}),e.jsx(C,{options:o,onChange:x})]}),e.jsx(m.div,{layout:!0,className:"grid max-h-[70vh] grid-cols-1 gap-4 overflow-y-auto sm:grid-cols-2 lg:grid-cols-3",children:e.jsx(j,{children:g.map(s=>e.jsx(m.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(N,{compound:s})},s.name))})})]})})]})}export{F as default};
