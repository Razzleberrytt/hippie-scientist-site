import{Y as m,x as at,_ as lo}from"./main-9d5f4f28.js";function co(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function ho(n,e,r){return e=bo(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Ge(n,e){return go(n)||co(n,e)||Kr(n,e)||vo()}function fo(n){return po(n)||yo(n)||Kr(n)||_o()}function po(n){if(Array.isArray(n))return le(n)}function go(n){if(Array.isArray(n))return n}function yo(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kr(n,e){if(n){if(typeof n=="string")return le(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(n,e)}}function le(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function _o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mo(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bo(n){var e=mo(n,"string");return typeof e=="symbol"?e:String(e)}var xo=function(n,e){var r=new Set(e);return Object.assign.apply(Object,[{}].concat(fo(Object.entries(n).filter(function(i){var o=Ge(i,1),a=o[0];return!r.has(a)}).map(function(i){var o=Ge(i,2),a=o[0],u=o[1];return ho({},a,u)}))))};function ce(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function wo(n){if(Array.isArray(n))return n}function ko(n){if(Array.isArray(n))return ce(n)}function Mo(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ao(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function So(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oo(n,e){return wo(n)||Ao(n,e)||Qr(n,e)||So()}function Ye(n){return ko(n)||Mo(n)||Qr(n)||zo()}function Qr(n,e){if(n){if(typeof n=="string")return ce(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(n,e):void 0}}function Po(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,o=e.nodeMapper,a=o===void 0?function(f){return f}:o,u=e.methodNames,s=u===void 0?[]:u,c=e.initPropNames,l=c===void 0?[]:c;return at.forwardRef(function(f,h){var p=at.useRef(),d=at.useMemo(function(){var v=Object.fromEntries(l.filter(function(g){return f.hasOwnProperty(g)}).map(function(g){return[g,f[g]]}));return n(v)},[]);We(function(){d(a(p.current))},at.useLayoutEffect),We(function(){return d._destructor instanceof Function?d._destructor:void 0});var y=at.useCallback(function(v){for(var g=arguments.length,M=new Array(g>1?g-1:0),A=1;A<g;A++)M[A-1]=arguments[A];return d[v]instanceof Function?d[v].apply(d,M):void 0},[d]),_=at.useRef({});return Object.keys(xo(f,[].concat(Ye(s),Ye(l)))).filter(function(v){return _.current[v]!==f[v]}).forEach(function(v){return y(v,f[v])}),_.current=f,at.useImperativeHandle(h,function(){return Object.fromEntries(s.map(function(v){return[v,function(){for(var g=arguments.length,M=new Array(g),A=0;A<g;A++)M[A]=arguments[A];return y.apply(void 0,[v].concat(M))}]}))},[y]),lo.createElement(i,{ref:p})})}function We(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.useEffect,r=at.useRef(),i=at.useRef(!1),o=at.useRef(!1),a=at.useState(0),u=Oo(a,2);u[0];var s=u[1];i.current&&(o.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),s(function(c){return c+1}),function(){o.current&&r.current&&r.current()}},[])}var he="http://www.w3.org/1999/xhtml";const Xe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),Xe.hasOwnProperty(e)?{space:Xe[e],local:n}:n}function Co(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===he&&e.documentElement.namespaceURI===he?e.createElement(n):e.createElementNS(r,n)}}function Eo(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Jr(n){var e=Yn(n);return(e.local?Eo:Co)(e)}function jo(){}function Oe(n){return n==null?jo:function(){return this.querySelector(n)}}function No(n){typeof n!="function"&&(n=Oe(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],u=a.length,s=i[o]=new Array(u),c,l,f=0;f<u;++f)(c=a[f])&&(l=n.call(c,c.__data__,f,a))&&("__data__"in c&&(l.__data__=c.__data__),s[f]=l);return new rt(i,this._parents)}function To(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function Do(){return[]}function ti(n){return n==null?Do:function(){return this.querySelectorAll(n)}}function Ro(n){return function(){return To(n.apply(this,arguments))}}function Io(n){typeof n=="function"?n=Ro(n):n=ti(n);for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var u=e[a],s=u.length,c,l=0;l<s;++l)(c=u[l])&&(i.push(n.call(c,c.__data__,l,u)),o.push(c));return new rt(i,o)}function ni(n){return function(){return this.matches(n)}}function ei(n){return function(e){return e.matches(n)}}var Uo=Array.prototype.find;function Fo(n){return function(){return Uo.call(this.children,n)}}function Lo(){return this.firstElementChild}function qo(n){return this.select(n==null?Lo:Fo(typeof n=="function"?n:ei(n)))}var Bo=Array.prototype.filter;function Ho(){return Array.from(this.children)}function $o(n){return function(){return Bo.call(this.children,n)}}function Go(n){return this.selectAll(n==null?Ho:$o(typeof n=="function"?n:ei(n)))}function Yo(n){typeof n!="function"&&(n=ni(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],u=a.length,s=i[o]=[],c,l=0;l<u;++l)(c=a[l])&&n.call(c,c.__data__,l,a)&&s.push(c);return new rt(i,this._parents)}function ri(n){return new Array(n.length)}function Wo(){return new rt(this._enter||this._groups.map(ri),this._parents)}function Tn(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Tn.prototype={constructor:Tn,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Xo(n){return function(){return n}}function Vo(n,e,r,i,o,a){for(var u=0,s,c=e.length,l=a.length;u<l;++u)(s=e[u])?(s.__data__=a[u],i[u]=s):r[u]=new Tn(n,a[u]);for(;u<c;++u)(s=e[u])&&(o[u]=s)}function Zo(n,e,r,i,o,a,u){var s,c,l=new Map,f=e.length,h=a.length,p=new Array(f),d;for(s=0;s<f;++s)(c=e[s])&&(p[s]=d=u.call(c,c.__data__,s,e)+"",l.has(d)?o[s]=c:l.set(d,c));for(s=0;s<h;++s)d=u.call(n,a[s],s,a)+"",(c=l.get(d))?(i[s]=c,c.__data__=a[s],l.delete(d)):r[s]=new Tn(n,a[s]);for(s=0;s<f;++s)(c=e[s])&&l.get(p[s])===c&&(o[s]=c)}function Ko(n){return n.__data__}function Qo(n,e){if(!arguments.length)return Array.from(this,Ko);var r=e?Zo:Vo,i=this._parents,o=this._groups;typeof n!="function"&&(n=Xo(n));for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],p=h.length,d=Jo(n.call(f,f&&f.__data__,l,i)),y=d.length,_=s[l]=new Array(y),v=u[l]=new Array(y),g=c[l]=new Array(p);r(f,h,_,v,g,d,e);for(var M=0,A=0,x,b;M<y;++M)if(x=_[M]){for(M>=A&&(A=M+1);!(b=v[A])&&++A<y;);x._next=b||null}}return u=new rt(u,i),u._enter=s,u._exit=c,u}function Jo(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ta(){return new rt(this._exit||this._groups.map(ri),this._parents)}function na(n,e,r){var i=this.enter(),o=this,a=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function ea(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,a=i.length,u=Math.min(o,a),s=new Array(o),c=0;c<u;++c)for(var l=r[c],f=i[c],h=l.length,p=s[c]=new Array(h),d,y=0;y<h;++y)(d=l[y]||f[y])&&(p[y]=d);for(;c<o;++c)s[c]=r[c];return new rt(s,this._parents)}function ra(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function ia(n){n||(n=oa);function e(h,p){return h&&p?n(h.__data__,p.__data__):!h-!p}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var u=r[a],s=u.length,c=o[a]=new Array(s),l,f=0;f<s;++f)(l=u[f])&&(c[f]=l);c.sort(e)}return new rt(o,this._parents).order()}function oa(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function aa(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ua(){return Array.from(this)}function sa(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function la(){let n=0;for(const e of this)++n;return n}function ca(){return!this.node()}function ha(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,u=o.length,s;a<u;++a)(s=o[a])&&n.call(s,s.__data__,a,o);return this}function fa(n){return function(){this.removeAttribute(n)}}function pa(n){return function(){this.removeAttributeNS(n.space,n.local)}}function da(n,e){return function(){this.setAttribute(n,e)}}function ga(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function ya(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function _a(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function va(n,e){var r=Yn(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?pa:fa:typeof e=="function"?r.local?_a:ya:r.local?ga:da)(r,e))}function ii(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function ma(n){return function(){this.style.removeProperty(n)}}function ba(n,e,r){return function(){this.style.setProperty(n,e,r)}}function xa(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function wa(n,e,r){return arguments.length>1?this.each((e==null?ma:typeof e=="function"?xa:ba)(n,e,r??"")):Yt(this.node(),n)}function Yt(n,e){return n.style.getPropertyValue(e)||ii(n).getComputedStyle(n,null).getPropertyValue(e)}function ka(n){return function(){delete this[n]}}function Ma(n,e){return function(){this[n]=e}}function Aa(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function Sa(n,e){return arguments.length>1?this.each((e==null?ka:typeof e=="function"?Aa:Ma)(n,e)):this.node()[n]}function oi(n){return n.trim().split(/^|\s+/)}function Pe(n){return n.classList||new ai(n)}function ai(n){this._node=n,this._names=oi(n.getAttribute("class")||"")}ai.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function ui(n,e){for(var r=Pe(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function si(n,e){for(var r=Pe(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function za(n){return function(){ui(this,n)}}function Oa(n){return function(){si(this,n)}}function Pa(n,e){return function(){(e.apply(this,arguments)?ui:si)(this,n)}}function Ca(n,e){var r=oi(n+"");if(arguments.length<2){for(var i=Pe(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Pa:e?za:Oa)(r,e))}function Ea(){this.textContent=""}function ja(n){return function(){this.textContent=n}}function Na(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function Ta(n){return arguments.length?this.each(n==null?Ea:(typeof n=="function"?Na:ja)(n)):this.node().textContent}function Da(){this.innerHTML=""}function Ra(n){return function(){this.innerHTML=n}}function Ia(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Ua(n){return arguments.length?this.each(n==null?Da:(typeof n=="function"?Ia:Ra)(n)):this.node().innerHTML}function Fa(){this.nextSibling&&this.parentNode.appendChild(this)}function La(){return this.each(Fa)}function qa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ba(){return this.each(qa)}function Ha(n){var e=typeof n=="function"?n:Jr(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $a(){return null}function Ga(n,e){var r=typeof n=="function"?n:Jr(n),i=e==null?$a:typeof e=="function"?e:Oe(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function Ya(){var n=this.parentNode;n&&n.removeChild(this)}function Wa(){return this.each(Ya)}function Xa(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Va(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Za(n){return this.select(n?Va:Xa)}function Ka(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Qa(n){return function(e){n.call(this,e,this.__data__)}}function Ja(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function tu(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,o=e.length,a;r<o;++r)a=e[r],(!n.type||a.type===n.type)&&a.name===n.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function nu(n,e,r){return function(){var i=this.__on,o,a=Qa(e);if(i){for(var u=0,s=i.length;u<s;++u)if((o=i[u]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=e;return}}this.addEventListener(n.type,a,r),o={type:n.type,name:n.name,value:e,listener:a,options:r},i?i.push(o):this.__on=[o]}}function eu(n,e,r){var i=Ja(n+""),o,a=i.length,u;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,f;c<l;++c)for(o=0,f=s[c];o<a;++o)if((u=i[o]).type===f.type&&u.name===f.name)return f.value}return}for(s=e?nu:tu,o=0;o<a;++o)this.each(s(i[o],e,r));return this}function li(n,e,r){var i=ii(n),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function ru(n,e){return function(){return li(this,n,e)}}function iu(n,e){return function(){return li(this,n,e.apply(this,arguments))}}function ou(n,e){return this.each((typeof e=="function"?iu:ru)(n,e))}function*au(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var ci=[null];function rt(n,e){this._groups=n,this._parents=e}function vn(){return new rt([[document.documentElement]],ci)}function uu(){return this}rt.prototype=vn.prototype={constructor:rt,select:No,selectAll:Io,selectChild:qo,selectChildren:Go,filter:Yo,data:Qo,enter:Wo,exit:ta,join:na,merge:ea,selection:uu,order:ra,sort:ia,call:aa,nodes:ua,node:sa,size:la,empty:ca,each:ha,attr:va,style:wa,property:Sa,classed:Ca,text:Ta,html:Ua,raise:La,lower:Ba,append:Ha,insert:Ga,remove:Wa,clone:Za,datum:Ka,on:eu,dispatch:ou,[Symbol.iterator]:au};function ut(n){return typeof n=="string"?new rt([[document.querySelector(n)]],[document.documentElement]):new rt([[n]],ci)}function su(n){let e;for(;e=n.sourceEvent;)n=e;return n}function yt(n,e){if(n=su(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var lu={value:()=>{}};function mn(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Pn(r)}function Pn(n){this._=n}function cu(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Pn.prototype=mn.prototype={constructor:Pn,on:function(n,e){var r=this._,i=cu(n+"",r),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(n=i[a]).type)&&(o=hu(r[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(n=i[a]).type)r[o]=Ve(r[o],n.name,e);else if(e==null)for(o in r)r[o]=Ve(r[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new Pn(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],i=0,o=a.length;i<o;++i)a[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,a=i.length;o<a;++o)i[o].value.apply(e,r)}};function hu(n,e){for(var r=0,i=n.length,o;r<i;++r)if((o=n[r]).name===e)return o.value}function Ve(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=lu,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}const fu={passive:!1},hn={capture:!0,passive:!1};function te(n){n.stopImmediatePropagation()}function $t(n){n.preventDefault(),n.stopImmediatePropagation()}function hi(n){var e=n.document.documentElement,r=ut(n).on("dragstart.drag",$t,hn);"onselectstart"in e?r.on("selectstart.drag",$t,hn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fi(n,e){var r=n.document.documentElement,i=ut(n).on("dragstart.drag",null);e&&(i.on("click.drag",$t,hn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const wn=n=>()=>n;function fe(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:a,x:u,y:s,dx:c,dy:l,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:f}})}fe.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function pu(n){return!n.ctrlKey&&!n.button}function du(){return this.parentNode}function gu(n,e){return e??{x:n.x,y:n.y}}function yu(){return navigator.maxTouchPoints||"ontouchstart"in this}function _u(){var n=pu,e=du,r=gu,i=yu,o={},a=mn("start","drag","end"),u=0,s,c,l,f,h=0;function p(x){x.on("mousedown.drag",d).filter(i).on("touchstart.drag",v).on("touchmove.drag",g,fu).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(x,b){if(!(f||!n.call(this,x,b))){var w=A(this,e.call(this,x,b),x,b,"mouse");w&&(ut(x.view).on("mousemove.drag",y,hn).on("mouseup.drag",_,hn),hi(x.view),te(x),l=!1,s=x.clientX,c=x.clientY,w("start",x))}}function y(x){if($t(x),!l){var b=x.clientX-s,w=x.clientY-c;l=b*b+w*w>h}o.mouse("drag",x)}function _(x){ut(x.view).on("mousemove.drag mouseup.drag",null),fi(x.view,l),$t(x),o.mouse("end",x)}function v(x,b){if(n.call(this,x,b)){var w=x.changedTouches,S=e.call(this,x,b),z=w.length,C,T;for(C=0;C<z;++C)(T=A(this,S,x,b,w[C].identifier,w[C]))&&(te(x),T("start",x,w[C]))}}function g(x){var b=x.changedTouches,w=b.length,S,z;for(S=0;S<w;++S)(z=o[b[S].identifier])&&($t(x),z("drag",x,b[S]))}function M(x){var b=x.changedTouches,w=b.length,S,z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),S=0;S<w;++S)(z=o[b[S].identifier])&&(te(x),z("end",x,b[S]))}function A(x,b,w,S,z,C){var T=a.copy(),E=yt(C||w,b),N,q,k;if((k=r.call(x,new fe("beforestart",{sourceEvent:w,target:p,identifier:z,active:u,x:E[0],y:E[1],dx:0,dy:0,dispatch:T}),S))!=null)return N=k.x-E[0]||0,q=k.y-E[1]||0,function j(O,D,I){var F=E,U;switch(O){case"start":o[z]=j,U=u++;break;case"end":delete o[z],--u;case"drag":E=yt(I||D,b),U=u;break}T.call(O,x,new fe(O,{sourceEvent:D,subject:k,target:p,identifier:z,active:U,x:E[0]+N,y:E[1]+q,dx:E[0]-F[0],dy:E[1]-F[1],dispatch:T}),S)}}return p.filter=function(x){return arguments.length?(n=typeof x=="function"?x:wn(!!x),p):n},p.container=function(x){return arguments.length?(e=typeof x=="function"?x:wn(x),p):e},p.subject=function(x){return arguments.length?(r=typeof x=="function"?x:wn(x),p):r},p.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:wn(!!x),p):i},p.on=function(){var x=a.on.apply(a,arguments);return x===a?p:x},p.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,p):Math.sqrt(h)},p}function Ce(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function pi(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function bn(){}var fn=.7,Dn=1/fn,Gt="\\s*([+-]?\\d+)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vu=/^#([0-9a-f]{3,8})$/,mu=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),bu=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),xu=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${pn}\\)$`),wu=new RegExp(`^rgba\\(${vt},${vt},${vt},${pn}\\)$`),ku=new RegExp(`^hsl\\(${pn},${vt},${vt}\\)$`),Mu=new RegExp(`^hsla\\(${pn},${vt},${vt},${pn}\\)$`),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ce(bn,dn,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Ke,formatHex:Ke,formatHex8:Au,formatHsl:Su,formatRgb:Qe,toString:Qe});function Ke(){return this.rgb().formatHex()}function Au(){return this.rgb().formatHex8()}function Su(){return di(this).formatHsl()}function Qe(){return this.rgb().formatRgb()}function dn(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=vu.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?Je(e):r===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mu.exec(n))?new tt(e[1],e[2],e[3],1):(e=bu.exec(n))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xu.exec(n))?kn(e[1],e[2],e[3],e[4]):(e=wu.exec(n))?kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ku.exec(n))?er(e[1],e[2]/100,e[3]/100,1):(e=Mu.exec(n))?er(e[1],e[2]/100,e[3]/100,e[4]):Ze.hasOwnProperty(n)?Je(Ze[n]):n==="transparent"?new tt(NaN,NaN,NaN,0):null}function Je(n){return new tt(n>>16&255,n>>8&255,n&255,1)}function kn(n,e,r,i){return i<=0&&(n=e=r=NaN),new tt(n,e,r,i)}function zu(n){return n instanceof bn||(n=dn(n)),n?(n=n.rgb(),new tt(n.r,n.g,n.b,n.opacity)):new tt}function pe(n,e,r,i){return arguments.length===1?zu(n):new tt(n,e,r,i??1)}function tt(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}Ce(tt,pe,pi(bn,{brighter(n){return n=n==null?Dn:Math.pow(Dn,n),new tt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fn:Math.pow(fn,n),new tt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new tt(Ut(this.r),Ut(this.g),Ut(this.b),Rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tr,formatHex:tr,formatHex8:Ou,formatRgb:nr,toString:nr}));function tr(){return`#${It(this.r)}${It(this.g)}${It(this.b)}`}function Ou(){return`#${It(this.r)}${It(this.g)}${It(this.b)}${It((isNaN(this.opacity)?1:this.opacity)*255)}`}function nr(){const n=Rn(this.opacity);return`${n===1?"rgb(":"rgba("}${Ut(this.r)}, ${Ut(this.g)}, ${Ut(this.b)}${n===1?")":`, ${n})`}`}function Rn(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ut(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function It(n){return n=Ut(n),(n<16?"0":"")+n.toString(16)}function er(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new ft(n,e,r,i)}function di(n){if(n instanceof ft)return new ft(n.h,n.s,n.l,n.opacity);if(n instanceof bn||(n=dn(n)),!n)return new ft;if(n instanceof ft)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),u=NaN,s=a-o,c=(a+o)/2;return s?(e===a?u=(r-i)/s+(r<i)*6:r===a?u=(i-e)/s+2:u=(e-r)/s+4,s/=c<.5?a+o:2-a-o,u*=60):s=c>0&&c<1?0:u,new ft(u,s,c,n.opacity)}function Pu(n,e,r,i){return arguments.length===1?di(n):new ft(n,e,r,i??1)}function ft(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}Ce(ft,Pu,pi(bn,{brighter(n){return n=n==null?Dn:Math.pow(Dn,n),new ft(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fn:Math.pow(fn,n),new ft(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new tt(ne(n>=240?n-240:n+120,o,i),ne(n,o,i),ne(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new ft(rr(this.h),Mn(this.s),Mn(this.l),Rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Rn(this.opacity);return`${n===1?"hsl(":"hsla("}${rr(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${n===1?")":`, ${n})`}`}}));function rr(n){return n=(n||0)%360,n<0?n+360:n}function Mn(n){return Math.max(0,Math.min(1,n||0))}function ne(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const gi=n=>()=>n;function Cu(n,e){return function(r){return n+r*e}}function Eu(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function ju(n){return(n=+n)==1?yi:function(e,r){return r-e?Eu(e,r,n):gi(isNaN(e)?r:e)}}function yi(n,e){var r=e-n;return r?Cu(n,r):gi(isNaN(n)?e:n)}const ir=function n(e){var r=ju(e);function i(o,a){var u=r((o=pe(o)).r,(a=pe(a)).r),s=r(o.g,a.g),c=r(o.b,a.b),l=yi(o.opacity,a.opacity);return function(f){return o.r=u(f),o.g=s(f),o.b=c(f),o.opacity=l(f),o+""}}return i.gamma=n,i}(1);function Tt(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var de=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ee=new RegExp(de.source,"g");function Nu(n){return function(){return n}}function Tu(n){return function(e){return n(e)+""}}function Du(n,e){var r=de.lastIndex=ee.lastIndex=0,i,o,a,u=-1,s=[],c=[];for(n=n+"",e=e+"";(i=de.exec(n))&&(o=ee.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),s[u]?s[u]+=a:s[++u]=a),(i=i[0])===(o=o[0])?s[u]?s[u]+=o:s[++u]=o:(s[++u]=null,c.push({i:u,x:Tt(i,o)})),r=ee.lastIndex;return r<e.length&&(a=e.slice(r),s[u]?s[u]+=a:s[++u]=a),s.length<2?c[0]?Tu(c[0].x):Nu(e):(e=c.length,function(l){for(var f=0,h;f<e;++f)s[(h=c[f]).i]=h.x(l);return s.join("")})}var or=180/Math.PI,_i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vi(n,e,r,i,o,a){var u,s,c;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,c/=s),n*i<e*r&&(n=-n,e=-e,c=-c,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,n)*or,skewX:Math.atan(c)*or,scaleX:u,scaleY:s}}var An;function Ru(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?_i:vi(e.a,e.b,e.c,e.d,e.e,e.f)}function Iu(n){return n==null||(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",n),!(n=An.transform.baseVal.consolidate()))?_i:(n=n.matrix,vi(n.a,n.b,n.c,n.d,n.e,n.f))}function mi(n,e,r,i){function o(l){return l.length?l.pop()+" ":""}function a(l,f,h,p,d,y){if(l!==h||f!==p){var _=d.push("translate(",null,e,null,r);y.push({i:_-4,x:Tt(l,h)},{i:_-2,x:Tt(f,p)})}else(h||p)&&d.push("translate("+h+e+p+r)}function u(l,f,h,p){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),p.push({i:h.push(o(h)+"rotate(",null,i)-2,x:Tt(l,f)})):f&&h.push(o(h)+"rotate("+f+i)}function s(l,f,h,p){l!==f?p.push({i:h.push(o(h)+"skewX(",null,i)-2,x:Tt(l,f)}):f&&h.push(o(h)+"skewX("+f+i)}function c(l,f,h,p,d,y){if(l!==h||f!==p){var _=d.push(o(d)+"scale(",null,",",null,")");y.push({i:_-4,x:Tt(l,h)},{i:_-2,x:Tt(f,p)})}else(h!==1||p!==1)&&d.push(o(d)+"scale("+h+","+p+")")}return function(l,f){var h=[],p=[];return l=n(l),f=n(f),a(l.translateX,l.translateY,f.translateX,f.translateY,h,p),u(l.rotate,f.rotate,h,p),s(l.skewX,f.skewX,h,p),c(l.scaleX,l.scaleY,f.scaleX,f.scaleY,h,p),l=f=null,function(d){for(var y=-1,_=p.length,v;++y<_;)h[(v=p[y]).i]=v.x(d);return h.join("")}}}var Uu=mi(Ru,"px, ","px)","deg)"),Fu=mi(Iu,", ",")",")"),Lu=1e-12;function ar(n){return((n=Math.exp(n))+1/n)/2}function qu(n){return((n=Math.exp(n))-1/n)/2}function Bu(n){return((n=Math.exp(2*n))-1)/(n+1)}const Hu=function n(e,r,i){function o(a,u){var s=a[0],c=a[1],l=a[2],f=u[0],h=u[1],p=u[2],d=f-s,y=h-c,_=d*d+y*y,v,g;if(_<Lu)g=Math.log(p/l)/e,v=function(S){return[s+S*d,c+S*y,l*Math.exp(e*S*g)]};else{var M=Math.sqrt(_),A=(p*p-l*l+i*_)/(2*l*r*M),x=(p*p-l*l-i*_)/(2*p*r*M),b=Math.log(Math.sqrt(A*A+1)-A),w=Math.log(Math.sqrt(x*x+1)-x);g=(w-b)/e,v=function(S){var z=S*g,C=ar(b),T=l/(r*M)*(C*Bu(e*z+b)-qu(b));return[s+T*d,c+T*y,l*C/ar(e*z+b)]}}return v.duration=g*1e3*e/Math.SQRT2,v}return o.rho=function(a){var u=Math.max(.001,+a),s=u*u,c=s*s;return n(u,s,c)},o}(Math.SQRT2,2,4);var Wt=0,rn=0,Vt=0,bi=1e3,In,on,Un=0,Lt=0,Wn=0,gn=typeof performance=="object"&&performance.now?performance:Date,xi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ee(){return Lt||(xi($u),Lt=gn.now()+Wn)}function $u(){Lt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=je.prototype={constructor:Fn,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?Ee():+r)+(e==null?0:+e),!this._next&&on!==this&&(on?on._next=this:In=this,on=this),this._call=n,this._time=r,ge()},stop:function(){this._call&&(this._call=null,this._time=1/0,ge())}};function je(n,e,r){var i=new Fn;return i.restart(n,e,r),i}function Gu(){Ee(),++Wt;for(var n=In,e;n;)(e=Lt-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Wt}function ur(){Lt=(Un=gn.now())+Wn,Wt=rn=0;try{Gu()}finally{Wt=0,Wu(),Lt=0}}function Yu(){var n=gn.now(),e=n-Un;e>bi&&(Wn-=e,Un=n)}function Wu(){for(var n,e=In,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:In=r);on=n,ge(i)}function ge(n){if(!Wt){rn&&(rn=clearTimeout(rn));var e=n-Lt;e>24?(n<1/0&&(rn=setTimeout(ur,n-gn.now()-Wn)),Vt&&(Vt=clearInterval(Vt))):(Vt||(Un=gn.now(),Vt=setInterval(Yu,bi)),Wt=1,xi(ur))}}function sr(n,e,r){var i=new Fn;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}var Xu=mn("start","end","cancel","interrupt"),Vu=[],wi=0,lr=1,ye=2,Cn=3,cr=4,_e=5,En=6;function Xn(n,e,r,i,o,a){var u=n.__transition;if(!u)n.__transition={};else if(r in u)return;Zu(n,r,{name:e,index:i,group:o,on:Xu,tween:Vu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:wi})}function Ne(n,e){var r=dt(n,e);if(r.state>wi)throw new Error("too late; already scheduled");return r}function bt(n,e){var r=dt(n,e);if(r.state>Cn)throw new Error("too late; already running");return r}function dt(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Zu(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=je(a,0,r.time);function a(l){r.state=lr,r.timer.restart(u,r.delay,r.time),r.delay<=l&&u(l-r.delay)}function u(l){var f,h,p,d;if(r.state!==lr)return c();for(f in i)if(d=i[f],d.name===r.name){if(d.state===Cn)return sr(u);d.state===cr?(d.state=En,d.timer.stop(),d.on.call("interrupt",n,n.__data__,d.index,d.group),delete i[f]):+f<e&&(d.state=En,d.timer.stop(),d.on.call("cancel",n,n.__data__,d.index,d.group),delete i[f])}if(sr(function(){r.state===Cn&&(r.state=cr,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=ye,r.on.call("start",n,n.__data__,r.index,r.group),r.state===ye){for(r.state=Cn,o=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(d=r.tween[f].value.call(n,n.__data__,r.index,r.group))&&(o[++h]=d);o.length=h+1}}function s(l){for(var f=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(c),r.state=_e,1),h=-1,p=o.length;++h<p;)o[h].call(n,f);r.state===_e&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=En,r.timer.stop(),delete i[e];for(var l in i)return;delete n.__transition}}function jn(n,e){var r=n.__transition,i,o,a=!0,u;if(r){e=e==null?null:e+"";for(u in r){if((i=r[u]).name!==e){a=!1;continue}o=i.state>ye&&i.state<_e,i.state=En,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[u]}a&&delete n.__transition}}function Ku(n){return this.each(function(){jn(this,n)})}function Qu(n,e){var r,i;return function(){var o=bt(this,n),a=o.tween;if(a!==r){i=r=a;for(var u=0,s=i.length;u<s;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function Ju(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=bt(this,n),u=a.tween;if(u!==i){o=(i=u).slice();for(var s={name:e,value:r},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}a.tween=o}}function ts(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=dt(this.node(),r).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===n)return u.value;return null}return this.each((e==null?Qu:Ju)(r,n,e))}function Te(n,e,r){var i=n._id;return n.each(function(){var o=bt(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return dt(o,i).value[e]}}function ki(n,e){var r;return(typeof e=="number"?Tt:e instanceof dn?ir:(r=dn(e))?(e=r,ir):Du)(n,e)}function ns(n){return function(){this.removeAttribute(n)}}function es(n){return function(){this.removeAttributeNS(n.space,n.local)}}function rs(n,e,r){var i,o=r+"",a;return function(){var u=this.getAttribute(n);return u===o?null:u===i?a:a=e(i=u,r)}}function is(n,e,r){var i,o=r+"",a;return function(){var u=this.getAttributeNS(n.space,n.local);return u===o?null:u===i?a:a=e(i=u,r)}}function os(n,e,r){var i,o,a;return function(){var u,s=r(this),c;return s==null?void this.removeAttribute(n):(u=this.getAttribute(n),c=s+"",u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,s)))}}function as(n,e,r){var i,o,a;return function(){var u,s=r(this),c;return s==null?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local),c=s+"",u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,s)))}}function us(n,e){var r=Yn(n),i=r==="transform"?Fu:ki;return this.attrTween(n,typeof e=="function"?(r.local?as:os)(r,i,Te(this,"attr."+n,e)):e==null?(r.local?es:ns)(r):(r.local?is:rs)(r,i,e))}function ss(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function ls(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function cs(n,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ls(n,a)),r}return o._value=e,o}function hs(n,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ss(n,a)),r}return o._value=e,o}function fs(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=Yn(n);return this.tween(r,(i.local?cs:hs)(i,e))}function ps(n,e){return function(){Ne(this,n).delay=+e.apply(this,arguments)}}function ds(n,e){return e=+e,function(){Ne(this,n).delay=e}}function gs(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?ps:ds)(e,n)):dt(this.node(),e).delay}function ys(n,e){return function(){bt(this,n).duration=+e.apply(this,arguments)}}function _s(n,e){return e=+e,function(){bt(this,n).duration=e}}function vs(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?ys:_s)(e,n)):dt(this.node(),e).duration}function ms(n,e){if(typeof e!="function")throw new Error;return function(){bt(this,n).ease=e}}function bs(n){var e=this._id;return arguments.length?this.each(ms(e,n)):dt(this.node(),e).ease}function xs(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;bt(this,n).ease=r}}function ws(n){if(typeof n!="function")throw new Error;return this.each(xs(this._id,n))}function ks(n){typeof n!="function"&&(n=ni(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],u=a.length,s=i[o]=[],c,l=0;l<u;++l)(c=a[l])&&n.call(c,c.__data__,l,a)&&s.push(c);return new Et(i,this._parents,this._name,this._id)}function Ms(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c=e[s],l=r[s],f=c.length,h=u[s]=new Array(f),p,d=0;d<f;++d)(p=c[d]||l[d])&&(h[d]=p);for(;s<i;++s)u[s]=e[s];return new Et(u,this._parents,this._name,this._id)}function As(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Ss(n,e,r){var i,o,a=As(e)?Ne:bt;return function(){var u=a(this,n),s=u.on;s!==i&&(o=(i=s).copy()).on(e,r),u.on=o}}function zs(n,e){var r=this._id;return arguments.length<2?dt(this.node(),r).on.on(n):this.each(Ss(r,n,e))}function Os(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function Ps(){return this.on("end.remove",Os(this._id))}function Cs(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Oe(n));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var s=i[u],c=s.length,l=a[u]=new Array(c),f,h,p=0;p<c;++p)(f=s[p])&&(h=n.call(f,f.__data__,p,s))&&("__data__"in f&&(h.__data__=f.__data__),l[p]=h,Xn(l[p],e,r,p,l,dt(f,r)));return new Et(a,this._parents,e,r)}function Es(n){var e=this._name,r=this._id;typeof n!="function"&&(n=ti(n));for(var i=this._groups,o=i.length,a=[],u=[],s=0;s<o;++s)for(var c=i[s],l=c.length,f,h=0;h<l;++h)if(f=c[h]){for(var p=n.call(f,f.__data__,h,c),d,y=dt(f,r),_=0,v=p.length;_<v;++_)(d=p[_])&&Xn(d,e,r,_,p,y);a.push(p),u.push(f)}return new Et(a,u,e,r)}var js=vn.prototype.constructor;function Ns(){return new js(this._groups,this._parents)}function Ts(n,e){var r,i,o;return function(){var a=Yt(this,n),u=(this.style.removeProperty(n),Yt(this,n));return a===u?null:a===r&&u===i?o:o=e(r=a,i=u)}}function Mi(n){return function(){this.style.removeProperty(n)}}function Ds(n,e,r){var i,o=r+"",a;return function(){var u=Yt(this,n);return u===o?null:u===i?a:a=e(i=u,r)}}function Rs(n,e,r){var i,o,a;return function(){var u=Yt(this,n),s=r(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(n),Yt(this,n))),u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,s))}}function Is(n,e){var r,i,o,a="style."+e,u="end."+a,s;return function(){var c=bt(this,n),l=c.on,f=c.value[a]==null?s||(s=Mi(e)):void 0;(l!==r||o!==f)&&(i=(r=l).copy()).on(u,o=f),c.on=i}}function Us(n,e,r){var i=(n+="")=="transform"?Uu:ki;return e==null?this.styleTween(n,Ts(n,i)).on("end.style."+n,Mi(n)):typeof e=="function"?this.styleTween(n,Rs(n,i,Te(this,"style."+n,e))).each(Is(this._id,n)):this.styleTween(n,Ds(n,i,e),r).on("end.style."+n,null)}function Fs(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function Ls(n,e,r){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&Fs(n,u,r)),i}return a._value=e,a}function qs(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ls(n,e,r??""))}function Bs(n){return function(){this.textContent=n}}function Hs(n){return function(){var e=n(this);this.textContent=e??""}}function $s(n){return this.tween("text",typeof n=="function"?Hs(Te(this,"text",n)):Bs(n==null?"":n+""))}function Gs(n){return function(e){this.textContent=n.call(this,e)}}function Ys(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Gs(o)),e}return i._value=n,i}function Ws(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Ys(n))}function Xs(){for(var n=this._name,e=this._id,r=Ai(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],s=u.length,c,l=0;l<s;++l)if(c=u[l]){var f=dt(c,e);Xn(c,n,r,l,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Et(i,this._parents,n,r)}function Vs(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(a,u){var s={value:u},c={value:function(){--o===0&&a()}};r.each(function(){var l=bt(this,i),f=l.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),l.on=e}),o===0&&a()})}var Zs=0;function Et(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function Ai(){return++Zs}var kt=vn.prototype;Et.prototype={constructor:Et,select:Cs,selectAll:Es,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:ks,merge:Ms,selection:Ns,transition:Xs,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:zs,attr:us,attrTween:fs,style:Us,styleTween:qs,text:$s,textTween:Ws,remove:Ps,tween:ts,delay:gs,duration:vs,ease:bs,easeVarying:ws,end:Vs,[Symbol.iterator]:kt[Symbol.iterator]};function Ks(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Qs={time:null,delay:0,duration:250,ease:Ks};function Js(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function tl(n){var e,r;n instanceof Et?(e=n._id,n=n._name):(e=Ai(),(r=Qs).time=Ee(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],s=u.length,c,l=0;l<s;++l)(c=u[l])&&Xn(c,n,e,l,u,r||Js(c,e));return new Et(i,this._parents,n,e)}vn.prototype.interrupt=Ku;vn.prototype.transition=tl;const Sn=n=>()=>n;function nl(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Ot(n,e,r){this.k=n,this.x=e,this.y=r}Ot.prototype={constructor:Ot,scale:function(n){return n===1?this:new Ot(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Ot(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var De=new Ot(1,0,0);gt.prototype=Ot.prototype;function gt(n){for(;!n.__zoom;)if(!(n=n.parentNode))return De;return n.__zoom}function re(n){n.stopImmediatePropagation()}function Zt(n){n.preventDefault(),n.stopImmediatePropagation()}function el(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function rl(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function hr(){return this.__zoom||De}function il(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function ol(){return navigator.maxTouchPoints||"ontouchstart"in this}function al(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],a=n.invertY(e[0][1])-r[0][1],u=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function ul(){var n=el,e=rl,r=al,i=il,o=ol,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],s=250,c=Hu,l=mn("start","zoom","end"),f,h,p,d=500,y=150,_=0,v=10;function g(k){k.property("__zoom",hr).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",T).filter(o).on("touchstart.zoom",E).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,j,O,D){var I=k.selection?k.selection():k;I.property("__zoom",hr),k!==I?b(k,j,O,D):I.interrupt().each(function(){w(this,arguments).event(D).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},g.scaleBy=function(k,j,O,D){g.scaleTo(k,function(){var I=this.__zoom.k,F=typeof j=="function"?j.apply(this,arguments):j;return I*F},O,D)},g.scaleTo=function(k,j,O,D){g.transform(k,function(){var I=e.apply(this,arguments),F=this.__zoom,U=O==null?x(I):typeof O=="function"?O.apply(this,arguments):O,L=F.invert(U),B=typeof j=="function"?j.apply(this,arguments):j;return r(A(M(F,B),U,L),I,u)},O,D)},g.translateBy=function(k,j,O,D){g.transform(k,function(){return r(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),u)},null,D)},g.translateTo=function(k,j,O,D,I){g.transform(k,function(){var F=e.apply(this,arguments),U=this.__zoom,L=D==null?x(F):typeof D=="function"?D.apply(this,arguments):D;return r(De.translate(L[0],L[1]).scale(U.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof O=="function"?-O.apply(this,arguments):-O),F,u)},D,I)};function M(k,j){return j=Math.max(a[0],Math.min(a[1],j)),j===k.k?k:new Ot(j,k.x,k.y)}function A(k,j,O){var D=j[0]-O[0]*k.k,I=j[1]-O[1]*k.k;return D===k.x&&I===k.y?k:new Ot(k.k,D,I)}function x(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function b(k,j,O,D){k.on("start.zoom",function(){w(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(D).end()}).tween("zoom",function(){var I=this,F=arguments,U=w(I,F).event(D),L=e.apply(I,F),B=O==null?x(L):typeof O=="function"?O.apply(I,F):O,X=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),V=I.__zoom,lt=typeof j=="function"?j.apply(I,F):j,xt=c(V.invert(B).concat(X/V.k),lt.invert(B).concat(X/lt.k));return function(ct){if(ct===1)ct=lt;else{var wt=xt(ct),Jn=X/wt[2];ct=new Ot(Jn,B[0]-wt[0]*Jn,B[1]-wt[1]*Jn)}U.zoom(null,ct)}})}function w(k,j,O){return!O&&k.__zooming||new S(k,j)}function S(k,j){this.that=k,this.args=j,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,j),this.taps=0}S.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,j){return this.mouse&&k!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var j=ut(this.that).datum();l.call(k,this.that,new nl(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:l}),j)}};function z(k,...j){if(!n.apply(this,arguments))return;var O=w(this,j).event(k),D=this.__zoom,I=Math.max(a[0],Math.min(a[1],D.k*Math.pow(2,i.apply(this,arguments)))),F=yt(k);if(O.wheel)(O.mouse[0][0]!==F[0]||O.mouse[0][1]!==F[1])&&(O.mouse[1]=D.invert(O.mouse[0]=F)),clearTimeout(O.wheel);else{if(D.k===I)return;O.mouse=[F,D.invert(F)],jn(this),O.start()}Zt(k),O.wheel=setTimeout(U,y),O.zoom("mouse",r(A(M(D,I),O.mouse[0],O.mouse[1]),O.extent,u));function U(){O.wheel=null,O.end()}}function C(k,...j){if(p||!n.apply(this,arguments))return;var O=k.currentTarget,D=w(this,j,!0).event(k),I=ut(k.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",X,!0),F=yt(k,O),U=k.clientX,L=k.clientY;hi(k.view),re(k),D.mouse=[F,this.__zoom.invert(F)],jn(this),D.start();function B(V){if(Zt(V),!D.moved){var lt=V.clientX-U,xt=V.clientY-L;D.moved=lt*lt+xt*xt>_}D.event(V).zoom("mouse",r(A(D.that.__zoom,D.mouse[0]=yt(V,O),D.mouse[1]),D.extent,u))}function X(V){I.on("mousemove.zoom mouseup.zoom",null),fi(V.view,D.moved),Zt(V),D.event(V).end()}}function T(k,...j){if(n.apply(this,arguments)){var O=this.__zoom,D=yt(k.changedTouches?k.changedTouches[0]:k,this),I=O.invert(D),F=O.k*(k.shiftKey?.5:2),U=r(A(M(O,F),D,I),e.apply(this,j),u);Zt(k),s>0?ut(this).transition().duration(s).call(b,U,D,k):ut(this).call(g.transform,U,D,k)}}function E(k,...j){if(n.apply(this,arguments)){var O=k.touches,D=O.length,I=w(this,j,k.changedTouches.length===D).event(k),F,U,L,B;for(re(k),U=0;U<D;++U)L=O[U],B=yt(L,this),B=[B,this.__zoom.invert(B),L.identifier],I.touch0?!I.touch1&&I.touch0[2]!==B[2]&&(I.touch1=B,I.taps=0):(I.touch0=B,F=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),F&&(I.taps<2&&(h=B[0],f=setTimeout(function(){f=null},d)),jn(this),I.start())}}function N(k,...j){if(this.__zooming){var O=w(this,j).event(k),D=k.changedTouches,I=D.length,F,U,L,B;for(Zt(k),F=0;F<I;++F)U=D[F],L=yt(U,this),O.touch0&&O.touch0[2]===U.identifier?O.touch0[0]=L:O.touch1&&O.touch1[2]===U.identifier&&(O.touch1[0]=L);if(U=O.that.__zoom,O.touch1){var X=O.touch0[0],V=O.touch0[1],lt=O.touch1[0],xt=O.touch1[1],ct=(ct=lt[0]-X[0])*ct+(ct=lt[1]-X[1])*ct,wt=(wt=xt[0]-V[0])*wt+(wt=xt[1]-V[1])*wt;U=M(U,Math.sqrt(ct/wt)),L=[(X[0]+lt[0])/2,(X[1]+lt[1])/2],B=[(V[0]+xt[0])/2,(V[1]+xt[1])/2]}else if(O.touch0)L=O.touch0[0],B=O.touch0[1];else return;O.zoom("touch",r(A(U,L,B),O.extent,u))}}function q(k,...j){if(this.__zooming){var O=w(this,j).event(k),D=k.changedTouches,I=D.length,F,U;for(re(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},d),F=0;F<I;++F)U=D[F],O.touch0&&O.touch0[2]===U.identifier?delete O.touch0:O.touch1&&O.touch1[2]===U.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(U=yt(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<v)){var L=ut(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:Sn(+k),g):i},g.filter=function(k){return arguments.length?(n=typeof k=="function"?k:Sn(!!k),g):n},g.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Sn(!!k),g):o},g.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Sn([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):e},g.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],g):[a[0],a[1]]},g.translateExtent=function(k){return arguments.length?(u[0][0]=+k[0][0],u[1][0]=+k[1][0],u[0][1]=+k[0][1],u[1][1]=+k[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(k){return arguments.length?(r=k,g):r},g.duration=function(k){return arguments.length?(s=+k,g):s},g.interpolate=function(k){return arguments.length?(c=k,g):c},g.on=function(){var k=l.on.apply(l,arguments);return k===l?g:k},g.clickDistance=function(k){return arguments.length?(_=(k=+k)*k,g):Math.sqrt(_)},g.tapDistance=function(k){return arguments.length?(v=+k,g):v},g}class fr extends Map{constructor(e,r=cl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(pr(this,e))}has(e){return super.has(pr(this,e))}set(e,r){return super.set(sl(this,e),r)}delete(e){return super.delete(ll(this,e))}}function pr({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function sl({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function ll({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function cl(n){return n!==null&&typeof n=="object"?n.valueOf():n}function dr(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function gr(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function hl(n,e){let r=0;if(e===void 0)for(let i of n)(i=+i)&&(r+=i);else{let i=-1;for(let o of n)(o=+e(o,++i,n))&&(r+=o)}return r}var fl=typeof global=="object"&&global&&global.Object===Object&&global;const pl=fl;var dl=typeof self=="object"&&self&&self.Object===Object&&self,gl=pl||dl||Function("return this")();const Si=gl;var yl=Si.Symbol;const Ln=yl;var zi=Object.prototype,_l=zi.hasOwnProperty,vl=zi.toString,Kt=Ln?Ln.toStringTag:void 0;function ml(n){var e=_l.call(n,Kt),r=n[Kt];try{n[Kt]=void 0;var i=!0}catch{}var o=vl.call(n);return i&&(e?n[Kt]=r:delete n[Kt]),o}var bl=Object.prototype,xl=bl.toString;function wl(n){return xl.call(n)}var kl="[object Null]",Ml="[object Undefined]",yr=Ln?Ln.toStringTag:void 0;function Al(n){return n==null?n===void 0?Ml:kl:yr&&yr in Object(n)?ml(n):wl(n)}function Sl(n){return n!=null&&typeof n=="object"}var zl="[object Symbol]";function Ol(n){return typeof n=="symbol"||Sl(n)&&Al(n)==zl}var Pl=/\s/;function Cl(n){for(var e=n.length;e--&&Pl.test(n.charAt(e)););return e}var El=/^\s+/;function jl(n){return n&&n.slice(0,Cl(n)+1).replace(El,"")}function qn(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var _r=0/0,Nl=/^[-+]0x[0-9a-f]+$/i,Tl=/^0b[01]+$/i,Dl=/^0o[0-7]+$/i,Rl=parseInt;function vr(n){if(typeof n=="number")return n;if(Ol(n))return _r;if(qn(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=qn(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=jl(n);var r=Tl.test(n);return r||Dl.test(n)?Rl(n.slice(2),r?2:8):Nl.test(n)?_r:+n}var Il=function(){return Si.Date.now()};const ie=Il;var Ul="Expected a function",Fl=Math.max,Ll=Math.min;function Oi(n,e,r){var i,o,a,u,s,c,l=0,f=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(Ul);e=vr(e)||0,qn(r)&&(f=!!r.leading,h="maxWait"in r,a=h?Fl(vr(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(w){var S=i,z=o;return i=o=void 0,l=w,u=n.apply(z,S),u}function y(w){return l=w,s=setTimeout(g,e),f?d(w):u}function _(w){var S=w-c,z=w-l,C=e-S;return h?Ll(C,a-z):C}function v(w){var S=w-c,z=w-l;return c===void 0||S>=e||S<0||h&&z>=a}function g(){var w=ie();if(v(w))return M(w);s=setTimeout(g,_(w))}function M(w){return s=void 0,p&&i?d(w):(i=o=void 0,u)}function A(){s!==void 0&&clearTimeout(s),l=0,i=c=o=s=void 0}function x(){return s===void 0?u:M(ie())}function b(){var w=ie(),S=v(w);if(i=arguments,o=this,c=w,S){if(s===void 0)return y(c);if(h)return clearTimeout(s),s=setTimeout(g,e),d(c)}return s===void 0&&(s=setTimeout(g,e)),u}return b.cancel=A,b.flush=x,b}var ql="Expected a function";function Bl(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(ql);return qn(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Oi(n,e,{leading:i,maxWait:e,trailing:o})}var Ft=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Ft.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ft.Bounce.In(n*2)*.5:Ft.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),an=function(){return performance.now()},Pi=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var u=a[o];(e=u._group)===null||e===void 0||e.remove(u),u._group=this,this._tweens[u.getId()]=u,this._tweensAddedDuringUpdate[u.getId()]=u}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,o=e;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=an()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],u=!r;a&&a.update(e,u)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),Ht={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),a=Ht.Utils.Linear;return e<0?a(n[0],n[1],i):e>1?a(n[r],n[r-1],r-i):a(n[o],n[o+1>r?r:o+1],i-o)},Bezier:function(n,e){for(var r=0,i=n.length-1,o=Math.pow,a=Ht.Utils.Bernstein,u=0;u<=i;u++)r+=o(1-e,i-u)*o(e,u)*n[u]*a(i,u);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),a=Ht.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(o=Math.floor(i=r*(1+e))),a(n[(o-1+r)%r],n[o],n[(o+1)%r],n[(o+2)%r],i-o)):e<0?n[0]-(a(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(a(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):a(n[o?o-1:0],n[o],n[r<o+1?r:o+1],n[r<o+2?r:o+2],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=Ht.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,o){var a=(r-n)*.5,u=(i-e)*.5,s=o*o,c=o*s;return(2*e-2*r+a+u)*c+(-3*e+3*r-2*a-u)*s+a*o+e}}},Hl=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),ve=new Pi,mr=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ft.Linear.None,this._interpolationFunction=Ht.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Hl.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=ve,ve.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=an()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,o,a){for(var u in i){var s=e[u],c=Array.isArray(s),l=c?"array":typeof s,f=!c&&Array.isArray(i[u]);if(!(l==="undefined"||l==="function")){if(f){var h=i[u];if(h.length===0)continue;for(var p=[s],d=0,y=h.length;d<y;d+=1){var _=this._handleRelativeValue(s,h[d]);if(isNaN(_)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(_)}f&&(i[u]=p)}if((l==="object"||c)&&s&&!f){r[u]=c?[]:{};var v=s;for(var g in v)r[u][g]=v[g];o[u]=c?[]:{};var h=i[u];if(!this._isDynamic){var M={};for(var g in h)M[g]=h[g];i[u]=h=M}this._setupProperties(v,r[u],h,o[u],a)}else(typeof r[u]>"u"||a)&&(r[u]=s),c||(r[u]*=1),f?o[u]=i[u].slice().reverse():o[u]=r[u]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=an()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=an()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Ft.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=Ht.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,o;if(e===void 0&&(e=an()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var u=e-this._startTime,s=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),c=this._duration+this._repeat*s,l=function(){if(i._duration===0||u>c)return 1;var _=Math.trunc(u/s),v=u-_*s,g=Math.min(v/i._duration,1);return g===0&&u===i._duration?1:g},f=l(),h=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||u>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((u-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var d=0,y=this._chainedTweens.length;d<y;d++)this._chainedTweens[d].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,o){for(var a in i)if(r[a]!==void 0){var u=r[a]||0,s=i[a],c=Array.isArray(e[a]),l=Array.isArray(s),f=!c&&l;f?e[a]=this._interpolationFunction(s,o):typeof s=="object"&&s?this._updateProperties(e[a],u,s,o):(s=this._handleRelativeValue(u,s),typeof s=="number"&&(e[a]=u+(s-u)*o))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}(),mt=ve;mt.getAll.bind(mt);mt.removeAll.bind(mt);mt.add.bind(mt);mt.remove.bind(mt);mt.update.bind(mt);function br(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function $l(n){if(Array.isArray(n))return n}function Gl(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Yl(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Wl(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function Xl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vl(n,e){return $l(n)||Wl(n,e)||Zl(n,e)||Xl()}function Zl(n,e){if(n){if(typeof n=="string")return br(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(n,e):void 0}}var Kl=Yl(function n(e,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,u=a===void 0?!0:a,s=r.onChange,c=s===void 0?function(l,f){}:s;Gl(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=u,this.onChange=c});function Re(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,o=i===void 0?{}:i,a=n.methods,u=a===void 0?{}:a,s=n.aliases,c=s===void 0?{}:s,l=n.init,f=l===void 0?function(){}:l,h=n.update,p=h===void 0?function(){}:h,d=Object.keys(o).map(function(y){return new Kl(y,o[y])});return function y(){for(var _=arguments.length,v=new Array(_),g=0;g<_;g++)v[g]=arguments[g];var M=!!(this instanceof y&&this.constructor),A=M?v.shift():void 0,x=v[0],b=x===void 0?{}:x,w=Object.assign({},r instanceof Function?r(b):r,{initialised:!1}),S={};function z(E){return C(E,b),T(),z}var C=function(E,N){f.call(z,E,w,N),w.initialised=!0},T=Oi(function(){w.initialised&&(p.call(z,w,S),S={})},1);return d.forEach(function(E){z[E.name]=N(E);function N(q){var k=q.name,j=q.triggerUpdate,O=j===void 0?!1:j,D=q.onChange,I=D===void 0?function(L,B){}:D,F=q.defaultVal,U=F===void 0?null:F;return function(L){var B=w[k];if(!arguments.length)return B;var X=L===void 0?U:L;return w[k]=X,I.call(z,X,w,B),!S.hasOwnProperty(k)&&(S[k]=B),O&&T(),z}}}),Object.keys(u).forEach(function(E){z[E]=function(){for(var N,q=arguments.length,k=new Array(q),j=0;j<q;j++)k[j]=arguments[j];return(N=u[E]).call.apply(N,[z,w].concat(k))}}),Object.entries(c).forEach(function(E){var N=Vl(E,2),q=N[0],k=N[1];return z[q]=z[k]}),z.resetProps=function(){return d.forEach(function(E){z[E.name](E.defaultVal)}),z},z.resetProps(),w._rerender=T,M&&A&&z(A),z}}var H=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function Bn(n){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(n)}var Ql=/^\s+/,Jl=/\s+$/;function R(n,e){if(n=n||"",e=e||{},n instanceof R)return n;if(!(this instanceof R))return new R(n,e);var r=tc(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),e,r,i,o,a,u;return e=n.r/255,r=n.g/255,i=n.b/255,e<=.03928?o=e/12.92:o=Math.pow((e+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*u},setAlpha:function(n){return this._a=Ci(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=wr(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=wr(this._r,this._g,this._b),e=Math.round(n.h*360),r=Math.round(n.s*100),i=Math.round(n.v*100);return this._a==1?"hsv("+e+", "+r+"%, "+i+"%)":"hsva("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var n=xr(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=xr(this._r,this._g,this._b),e=Math.round(n.h*360),r=Math.round(n.s*100),i=Math.round(n.l*100);return this._a==1?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(n){return kr(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return ic(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Y(this._r,255)*100)+"%",g:Math.round(Y(this._g,255)*100)+"%",b:Math.round(Y(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Y(this._r,255)*100)+"%, "+Math.round(Y(this._g,255)*100)+"%, "+Math.round(Y(this._b,255)*100)+"%)":"rgba("+Math.round(Y(this._r,255)*100)+"%, "+Math.round(Y(this._g,255)*100)+"%, "+Math.round(Y(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:yc[kr(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var e="#"+Mr(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?"GradientType = 1, ":"";if(n){var o=R(n);r="#"+Mr(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+r+")"},toString:function(n){var e=!!n;n=n||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!e&&i&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return o?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(r=this.toRgbString()),n==="prgb"&&(r=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(r=this.toHexString()),n==="hex3"&&(r=this.toHexString(!0)),n==="hex4"&&(r=this.toHex8String(!0)),n==="hex8"&&(r=this.toHex8String()),n==="name"&&(r=this.toName()),n==="hsl"&&(r=this.toHslString()),n==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return R(this.toString())},_applyModification:function(n,e){var r=n.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(sc,arguments)},brighten:function(){return this._applyModification(lc,arguments)},darken:function(){return this._applyModification(cc,arguments)},desaturate:function(){return this._applyModification(oc,arguments)},saturate:function(){return this._applyModification(ac,arguments)},greyscale:function(){return this._applyModification(uc,arguments)},spin:function(){return this._applyModification(hc,arguments)},_applyCombination:function(n,e){return n.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(dc,arguments)},complement:function(){return this._applyCombination(fc,arguments)},monochromatic:function(){return this._applyCombination(gc,arguments)},splitcomplement:function(){return this._applyCombination(pc,arguments)},triad:function(){return this._applyCombination(Ar,[3])},tetrad:function(){return this._applyCombination(Ar,[4])}};R.fromRatio=function(n,e){if(Bn(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=un(n[i]));n=r}return R(n,e)};function tc(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,a=null,u=!1,s=!1;return typeof n=="string"&&(n=bc(n)),Bn(n)=="object"&&(Mt(n.r)&&Mt(n.g)&&Mt(n.b)?(e=nc(n.r,n.g,n.b),u=!0,s=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Mt(n.h)&&Mt(n.s)&&Mt(n.v)?(i=un(n.s),o=un(n.v),e=rc(n.h,i,o),u=!0,s="hsv"):Mt(n.h)&&Mt(n.s)&&Mt(n.l)&&(i=un(n.s),a=un(n.l),e=ec(n.h,i,a),u=!0,s="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=Ci(r),{ok:u,format:n.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function nc(n,e,r){return{r:Y(n,255)*255,g:Y(e,255)*255,b:Y(r,255)*255}}function xr(n,e,r){n=Y(n,255),e=Y(e,255),r=Y(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),a,u,s=(i+o)/2;if(i==o)a=u=0;else{var c=i-o;switch(u=s>.5?c/(2-i-o):c/(i+o),i){case n:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-n)/c+2;break;case r:a=(n-e)/c+4;break}a/=6}return{h:a,s:u,l:s}}function ec(n,e,r){var i,o,a;n=Y(n,360),e=Y(e,100),r=Y(r,100);function u(l,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(f-l)*6*h:h<1/2?f:h<2/3?l+(f-l)*(2/3-h)*6:l}if(e===0)i=o=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=u(c,s,n+1/3),o=u(c,s,n),a=u(c,s,n-1/3)}return{r:i*255,g:o*255,b:a*255}}function wr(n,e,r){n=Y(n,255),e=Y(e,255),r=Y(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),a,u,s=i,c=i-o;if(u=i===0?0:c/i,i==o)a=0;else{switch(i){case n:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-n)/c+2;break;case r:a=(n-e)/c+4;break}a/=6}return{h:a,s:u,v:s}}function rc(n,e,r){n=Y(n,360)*6,e=Y(e,100),r=Y(r,100);var i=Math.floor(n),o=n-i,a=r*(1-e),u=r*(1-o*e),s=r*(1-(1-o)*e),c=i%6,l=[r,u,a,a,s,r][c],f=[s,r,r,u,a,a][c],h=[a,a,s,r,r,u][c];return{r:l*255,g:f*255,b:h*255}}function kr(n,e,r,i){var o=[pt(Math.round(n).toString(16)),pt(Math.round(e).toString(16)),pt(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function ic(n,e,r,i,o){var a=[pt(Math.round(n).toString(16)),pt(Math.round(e).toString(16)),pt(Math.round(r).toString(16)),pt(Ei(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Mr(n,e,r,i){var o=[pt(Ei(i)),pt(Math.round(n).toString(16)),pt(Math.round(e).toString(16)),pt(Math.round(r).toString(16))];return o.join("")}R.equals=function(n,e){return!n||!e?!1:R(n).toRgbString()==R(e).toRgbString()};R.random=function(){return R.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function oc(n,e){e=e===0?0:e||10;var r=R(n).toHsl();return r.s-=e/100,r.s=Vn(r.s),R(r)}function ac(n,e){e=e===0?0:e||10;var r=R(n).toHsl();return r.s+=e/100,r.s=Vn(r.s),R(r)}function uc(n){return R(n).desaturate(100)}function sc(n,e){e=e===0?0:e||10;var r=R(n).toHsl();return r.l+=e/100,r.l=Vn(r.l),R(r)}function lc(n,e){e=e===0?0:e||10;var r=R(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),R(r)}function cc(n,e){e=e===0?0:e||10;var r=R(n).toHsl();return r.l-=e/100,r.l=Vn(r.l),R(r)}function hc(n,e){var r=R(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,R(r)}function fc(n){var e=R(n).toHsl();return e.h=(e.h+180)%360,R(e)}function Ar(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=R(n).toHsl(),i=[R(n)],o=360/e,a=1;a<e;a++)i.push(R({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function pc(n){var e=R(n).toHsl(),r=e.h;return[R(n),R({h:(r+72)%360,s:e.s,l:e.l}),R({h:(r+216)%360,s:e.s,l:e.l})]}function dc(n,e,r){e=e||6,r=r||30;var i=R(n).toHsl(),o=360/r,a=[R(n)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(R(i));return a}function gc(n,e){e=e||6;for(var r=R(n).toHsv(),i=r.h,o=r.s,a=r.v,u=[],s=1/e;e--;)u.push(R({h:i,s:o,v:a})),a=(a+s)%1;return u}R.mix=function(n,e,r){r=r===0?0:r||50;var i=R(n).toRgb(),o=R(e).toRgb(),a=r/100,u={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return R(u)};R.readability=function(n,e){var r=R(n),i=R(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};R.isReadable=function(n,e,r){var i=R.readability(n,e),o,a;switch(a=!1,o=xc(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};R.mostReadable=function(n,e,r){var i=null,o=0,a,u,s,c;r=r||{},u=r.includeFallbackColors,s=r.level,c=r.size;for(var l=0;l<e.length;l++)a=R.readability(n,e[l]),a>o&&(o=a,i=R(e[l]));return R.isReadable(n,i,{level:s,size:c})||!u?i:(r.includeFallbackColors=!1,R.mostReadable(n,["#fff","#000"],r))};var me=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},yc=R.hexNames=_c(me);function _c(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function Ci(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Y(n,e){vc(n)&&(n="100%");var r=mc(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function Vn(n){return Math.min(1,Math.max(0,n))}function et(n){return parseInt(n,16)}function vc(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function mc(n){return typeof n=="string"&&n.indexOf("%")!=-1}function pt(n){return n.length==1?"0"+n:""+n}function un(n){return n<=1&&(n=n*100+"%"),n}function Ei(n){return Math.round(parseFloat(n)*255).toString(16)}function Sr(n){return et(n)/255}var ht=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Mt(n){return!!ht.CSS_UNIT.exec(n)}function bc(n){n=n.replace(Ql,"").replace(Jl,"").toLowerCase();var e=!1;if(me[n])n=me[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ht.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=ht.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ht.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=ht.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ht.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=ht.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ht.hex8.exec(n))?{r:et(r[1]),g:et(r[2]),b:et(r[3]),a:Sr(r[4]),format:e?"name":"hex8"}:(r=ht.hex6.exec(n))?{r:et(r[1]),g:et(r[2]),b:et(r[3]),format:e?"name":"hex"}:(r=ht.hex4.exec(n))?{r:et(r[1]+""+r[1]),g:et(r[2]+""+r[2]),b:et(r[3]+""+r[3]),a:Sr(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=ht.hex3.exec(n))?{r:et(r[1]+""+r[1]),g:et(r[2]+""+r[2]),b:et(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function xc(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function be(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function wc(n){if(Array.isArray(n))return be(n)}function ji(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function kc(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mc(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function it(n,e){return n.get(ji(n,e))}function zr(n,e,r){kc(n,e),e.set(n,r)}function Or(n,e,r){return n.set(ji(n,e),r),r}function Ac(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ec(i.key),i)}}function Sc(n,e,r){return e&&Ac(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zc(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Oc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pc(n){return wc(n)||zc(n)||jc(n)||Oc()}function Cc(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ec(n){var e=Cc(n,"string");return typeof e=="symbol"?e:e+""}function jc(n,e){if(n){if(typeof n=="string")return be(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(n,e):void 0}}var Nc=123,Tc=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Ni=function(n,e,r){return(n<<16)+(e<<8)+r},Dc=function(n){var e=R(n).toRgb(),r=e.r,i=e.g,o=e.b;return Ni(r,i,o)},Pr=function(n,e){return n*Nc%Math.pow(2,e)},Dt=new WeakMap,At=new WeakMap,Rc=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Mc(this,n),zr(this,Dt,void 0),zr(this,At,void 0),Or(At,this,e),this.reset()}return Sc(n,[{key:"reset",value:function(){Or(Dt,this,["__reserved for background__"])}},{key:"register",value:function(e){if(it(Dt,this).length>=Math.pow(2,24-it(At,this)))return null;var r=it(Dt,this).length,i=Pr(r,it(At,this)),o=Tc(r+(i<<24-it(At,this)));return it(Dt,this).push(e),o}},{key:"lookup",value:function(e){if(!e)return null;var r=typeof e=="string"?Dc(e):Ni.apply(void 0,Pc(e));if(!r)return null;var i=r&Math.pow(2,24-it(At,this))-1,o=r>>24-it(At,this)&Math.pow(2,it(At,this))-1;return Pr(i,it(At,this))!==o||i>=it(Dt,this).length?null:it(Dt,this)[i]}}])}(),xn,W,Ti,Di,Rt,Cr,Ri,Ii,Ui,Ie,xe,we,yn={},Fi=[],Ic=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zn=Array.isArray;function _t(n,e){for(var r in e)n[r]=e[r];return n}function Ue(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Uc(n,e,r){var i,o,a,u={};for(a in e)a=="key"?i=e[a]:a=="ref"?o=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?xn.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)u[a]===void 0&&(u[a]=n.defaultProps[a]);return sn(n,u,i,o,null)}function sn(n,e,r,i,o){var a={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Ti,__i:-1,__u:0};return o==null&&W.vnode!=null&&W.vnode(a),a}function Kn(n){return n.children}function Nn(n,e){this.props=n,this.context=e}function Xt(n,e){if(e==null)return n.__?Xt(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?Xt(n):null}function Li(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return Li(n)}}function Er(n){(!n.__d&&(n.__d=!0)&&Rt.push(n)&&!Hn.__r++||Cr!=W.debounceRendering)&&((Cr=W.debounceRendering)||Ri)(Hn)}function Hn(){for(var n,e,r,i,o,a,u,s=1;Rt.length;)Rt.length>s&&Rt.sort(Ii),n=Rt.shift(),s=Rt.length,n.__d&&(r=void 0,i=void 0,o=(i=(e=n).__v).__e,a=[],u=[],e.__P&&((r=_t({},i)).__v=i.__v+1,W.vnode&&W.vnode(r),Fe(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[o]:null,a,o??Xt(i),!!(32&i.__u),u),r.__v=i.__v,r.__.__k[r.__i]=r,Hi(a,r,u),i.__e=i.__=null,r.__e!=o&&Li(r)));Hn.__r=0}function qi(n,e,r,i,o,a,u,s,c,l,f){var h,p,d,y,_,v,g,M=i&&i.__k||Fi,A=e.length;for(c=Fc(r,e,M,c,A),h=0;h<A;h++)(d=r.__k[h])!=null&&(p=d.__i==-1?yn:M[d.__i]||yn,d.__i=h,v=Fe(n,d,p,o,a,u,s,c,l,f),y=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&Le(p.ref,null,d),f.push(d.ref,d.__c||y,d)),_==null&&y!=null&&(_=y),(g=!!(4&d.__u))||p.__k===d.__k?c=Bi(d,c,n,g):typeof d.type=="function"&&v!==void 0?c=v:y&&(c=y.nextSibling),d.__u&=-7);return r.__e=_,c}function Fc(n,e,r,i,o){var a,u,s,c,l,f=r.length,h=f,p=0;for(n.__k=new Array(o),a=0;a<o;a++)(u=e[a])!=null&&typeof u!="boolean"&&typeof u!="function"?(c=a+p,(u=n.__k[a]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?sn(null,u,null,null,null):Zn(u)?sn(Kn,{children:u},null,null,null):u.constructor==null&&u.__b>0?sn(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=n,u.__b=n.__b+1,s=null,(l=u.__i=Lc(u,r,c,h))!=-1&&(h--,(s=r[l])&&(s.__u|=2)),s==null||s.__v==null?(l==-1&&(o>f?p--:o<f&&p++),typeof u.type!="function"&&(u.__u|=4)):l!=c&&(l==c-1?p--:l==c+1?p++:(l>c?p--:p++,u.__u|=4))):n.__k[a]=null;if(h)for(a=0;a<f;a++)(s=r[a])!=null&&!(2&s.__u)&&(s.__e==i&&(i=Xt(s)),Gi(s,s));return i}function Bi(n,e,r,i){var o,a;if(typeof n.type=="function"){for(o=n.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=n,e=Bi(o[a],e,r,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=Xt(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Lc(n,e,r,i){var o,a,u,s=n.key,c=n.type,l=e[r],f=l!=null&&(2&l.__u)==0;if(l===null&&n.key==null||f&&s==l.key&&c==l.type)return r;if(i>(f?1:0)){for(o=r-1,a=r+1;o>=0||a<e.length;)if((l=e[u=o>=0?o--:a++])!=null&&!(2&l.__u)&&s==l.key&&c==l.type)return u}return-1}function jr(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||Ic.test(e)?r:r+"px"}function zn(n,e,r,i,o){var a,u;t:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||jr(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||jr(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(Ui,"$1")),u=e.toLowerCase(),e=u in n||e=="onFocusOut"||e=="onFocusIn"?u.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=r,r?i?r.u=i.u:(r.u=Ie,n.addEventListener(e,a?we:xe,a)):n.removeEventListener(e,a?we:xe,a);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function Nr(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=Ie++;else if(e.t<r.u)return;return r(W.event?W.event(e):e)}}}function Fe(n,e,r,i,o,a,u,s,c,l){var f,h,p,d,y,_,v,g,M,A,x,b,w,S,z,C,T,E=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[s=e.__e=r.__e]),(f=W.__b)&&f(e);t:if(typeof E=="function")try{if(g=e.props,M="prototype"in E&&E.prototype.render,A=(f=E.contextType)&&i[f.__c],x=f?A?A.props.value:f.__:i,r.__c?v=(h=e.__c=r.__c).__=h.__E:(M?e.__c=h=new E(g,x):(e.__c=h=new Nn(g,x),h.constructor=E,h.render=Bc),A&&A.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),M&&h.__s==null&&(h.__s=h.state),M&&E.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=_t({},h.__s)),_t(h.__s,E.getDerivedStateFromProps(g,h.__s))),d=h.props,y=h.state,h.__v=e,p)M&&E.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),M&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(M&&E.getDerivedStateFromProps==null&&g!==d&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(g,x),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(g,h.__s,x)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(h.props=g,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(N){N&&(N.__=e)}),b=0;b<h._sb.length;b++)h.__h.push(h._sb[b]);h._sb=[],h.__h.length&&u.push(h);break t}h.componentWillUpdate!=null&&h.componentWillUpdate(g,h.__s,x),M&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(d,y,_)})}if(h.context=x,h.props=g,h.__P=n,h.__e=!1,w=W.__r,S=0,M){for(h.state=h.__s,h.__d=!1,w&&w(e),f=h.render(h.props,h.state,h.context),z=0;z<h._sb.length;z++)h.__h.push(h._sb[z]);h._sb=[]}else do h.__d=!1,w&&w(e),f=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++S<25);h.state=h.__s,h.getChildContext!=null&&(i=_t(_t({},i),h.getChildContext())),M&&!p&&h.getSnapshotBeforeUpdate!=null&&(_=h.getSnapshotBeforeUpdate(d,y)),C=f,f!=null&&f.type===Kn&&f.key==null&&(C=$i(f.props.children)),s=qi(n,Zn(C)?C:[C],e,r,i,o,a,u,s,c,l),h.base=e.__e,e.__u&=-161,h.__h.length&&u.push(h),v&&(h.__E=h.__=null)}catch(N){if(e.__v=null,c||a!=null)if(N.then){for(e.__u|=c?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,e.__e=s}else{for(T=a.length;T--;)Ue(a[T]);ke(e)}else e.__e=r.__e,e.__k=r.__k,N.then||ke(e);W.__e(N,e,r)}else a==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):s=e.__e=qc(r.__e,e,r,i,o,a,u,c,l);return(f=W.diffed)&&f(e),128&e.__u?void 0:s}function ke(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(ke)}function Hi(n,e,r){for(var i=0;i<r.length;i++)Le(r[i],r[++i],r[++i]);W.__c&&W.__c(e,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(a){a.call(o)})}catch(a){W.__e(a,o.__v)}})}function $i(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Zn(n)?n.map($i):_t({},n)}function qc(n,e,r,i,o,a,u,s,c){var l,f,h,p,d,y,_,v=r.props,g=e.props,M=e.type;if(M=="svg"?o="http://www.w3.org/2000/svg":M=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(l=0;l<a.length;l++)if((d=a[l])&&"setAttribute"in d==!!M&&(M?d.localName==M:d.nodeType==3)){n=d,a[l]=null;break}}if(n==null){if(M==null)return document.createTextNode(g);n=document.createElementNS(o,M,g.is&&g),s&&(W.__m&&W.__m(e,a),s=!1),a=null}if(M==null)v===g||s&&n.data==g||(n.data=g);else{if(a=a&&xn.call(n.childNodes),v=r.props||yn,!s&&a!=null)for(v={},l=0;l<n.attributes.length;l++)v[(d=n.attributes[l]).name]=d.value;for(l in v)if(d=v[l],l!="children"){if(l=="dangerouslySetInnerHTML")h=d;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;zn(n,l,null,d,o)}}for(l in g)d=g[l],l=="children"?p=d:l=="dangerouslySetInnerHTML"?f=d:l=="value"?y=d:l=="checked"?_=d:s&&typeof d!="function"||v[l]===d||zn(n,l,d,v[l],o);if(f)s||h&&(f.__html==h.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),e.__k=[];else if(h&&(n.innerHTML=""),qi(e.type=="template"?n.content:n,Zn(p)?p:[p],e,r,i,M=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,u,a?a[0]:r.__k&&Xt(r,0),s,c),a!=null)for(l=a.length;l--;)Ue(a[l]);s||(l="value",M=="progress"&&y==null?n.removeAttribute("value"):y!=null&&(y!==n[l]||M=="progress"&&!y||M=="option"&&y!=v[l])&&zn(n,l,y,v[l],o),l="checked",_!=null&&_!=n[l]&&zn(n,l,_,v[l],o))}return n}function Le(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(o){W.__e(o,r)}}function Gi(n,e,r){var i,o;if(W.unmount&&W.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||Le(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){W.__e(a,e)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&Gi(i[o],e,r||typeof n.type!="function");r||Ue(n.__e),n.__c=n.__=n.__e=void 0}function Bc(n,e,r){return this.constructor(n,r)}function Hc(n,e,r){var i,o,a,u;e==document&&(e=document.documentElement),W.__&&W.__(n,e),o=(i=typeof r=="function")?null:r&&r.__k||e.__k,a=[],u=[],Fe(e,n=(!i&&r||e).__k=Uc(Kn,null,[n]),o||yn,yn,e.namespaceURI,!i&&r?[r]:o?null:e.firstChild?xn.call(e.childNodes):null,a,!i&&r?r:o?o.__e:e.firstChild,i,u),Hi(a,n,u)}function Yi(n,e,r){var i,o,a,u,s=_t({},n.props);for(a in n.type&&n.type.defaultProps&&(u=n.type.defaultProps),e)a=="key"?i=e[a]:a=="ref"?o=e[a]:s[a]=e[a]===void 0&&u!=null?u[a]:e[a];return arguments.length>2&&(s.children=arguments.length>3?xn.call(arguments,2):r),sn(n.type,s,i||n.key,o||n.ref,null)}xn=Fi.slice,W={__e:function(n,e,r,i){for(var o,a,u;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(n)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,i||{}),u=o.__d),u)return o.__E=o}catch(s){n=s}throw n}},Ti=0,Di=function(n){return n!=null&&n.constructor==null},Nn.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=_t({},this.state),typeof n=="function"&&(n=n(_t({},r),this.props)),n&&_t(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Er(this))},Nn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Er(this))},Nn.prototype.render=Kn,Rt=[],Ri=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ii=function(n,e){return n.__v.__b-e.__v.__b},Hn.__r=0,Ui=/(PointerCapture)$|Capture$/i,Ie=0,xe=Nr(!1),we=Nr(!0);function Tr(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function $c(n){if(Array.isArray(n))return n}function Gc(n,e,r){return(e=Kc(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Yc(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function Wc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dr(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Xc(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dr(Object(r),!0).forEach(function(i){Gc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Vc(n,e){return $c(n)||Yc(n,e)||Qc(n,e)||Wc()}function Zc(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kc(n){var e=Zc(n,"string");return typeof e=="symbol"?e:e+""}function $n(n){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(n)}function Qc(n,e){if(n){if(typeof n=="string")return Tr(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tr(n,e):void 0}}var Me=function(n){if($n(n)!=="object")return n;var e=Yi(n);if(e.props){var r;e.props=Xc({},e.props),e!=null&&(r=e.props)!==null&&r!==void 0&&r.children&&(e.props.children=Array.isArray(e.props.children)?e.props.children.map(Me):Me(e.props.children))}return e},Jc=function(n){return Di(Yi(n))},th=function(n,e){delete e.__k,Hc(Me(n),e)};function nh(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var eh=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;nh(eh);var rh=Re({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.style,o=i===void 0?{}:i,a=!!n&&$n(n)==="object"&&!!n.node&&typeof n.node=="function",u=ut(a?n.node():n);u.style("position")==="static"&&u.style("position","relative"),e.tooltipEl=u.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(c){var l=Vc(c,2),f=l[0],h=l[1];return e.tooltipEl.style(f,h)}),e.tooltipEl.style("left","-10000px").style("display","none");var s="tooltip-".concat(Math.round(Math.random()*1e12));e.mouseInside=!1,u.on("mousemove.".concat(s),function(c){e.mouseInside=!0;var l=yt(c),f=u.node(),h=f.offsetWidth,p=f.offsetHeight,d=[e.offsetX===null||e.offsetX===void 0?"-".concat(l[0]/h*100,"%"):typeof e.offsetX=="number"?"calc(-50% + ".concat(e.offsetX,"px)"):e.offsetX,e.offsetY===null||e.offsetY===void 0?p>130&&p-l[1]<100?"calc(-100% - 6px)":"21px":typeof e.offsetY=="number"?e.offsetY<0?"calc(-100% - ".concat(Math.abs(e.offsetY),"px)"):"".concat(e.offsetY,"px"):e.offsetY];e.tooltipEl.style("left",l[0]+"px").style("top",l[1]+"px").style("transform","translate(".concat(d.join(","),")")),e.content&&e.tooltipEl.style("display","inline")}),u.on("mouseover.".concat(s),function(){e.mouseInside=!0,e.content&&e.tooltipEl.style("display","inline")}),u.on("mouseout.".concat(s),function(){e.mouseInside=!1,e.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Jc(n.content)?(n.tooltipEl.text(""),th(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function ih(n,e,r){var i,o=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function a(){var u,s=i.length,c,l=0,f=0,h=0;for(u=0;u<s;++u)c=i[u],l+=c.x||0,f+=c.y||0,h+=c.z||0;for(l=(l/s-n)*o,f=(f/s-e)*o,h=(h/s-r)*o,u=0;u<s;++u)c=i[u],l&&(c.x-=l),f&&(c.y-=f),h&&(c.z-=h)}return a.initialize=function(u){i=u},a.x=function(u){return arguments.length?(n=+u,a):n},a.y=function(u){return arguments.length?(e=+u,a):e},a.z=function(u){return arguments.length?(r=+u,a):r},a.strength=function(u){return arguments.length?(o=+u,a):o},a}function oh(n){const e=+this._x.call(null,n);return Wi(this.cover(e),e,n)}function Wi(n,e,r){if(isNaN(e))return n;var i,o=n._root,a={data:r},u=n._x0,s=n._x1,c,l,f,h,p;if(!o)return n._root=a,n;for(;o.length;)if((f=e>=(c=(u+s)/2))?u=c:s=c,i=o,!(o=o[h=+f]))return i[h]=a,n;if(l=+n._x.call(null,o.data),e===l)return a.next=o,i?i[h]=a:n._root=a,n;do i=i?i[h]=new Array(2):n._root=new Array(2),(f=e>=(c=(u+s)/2))?u=c:s=c;while((h=+f)==(p=+(l>=c)));return i[p]=o,i[h]=a,n}function ah(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,o=-1/0;for(let a=0,u;a<e;++a)isNaN(u=+this._x.call(null,n[a]))||(r[a]=u,u<i&&(i=u),u>o&&(o=u));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<e;++a)Wi(this,r[a],n[a]);return this}function uh(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,o=this._root,a,u;e>n||n>=r;)switch(u=+(n<e),a=new Array(2),a[u]=o,o=a,i*=2,u){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=r,this}function sh(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function lh(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ct(n,e,r){this.node=n,this.x0=e,this.x1=r}function ch(n,e){var r,i=this._x0,o,a,u=this._x1,s=[],c=this._root,l,f;for(c&&s.push(new Ct(c,i,u)),e==null?e=1/0:(i=n-e,u=n+e);l=s.pop();)if(!(!(c=l.node)||(o=l.x0)>u||(a=l.x1)<i))if(c.length){var h=(o+a)/2;s.push(new Ct(c[1],h,a),new Ct(c[0],o,h)),(f=+(n>=h))&&(l=s[s.length-1],s[s.length-1]=s[s.length-1-f],s[s.length-1-f]=l)}else{var p=Math.abs(n-+this._x.call(null,c.data));p<e&&(e=p,i=n-p,u=n+p,r=c.data)}return r}function hh(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,o,a,u=this._x0,s=this._x1,c,l,f,h,p;if(!r)return this;if(r.length)for(;;){if((f=c>=(l=(u+s)/2))?u=l:s=l,e=r,!(r=r[h=+f]))return this;if(!r.length)break;e[h+1&1]&&(i=e,p=h)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[h]=a:delete e[h],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[p]=r:this._root=r),this):(this._root=a,this)}function fh(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function ph(){return this._root}function dh(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function gh(n){var e=[],r,i=this._root,o,a,u;for(i&&e.push(new Ct(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,a=r.x0,u=r.x1)&&i.length){var s=(a+u)/2;(o=i[1])&&e.push(new Ct(o,s,u)),(o=i[0])&&e.push(new Ct(o,a,s))}return this}function yh(n){var e=[],r=[],i;for(this._root&&e.push(new Ct(this._root,this._x0,this._x1));i=e.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.x1,c=(u+s)/2;(a=o[0])&&e.push(new Ct(a,u,c)),(a=o[1])&&e.push(new Ct(a,c,s))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function _h(n){return n[0]}function vh(n){return arguments.length?(this._x=n,this):this._x}function Xi(n,e){var r=new qe(e??_h,NaN,NaN);return n==null?r:r.addAll(n)}function qe(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Rr(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var nt=Xi.prototype=qe.prototype;nt.copy=function(){var n=new qe(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Rr(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var o=0;o<2;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(2)}):e.target[o]=Rr(i));return n};nt.add=oh;nt.addAll=ah;nt.cover=uh;nt.data=sh;nt.extent=lh;nt.find=ch;nt.remove=hh;nt.removeAll=fh;nt.root=ph;nt.size=dh;nt.visit=gh;nt.visitAfter=yh;nt.x=vh;function mh(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return Vi(this.cover(e,r),e,r,n)}function Vi(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,a=n._root,u={data:i},s=n._x0,c=n._y0,l=n._x1,f=n._y1,h,p,d,y,_,v,g,M;if(!a)return n._root=u,n;for(;a.length;)if((_=e>=(h=(s+l)/2))?s=h:l=h,(v=r>=(p=(c+f)/2))?c=p:f=p,o=a,!(a=a[g=v<<1|_]))return o[g]=u,n;if(d=+n._x.call(null,a.data),y=+n._y.call(null,a.data),e===d&&r===y)return u.next=a,o?o[g]=u:n._root=u,n;do o=o?o[g]=new Array(4):n._root=new Array(4),(_=e>=(h=(s+l)/2))?s=h:l=h,(v=r>=(p=(c+f)/2))?c=p:f=p;while((g=v<<1|_)===(M=(y>=p)<<1|d>=h));return o[M]=a,o[g]=u,n}function bh(n){var e,r,i=n.length,o,a,u=new Array(i),s=new Array(i),c=1/0,l=1/0,f=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(a=+this._y.call(null,e))||(u[r]=o,s[r]=a,o<c&&(c=o),o>f&&(f=o),a<l&&(l=a),a>h&&(h=a));if(c>f||l>h)return this;for(this.cover(c,l).cover(f,h),r=0;r<i;++r)Vi(this,u[r],s[r],n[r]);return this}function xh(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,a=(i=Math.floor(e))+1;else{for(var u=o-r||1,s=this._root,c,l;r>n||n>=o||i>e||e>=a;)switch(l=(e<i)<<1|n<r,c=new Array(4),c[l]=s,s=c,u*=2,l){case 0:o=r+u,a=i+u;break;case 1:r=o-u,a=i+u;break;case 2:o=r+u,i=a-u;break;case 3:r=o-u,i=a-u;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function wh(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function kh(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Q(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function Mh(n,e,r){var i,o=this._x0,a=this._y0,u,s,c,l,f=this._x1,h=this._y1,p=[],d=this._root,y,_;for(d&&p.push(new Q(d,o,a,f,h)),r==null?r=1/0:(o=n-r,a=e-r,f=n+r,h=e+r,r*=r);y=p.pop();)if(!(!(d=y.node)||(u=y.x0)>f||(s=y.y0)>h||(c=y.x1)<o||(l=y.y1)<a))if(d.length){var v=(u+c)/2,g=(s+l)/2;p.push(new Q(d[3],v,g,c,l),new Q(d[2],u,g,v,l),new Q(d[1],v,s,c,g),new Q(d[0],u,s,v,g)),(_=(e>=g)<<1|n>=v)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-_],p[p.length-1-_]=y)}else{var M=n-+this._x.call(null,d.data),A=e-+this._y.call(null,d.data),x=M*M+A*A;if(x<r){var b=Math.sqrt(r=x);o=n-b,a=e-b,f=n+b,h=e+b,i=d.data}}return i}function Ah(n){if(isNaN(f=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var e,r=this._root,i,o,a,u=this._x0,s=this._y0,c=this._x1,l=this._y1,f,h,p,d,y,_,v,g;if(!r)return this;if(r.length)for(;;){if((y=f>=(p=(u+c)/2))?u=p:c=p,(_=h>=(d=(s+l)/2))?s=d:l=d,e=r,!(r=r[v=_<<1|y]))return this;if(!r.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(i=e,g=v)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[v]=a:delete e[v],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=a,this)}function Sh(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function zh(){return this._root}function Oh(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Ph(n){var e=[],r,i=this._root,o,a,u,s,c;for(i&&e.push(new Q(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,a=r.x0,u=r.y0,s=r.x1,c=r.y1)&&i.length){var l=(a+s)/2,f=(u+c)/2;(o=i[3])&&e.push(new Q(o,l,f,s,c)),(o=i[2])&&e.push(new Q(o,a,f,l,c)),(o=i[1])&&e.push(new Q(o,l,u,s,f)),(o=i[0])&&e.push(new Q(o,a,u,l,f))}return this}function Ch(n){var e=[],r=[],i;for(this._root&&e.push(new Q(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.y0,c=i.x1,l=i.y1,f=(u+c)/2,h=(s+l)/2;(a=o[0])&&e.push(new Q(a,u,s,f,h)),(a=o[1])&&e.push(new Q(a,f,s,c,h)),(a=o[2])&&e.push(new Q(a,u,h,f,l)),(a=o[3])&&e.push(new Q(a,f,h,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Eh(n){return n[0]}function jh(n){return arguments.length?(this._x=n,this):this._x}function Nh(n){return n[1]}function Th(n){return arguments.length?(this._y=n,this):this._y}function Zi(n,e,r){var i=new Be(e??Eh,r??Nh,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function Be(n,e,r,i,o,a){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function Ir(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var J=Zi.prototype=Be.prototype;J.copy=function(){var n=new Be(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Ir(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=Ir(i));return n};J.add=mh;J.addAll=bh;J.cover=xh;J.data=wh;J.extent=kh;J.find=Mh;J.remove=Ah;J.removeAll=Sh;J.root=zh;J.size=Oh;J.visit=Ph;J.visitAfter=Ch;J.x=jh;J.y=Th;function Dh(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return Ki(this.cover(e,r,i),e,r,i,n)}function Ki(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var a,u=n._root,s={data:o},c=n._x0,l=n._y0,f=n._z0,h=n._x1,p=n._y1,d=n._z1,y,_,v,g,M,A,x,b,w,S,z;if(!u)return n._root=s,n;for(;u.length;)if((x=e>=(y=(c+h)/2))?c=y:h=y,(b=r>=(_=(l+p)/2))?l=_:p=_,(w=i>=(v=(f+d)/2))?f=v:d=v,a=u,!(u=u[S=w<<2|b<<1|x]))return a[S]=s,n;if(g=+n._x.call(null,u.data),M=+n._y.call(null,u.data),A=+n._z.call(null,u.data),e===g&&r===M&&i===A)return s.next=u,a?a[S]=s:n._root=s,n;do a=a?a[S]=new Array(8):n._root=new Array(8),(x=e>=(y=(c+h)/2))?c=y:h=y,(b=r>=(_=(l+p)/2))?l=_:p=_,(w=i>=(v=(f+d)/2))?f=v:d=v;while((S=w<<2|b<<1|x)===(z=(A>=v)<<2|(M>=_)<<1|g>=y));return a[z]=u,a[S]=s,n}function Rh(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),o=new Float64Array(e);let a=1/0,u=1/0,s=1/0,c=-1/0,l=-1/0,f=-1/0;for(let h=0,p,d,y,_;h<e;++h)isNaN(d=+this._x.call(null,p=n[h]))||isNaN(y=+this._y.call(null,p))||isNaN(_=+this._z.call(null,p))||(r[h]=d,i[h]=y,o[h]=_,d<a&&(a=d),d>c&&(c=d),y<u&&(u=y),y>l&&(l=y),_<s&&(s=_),_>f&&(f=_));if(a>c||u>l||s>f)return this;this.cover(a,u,s).cover(c,l,f);for(let h=0;h<e;++h)Ki(this,r[h],i[h],o[h],n[h]);return this}function Ih(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,u=this._x1,s=this._y1,c=this._z1;if(isNaN(i))u=(i=Math.floor(n))+1,s=(o=Math.floor(e))+1,c=(a=Math.floor(r))+1;else{for(var l=u-i||1,f=this._root,h,p;i>n||n>=u||o>e||e>=s||a>r||r>=c;)switch(p=(r<a)<<2|(e<o)<<1|n<i,h=new Array(8),h[p]=f,f=h,l*=2,p){case 0:u=i+l,s=o+l,c=a+l;break;case 1:i=u-l,s=o+l,c=a+l;break;case 2:u=i+l,o=s-l,c=a+l;break;case 3:i=u-l,o=s-l,c=a+l;break;case 4:u=i+l,s=o+l,a=c-l;break;case 5:i=u-l,s=o+l,a=c-l;break;case 6:u=i+l,o=s-l,a=c-l;break;case 7:i=u-l,o=s-l,a=c-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=c,this}function Uh(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Fh(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function $(n,e,r,i,o,a,u){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=u}function Lh(n,e,r,i){var o,a=this._x0,u=this._y0,s=this._z0,c,l,f,h,p,d,y=this._x1,_=this._y1,v=this._z1,g=[],M=this._root,A,x;for(M&&g.push(new $(M,a,u,s,y,_,v)),i==null?i=1/0:(a=n-i,u=e-i,s=r-i,y=n+i,_=e+i,v=r+i,i*=i);A=g.pop();)if(!(!(M=A.node)||(c=A.x0)>y||(l=A.y0)>_||(f=A.z0)>v||(h=A.x1)<a||(p=A.y1)<u||(d=A.z1)<s))if(M.length){var b=(c+h)/2,w=(l+p)/2,S=(f+d)/2;g.push(new $(M[7],b,w,S,h,p,d),new $(M[6],c,w,S,b,p,d),new $(M[5],b,l,S,h,w,d),new $(M[4],c,l,S,b,w,d),new $(M[3],b,w,f,h,p,S),new $(M[2],c,w,f,b,p,S),new $(M[1],b,l,f,h,w,S),new $(M[0],c,l,f,b,w,S)),(x=(r>=S)<<2|(e>=w)<<1|n>=b)&&(A=g[g.length-1],g[g.length-1]=g[g.length-1-x],g[g.length-1-x]=A)}else{var z=n-+this._x.call(null,M.data),C=e-+this._y.call(null,M.data),T=r-+this._z.call(null,M.data),E=z*z+C*C+T*T;if(E<i){var N=Math.sqrt(i=E);a=n-N,u=e-N,s=r-N,y=n+N,_=e+N,v=r+N,o=M.data}}return o}const qh=(n,e,r,i,o,a)=>Math.sqrt((n-i)**2+(e-o)**2+(r-a)**2);function Bh(n,e,r,i){const o=[],a=n-i,u=e-i,s=r-i,c=n+i,l=e+i,f=r+i;return this.visit((h,p,d,y,_,v,g)=>{if(!h.length)do{const M=h.data;qh(n,e,r,this._x(M),this._y(M),this._z(M))<=i&&o.push(M)}while(h=h.next);return p>c||d>l||y>f||_<a||v<u||g<s}),o}function Hh(n){if(isNaN(p=+this._x.call(null,n))||isNaN(d=+this._y.call(null,n))||isNaN(y=+this._z.call(null,n)))return this;var e,r=this._root,i,o,a,u=this._x0,s=this._y0,c=this._z0,l=this._x1,f=this._y1,h=this._z1,p,d,y,_,v,g,M,A,x,b,w;if(!r)return this;if(r.length)for(;;){if((M=p>=(_=(u+l)/2))?u=_:l=_,(A=d>=(v=(s+f)/2))?s=v:f=v,(x=y>=(g=(c+h)/2))?c=g:h=g,e=r,!(r=r[b=x<<2|A<<1|M]))return this;if(!r.length)break;(e[b+1&7]||e[b+2&7]||e[b+3&7]||e[b+4&7]||e[b+5&7]||e[b+6&7]||e[b+7&7])&&(i=e,w=b)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[b]=a:delete e[b],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[w]=r:this._root=r),this):(this._root=a,this)}function $h(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Gh(){return this._root}function Yh(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Wh(n){var e=[],r,i=this._root,o,a,u,s,c,l,f;for(i&&e.push(new $(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,a=r.x0,u=r.y0,s=r.z0,c=r.x1,l=r.y1,f=r.z1)&&i.length){var h=(a+c)/2,p=(u+l)/2,d=(s+f)/2;(o=i[7])&&e.push(new $(o,h,p,d,c,l,f)),(o=i[6])&&e.push(new $(o,a,p,d,h,l,f)),(o=i[5])&&e.push(new $(o,h,u,d,c,p,f)),(o=i[4])&&e.push(new $(o,a,u,d,h,p,f)),(o=i[3])&&e.push(new $(o,h,p,s,c,l,d)),(o=i[2])&&e.push(new $(o,a,p,s,h,l,d)),(o=i[1])&&e.push(new $(o,h,u,s,c,p,d)),(o=i[0])&&e.push(new $(o,a,u,s,h,p,d))}return this}function Xh(n){var e=[],r=[],i;for(this._root&&e.push(new $(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var o=i.node;if(o.length){var a,u=i.x0,s=i.y0,c=i.z0,l=i.x1,f=i.y1,h=i.z1,p=(u+l)/2,d=(s+f)/2,y=(c+h)/2;(a=o[0])&&e.push(new $(a,u,s,c,p,d,y)),(a=o[1])&&e.push(new $(a,p,s,c,l,d,y)),(a=o[2])&&e.push(new $(a,u,d,c,p,f,y)),(a=o[3])&&e.push(new $(a,p,d,c,l,f,y)),(a=o[4])&&e.push(new $(a,u,s,y,p,d,h)),(a=o[5])&&e.push(new $(a,p,s,y,l,d,h)),(a=o[6])&&e.push(new $(a,u,d,y,p,f,h)),(a=o[7])&&e.push(new $(a,p,d,y,l,f,h))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Vh(n){return n[0]}function Zh(n){return arguments.length?(this._x=n,this):this._x}function Kh(n){return n[1]}function Qh(n){return arguments.length?(this._y=n,this):this._y}function Jh(n){return n[2]}function tf(n){return arguments.length?(this._z=n,this):this._z}function Qi(n,e,r,i){var o=new He(e??Vh,r??Kh,i??Jh,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function He(n,e,r,i,o,a,u,s,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=u,this._y1=s,this._z1=c,this._root=void 0}function Ur(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Z=Qi.prototype=He.prototype;Z.copy=function(){var n=new He(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Ur(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var o=0;o<8;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(8)}):e.target[o]=Ur(i));return n};Z.add=Dh;Z.addAll=Rh;Z.cover=Ih;Z.data=Uh;Z.extent=Fh;Z.find=Lh;Z.findAllWithinRadius=Bh;Z.remove=Hh;Z.removeAll=$h;Z.root=Gh;Z.size=Yh;Z.visit=Wh;Z.visitAfter=Xh;Z.x=Zh;Z.y=Qh;Z.z=tf;function Pt(n){return function(){return n}}function zt(n){return(n()-.5)*1e-6}function nf(n){return n.index}function Fr(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function ef(n){var e=nf,r=p,i,o=Pt(30),a,u,s,c,l,f,h=1;n==null&&(n=[]);function p(g){return 1/Math.min(c[g.source.index],c[g.target.index])}function d(g){for(var M=0,A=n.length;M<h;++M)for(var x=0,b,w,S,z=0,C=0,T=0,E,N;x<A;++x)b=n[x],w=b.source,S=b.target,z=S.x+S.vx-w.x-w.vx||zt(f),s>1&&(C=S.y+S.vy-w.y-w.vy||zt(f)),s>2&&(T=S.z+S.vz-w.z-w.vz||zt(f)),E=Math.sqrt(z*z+C*C+T*T),E=(E-a[x])/E*g*i[x],z*=E,C*=E,T*=E,S.vx-=z*(N=l[x]),s>1&&(S.vy-=C*N),s>2&&(S.vz-=T*N),w.vx+=z*(N=1-N),s>1&&(w.vy+=C*N),s>2&&(w.vz+=T*N)}function y(){if(u){var g,M=u.length,A=n.length,x=new Map(u.map((w,S)=>[e(w,S,u),w])),b;for(g=0,c=new Array(M);g<A;++g)b=n[g],b.index=g,typeof b.source!="object"&&(b.source=Fr(x,b.source)),typeof b.target!="object"&&(b.target=Fr(x,b.target)),c[b.source.index]=(c[b.source.index]||0)+1,c[b.target.index]=(c[b.target.index]||0)+1;for(g=0,l=new Array(A);g<A;++g)b=n[g],l[g]=c[b.source.index]/(c[b.source.index]+c[b.target.index]);i=new Array(A),_(),a=new Array(A),v()}}function _(){if(u)for(var g=0,M=n.length;g<M;++g)i[g]=+r(n[g],g,n)}function v(){if(u)for(var g=0,M=n.length;g<M;++g)a[g]=+o(n[g],g,n)}return d.initialize=function(g,...M){u=g,f=M.find(A=>typeof A=="function")||Math.random,s=M.find(A=>[1,2,3].includes(A))||2,y()},d.links=function(g){return arguments.length?(n=g,y(),d):n},d.id=function(g){return arguments.length?(e=g,d):e},d.iterations=function(g){return arguments.length?(h=+g,d):h},d.strength=function(g){return arguments.length?(r=typeof g=="function"?g:Pt(+g),_(),d):r},d.distance=function(g){return arguments.length?(o=typeof g=="function"?g:Pt(+g),v(),d):o},d}const rf=1664525,of=1013904223,Lr=4294967296;function af(){let n=1;return()=>(n=(rf*n+of)%Lr)/Lr}var qr=3;function oe(n){return n.x}function Br(n){return n.y}function uf(n){return n.z}var sf=10,lf=Math.PI*(3-Math.sqrt(5)),cf=Math.PI*20/(9+Math.sqrt(221));function hf(n,e){e=e||2;var r=Math.min(qr,Math.max(1,Math.round(e))),i,o=1,a=.001,u=1-Math.pow(a,1/300),s=0,c=.6,l=new Map,f=je(d),h=mn("tick","end"),p=af();n==null&&(n=[]);function d(){y(),h.call("tick",i),o<a&&(f.stop(),h.call("end",i))}function y(g){var M,A=n.length,x;g===void 0&&(g=1);for(var b=0;b<g;++b)for(o+=(s-o)*u,l.forEach(function(w){w(o)}),M=0;M<A;++M)x=n[M],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function _(){for(var g=0,M=n.length,A;g<M;++g){if(A=n[g],A.index=g,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),A.fz!=null&&(A.z=A.fz),isNaN(A.x)||r>1&&isNaN(A.y)||r>2&&isNaN(A.z)){var x=sf*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),b=g*lf,w=g*cf;r===1?A.x=x:r===2?(A.x=x*Math.cos(b),A.y=x*Math.sin(b)):(A.x=x*Math.sin(b)*Math.cos(w),A.y=x*Math.cos(b),A.z=x*Math.sin(b)*Math.sin(w))}(isNaN(A.vx)||r>1&&isNaN(A.vy)||r>2&&isNaN(A.vz))&&(A.vx=0,r>1&&(A.vy=0),r>2&&(A.vz=0))}}function v(g){return g.initialize&&g.initialize(n,p,r),g}return _(),i={tick:y,restart:function(){return f.restart(d),i},stop:function(){return f.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(qr,Math.max(1,Math.round(g))),l.forEach(v),i):r},nodes:function(g){return arguments.length?(n=g,_(),l.forEach(v),i):n},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(u=+g,i):+u},alphaTarget:function(g){return arguments.length?(s=+g,i):s},velocityDecay:function(g){return arguments.length?(c=1-g,i):1-c},randomSource:function(g){return arguments.length?(p=g,l.forEach(v),i):p},force:function(g,M){return arguments.length>1?(M==null?l.delete(g):l.set(g,v(M)),i):l.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),M=g.shift()||0,A=(r>1?g.shift():null)||0,x=(r>2?g.shift():null)||0,b=g.shift()||1/0,w=0,S=n.length,z,C,T,E,N,q;for(b*=b,w=0;w<S;++w)N=n[w],z=M-N.x,C=A-(N.y||0),T=x-(N.z||0),E=z*z+C*C+T*T,E<b&&(q=N,b=E);return q},on:function(g,M){return arguments.length>1?(h.on(g,M),i):h.on(g)}}}function ff(){var n,e,r,i,o,a=Pt(-30),u,s=1,c=1/0,l=.81;function f(y){var _,v=n.length,g=(e===1?Xi(n,oe):e===2?Zi(n,oe,Br):e===3?Qi(n,oe,Br,uf):null).visitAfter(p);for(o=y,_=0;_<v;++_)r=n[_],g.visit(d)}function h(){if(n){var y,_=n.length,v;for(u=new Array(_),y=0;y<_;++y)v=n[y],u[v.index]=+a(v,y,n)}}function p(y){var _=0,v,g,M=0,A,x,b,w,S=y.length;if(S){for(A=x=b=w=0;w<S;++w)(v=y[w])&&(g=Math.abs(v.value))&&(_+=v.value,M+=g,A+=g*(v.x||0),x+=g*(v.y||0),b+=g*(v.z||0));_*=Math.sqrt(4/S),y.x=A/M,e>1&&(y.y=x/M),e>2&&(y.z=b/M)}else{v=y,v.x=v.data.x,e>1&&(v.y=v.data.y),e>2&&(v.z=v.data.z);do _+=u[v.data.index];while(v=v.next)}y.value=_}function d(y,_,v,g,M){if(!y.value)return!0;var A=[v,g,M][e-1],x=y.x-r.x,b=e>1?y.y-r.y:0,w=e>2?y.z-r.z:0,S=A-_,z=x*x+b*b+w*w;if(S*S/l<z)return z<c&&(x===0&&(x=zt(i),z+=x*x),e>1&&b===0&&(b=zt(i),z+=b*b),e>2&&w===0&&(w=zt(i),z+=w*w),z<s&&(z=Math.sqrt(s*z)),r.vx+=x*y.value*o/z,e>1&&(r.vy+=b*y.value*o/z),e>2&&(r.vz+=w*y.value*o/z)),!0;if(!(y.length||z>=c)){(y.data!==r||y.next)&&(x===0&&(x=zt(i),z+=x*x),e>1&&b===0&&(b=zt(i),z+=b*b),e>2&&w===0&&(w=zt(i),z+=w*w),z<s&&(z=Math.sqrt(s*z)));do y.data!==r&&(S=u[y.data.index]*o/z,r.vx+=x*S,e>1&&(r.vy+=b*S),e>2&&(r.vz+=w*S));while(y=y.next)}}return f.initialize=function(y,..._){n=y,i=_.find(v=>typeof v=="function")||Math.random,e=_.find(v=>[1,2,3].includes(v))||2,h()},f.strength=function(y){return arguments.length?(a=typeof y=="function"?y:Pt(+y),h(),f):a},f.distanceMin=function(y){return arguments.length?(s=y*y,f):Math.sqrt(s)},f.distanceMax=function(y){return arguments.length?(c=y*y,f):Math.sqrt(c)},f.theta=function(y){return arguments.length?(l=y*y,f):Math.sqrt(l)},f}function pf(n,e,r,i){var o,a,u=Pt(.1),s,c;typeof n!="function"&&(n=Pt(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function l(h){for(var p=0,d=o.length;p<d;++p){var y=o[p],_=y.x-e||1e-6,v=(y.y||0)-r||1e-6,g=(y.z||0)-i||1e-6,M=Math.sqrt(_*_+v*v+g*g),A=(c[p]-M)*s[p]*h/M;y.vx+=_*A,a>1&&(y.vy+=v*A),a>2&&(y.vz+=g*A)}}function f(){if(o){var h,p=o.length;for(s=new Array(p),c=new Array(p),h=0;h<p;++h)c[h]=+n(o[h],h,o),s[h]=isNaN(c[h])?0:+u(o[h],h,o)}}return l.initialize=function(h,...p){o=h,a=p.find(d=>[1,2,3].includes(d))||2,f()},l.strength=function(h){return arguments.length?(u=typeof h=="function"?h:Pt(+h),f(),l):u},l.radius=function(h){return arguments.length?(n=typeof h=="function"?h:Pt(+h),f(),l):n},l.x=function(h){return arguments.length?(e=+h,l):e},l.y=function(h){return arguments.length?(r=+h,l):r},l.z=function(h){return arguments.length?(i=+h,l):i},l}const{abs:Qt,cos:St,sin:qt,acos:df,atan2:Jt,sqrt:jt,pow:ot}=Math;function tn(n){return n<0?-ot(-n,1/3):ot(n,1/3)}const Ji=Math.PI,On=2*Ji,Nt=Ji/2,gf=1e-6,ae=Number.MAX_SAFE_INTEGER||9007199254740991,ue=Number.MIN_SAFE_INTEGER||-9007199254740991,yf={x:0,y:0,z:0},P={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),jt(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let a=e;if(i===0)return e[0].t=n,e[0];if(i===1){const s={x:o*a[0].x+n*a[1].x,y:o*a[0].y+n*a[1].y,t:n};return r&&(s.z=o*a[0].z+n*a[1].z),s}if(i<4){let s=o*o,c=n*n,l,f,h,p=0;i===2?(a=[a[0],a[1],a[2],yf],l=s,f=o*n*2,h=c):i===3&&(l=s*o,f=s*n*3,h=o*c*3,p=n*c);const d={x:l*a[0].x+f*a[1].x+h*a[2].x+p*a[3].x,y:l*a[0].y+f*a[1].y+h*a[2].y+p*a[3].y,t:n};return r&&(d.z=l*a[0].z+f*a[1].z+h*a[2].z+p*a[3].z),d}const u=JSON.parse(JSON.stringify(e));for(;u.length>1;){for(let s=0;s<u.length-1;s++)u[s]={x:u[s].x+(u[s+1].x-u[s].x)*n,y:u[s].y+(u[s+1].y-u[s].y)*n},typeof u[s].z<"u"&&(u[s].z=u[s].z+(u[s+1].z-u[s].z)*n);u.splice(u.length-1,1)}return u[0].t=n,u[0]},computeWithRatios:function(n,e,r,i){const o=1-n,a=r,u=e;let s=a[0],c=a[1],l=a[2],f=a[3],h;if(s*=o,c*=n,u.length===2)return h=s+c,{x:(s*u[0].x+c*u[1].x)/h,y:(s*u[0].y+c*u[1].y)/h,z:i?(s*u[0].z+c*u[1].z)/h:!1,t:n};if(s*=o,c*=2*o,l*=n*n,u.length===3)return h=s+c+l,{x:(s*u[0].x+c*u[1].x+l*u[2].x)/h,y:(s*u[0].y+c*u[1].y+l*u[2].y)/h,z:i?(s*u[0].z+c*u[1].z+l*u[2].z)/h:!1,t:n};if(s*=o,c*=1.5*o,l*=3*o,f*=n*n*n,u.length===4)return h=s+c+l+f,{x:(s*u[0].x+c*u[1].x+l*u[2].x+f*u[3].x)/h,y:(s*u[0].y+c*u[1].y+l*u[2].y+f*u[3].y)/h,z:i?(s*u[0].z+c*u[1].z+l*u[2].z+f*u[3].z)/h:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,a=o-1;o>1;o--,a--){const u=[];for(let s=0,c;s<a;s++)c={x:a*(i[s+1].x-i[s].x),y:a*(i[s+1].y-i[s].y)},e&&(c.z=a*(i[s+1].z-i[s].z)),u.push(c);r.push(u),i=u}return r},between:function(n,e,r){return e<=n&&n<=r||P.approximately(n,e)||P.approximately(n,r)},approximately:function(n,e,r){return Qt(n-e)<=(r||gf)},length:function(n){const e=P.Tvalues.length;let r=0;for(let i=0,o;i<e;i++)o=.5*P.Tvalues[i]+.5,r+=P.Cvalues[i]*P.arcfn(o,n);return .5*r},map:function(n,e,r,i,o){const a=r-e,u=o-i,s=n-e,c=s/a;return i+u*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(P.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,a=r.x-n.x,u=r.y-n.y,s=i*u-o*a,c=i*a+o*u;return Jt(s,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return jt(r*r+i*i)},closest:function(n,e){let r=ot(2,63),i,o;return n.forEach(function(a,u){o=P.dist(e,a),o<r&&(r=o,i=u)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=ot(n,e)+ot(1-n,e),i=r-1;return Qt(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=ot(1-n,e),i=ot(n,e)+r;return r/i},lli8:function(n,e,r,i,o,a,u,s){const c=(n*i-e*r)*(o-u)-(n-r)*(o*s-a*u),l=(n*i-e*r)*(a-s)-(e-i)*(o*s-a*u),f=(n-r)*(a-s)-(e-i)*(o-u);return f==0?!1:{x:c/f,y:l/f}},lli4:function(n,e,r,i){const o=n.x,a=n.y,u=e.x,s=e.y,c=r.x,l=r.y,f=i.x,h=i.y;return P.lli8(o,a,u,s,c,l,f,h)},lli:function(n,e){return P.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new G(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ae,r=ae,i=ue,o=ue;return n.forEach(function(a){const u=a.bbox();e>u.x.min&&(e=u.x.min),r>u.y.min&&(r=u.y.min),i<u.x.max&&(i=u.x.max),o<u.y.max&&(o=u.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!P.bboxoverlap(e,i))return[];const a=[],u=[n.startcap,n.forward,n.back,n.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return u.forEach(function(c){c.virtual||s.forEach(function(l){if(l.virtual)return;const f=c.intersects(l,o);f.length>0&&(f.c1=c,f.c2=l,f.s1=n,f.s2=r,a.push(f))})}),a},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,a=P.makeline(e.points[i-1],n.points[0]),u=P.makeline(n.points[o-1],e.points[0]),s={startcap:a,forward:n,back:e,endcap:u,bbox:P.findbbox([a,n,e,u])};return s.intersections=function(c){return P.shapeintersections(s,s.bbox,c,c.bbox,r)},s},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ae,o=ue,a,u;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let s=0,c=r.length;s<c;s++)a=r[s],u=n.get(a),u[e]<i&&(i=u[e]),u[e]>o&&(o=u[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-Jt(e.p2.y-i,e.p2.x-r),a=function(u){return{x:(u.x-r)*St(o)-(u.y-i)*qt(o),y:(u.x-r)*qt(o)+(u.y-i)*St(o)}};return n.map(a)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=P.align(n,e),o=function(S){return 0<=S&&S<=1};if(r===2){const S=i[0].y,z=i[1].y,C=i[2].y,T=S-2*z+C;if(T!==0){const E=-jt(z*z-S*C),N=-S+z,q=-(E+N)/T,k=-(-E+N)/T;return[q,k].filter(o)}else if(z!==C&&T===0)return[(2*z-C)/(2*z-2*C)].filter(o);return[]}const a=i[0].y,u=i[1].y,s=i[2].y,c=i[3].y;let l=-a+3*u-3*s+c,f=3*a-6*u+3*s,h=-3*a+3*u,p=a;if(P.approximately(l,0)){if(P.approximately(f,0))return P.approximately(h,0)?[]:[-p/h].filter(o);const S=jt(h*h-4*f*p),z=2*f;return[(S-h)/z,(-h-S)/z].filter(o)}f/=l,h/=l,p/=l;const d=(3*h-f*f)/3,y=d/3,_=(2*f*f*f-9*f*h+27*p)/27,v=_/2,g=v*v+y*y*y;let M,A,x,b,w;if(g<0){const S=-d/3,z=S*S*S,C=jt(z),T=-_/(2*C),E=T<-1?-1:T>1?1:T,N=df(E),q=tn(C),k=2*q;return x=k*St(N/3)-f/3,b=k*St((N+On)/3)-f/3,w=k*St((N+2*On)/3)-f/3,[x,b,w].filter(o)}else{if(g===0)return M=v<0?tn(-v):-tn(v),x=2*M-f/3,b=-M-f/3,[x,b].filter(o);{const S=jt(g);return M=tn(-v+S),A=tn(v+S),[M-A-f/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const a=-jt(r*r-e*i),u=-e+r,s=-(a+u)/o,c=-(-a+u)/o;return[s,c]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let a,u,s,c,l=0,f=0;const h=P.compute(n,e),p=P.compute(n,r),d=h.x*h.x+h.y*h.y;if(i?(a=jt(ot(h.y*p.z-p.y*h.z,2)+ot(h.z*p.x-p.z*h.x,2)+ot(h.x*p.y-p.x*h.y,2)),u=ot(d+h.z*h.z,3/2)):(a=h.x*p.y-h.y*p.x,u=ot(d,3/2)),a===0||u===0)return{k:0,r:0};if(l=a/u,f=u/a,!o){const y=P.curvature(n-.001,e,r,i,!0).k,_=P.curvature(n+.001,e,r,i,!0).k;c=(_-l+(l-y))/2,s=(Qt(_-l)+Qt(l-y))/2}return{k:l,r:f,dk:c,adk:s}},inflections:function(n){if(n.length<4)return[];const e=P.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,a=e[3].x*e[2].y,u=18*(-3*r+2*i+3*o-a),s=18*(3*r-i-3*o),c=18*(o-r);if(P.approximately(u,0)){if(!P.approximately(s,0)){let p=-c/s;if(0<=p&&p<=1)return[p]}return[]}const l=2*u;if(P.approximately(l,0))return[];const f=s*s-4*u*c;if(f<0)return[];const h=Math.sqrt(f);return[(h-s)/l,-(s+h)/l].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,a,u,s,c;o<i;o++)if(a=r[o],u=n[a].mid,s=e[a].mid,c=(n[a].size+e[a].size)/2,Qt(u-s)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),a=1e5,u=r||.5;if(i.x.size+i.y.size<u&&o.x.size+o.y.size<u)return[(a*(n._t1+n._t2)/2|0)/a+"/"+(a*(e._t1+e._t2)/2|0)/a];let s=n.split(.5),c=e.split(.5),l=[{left:s.left,right:c.left},{left:s.left,right:c.right},{left:s.right,right:c.right},{left:s.right,right:c.left}];l=l.filter(function(h){return P.bboxoverlap(h.left.bbox(),h.right.bbox())});let f=[];return l.length===0||(l.forEach(function(h){f=f.concat(P.pairiteration(h.left,h.right,u))}),f=f.filter(function(h,p){return f.indexOf(h)===p})),f},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,a=r.x-e.x,u=r.y-e.y,s=i*St(Nt)-o*qt(Nt),c=i*qt(Nt)+o*St(Nt),l=a*St(Nt)-u*qt(Nt),f=a*qt(Nt)+u*St(Nt),h=(n.x+e.x)/2,p=(n.y+e.y)/2,d=(e.x+r.x)/2,y=(e.y+r.y)/2,_=h+s,v=p+c,g=d+l,M=y+f,A=P.lli8(h,p,_,v,d,y,g,M),x=P.dist(A,n);let b=Jt(n.y-A.y,n.x-A.x),w=Jt(e.y-A.y,e.x-A.x),S=Jt(r.y-A.y,r.x-A.x),z;return b<S?((b>w||w>S)&&(b+=On),b>S&&(z=S,S=b,b=z)):S<w&&w<b?(z=S,S=b,b=z):S+=On,A.s=b,A.e=S,A.r=x,A},numberSort:function(n,e){return n-e}};class ln{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return P.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)P.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new ln(r)}}const{abs:nn,min:Hr,max:$r,cos:_f,sin:vf,acos:mf,sqrt:en}=Math,bf=Math.PI;class G{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const d=[];r.forEach(function(y){["x","y","z"].forEach(function(_){typeof y[_]<"u"&&d.push(y[_])})}),r=d}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const u=this._3d=!o&&(a===9||a===12)||e&&e[0]&&typeof e[0].z<"u",s=this.points=[];for(let d=0,y=u?3:2;d<a;d+=y){var c={x:r[d],y:r[d+1]};u&&(c.z=r[d+2]),s.push(c)}const l=this.order=s.length-1,f=this.dims=["x","y"];u&&f.push("z"),this.dimlen=f.length;const h=P.align(s,{p1:s[0],p2:s[l]}),p=P.dist(s[0],s[l]);this._linear=h.reduce((d,y)=>d+nn(y.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new G(r,r,i);if(o===1)return new G(e,r,r);const a=G.getABC(2,e,r,i,o);return new G(e,a.A,i)}static cubicFromPoints(e,r,i,o,a){typeof o>"u"&&(o=.5);const u=G.getABC(3,e,r,i,o);typeof a>"u"&&(a=P.dist(r,u.C));const s=a*(1-o)/o,c=P.dist(e,i),l=(i.x-e.x)/c,f=(i.y-e.y)/c,h=a*l,p=a*f,d=s*l,y=s*f,_={x:r.x-h,y:r.y-p},v={x:r.x+d,y:r.y+y},g=u.A,M={x:g.x+(_.x-g.x)/(1-o),y:g.y+(_.y-g.y)/(1-o)},A={x:g.x+(v.x-g.x)/o,y:g.y+(v.y-g.y)/o},x={x:e.x+(M.x-e.x)/o,y:e.y+(M.y-e.y)/o},b={x:i.x+(A.x-i.x)/(1-o),y:i.y+(A.y-i.y)/(1-o)};return new G(e,x,b,i)}static getUtils(){return P}getUtils(){return G.getUtils()}static get PolyBezier(){return ln}valueOf(){return this.toString()}toString(){return P.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,u=e.length;a<u;a++)o.push(e[a].x),o.push(e[a].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=P.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=P.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return P.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,a=.5){const u=P.projectionratio(a,e),s=1-u,c={x:u*r.x+s*o.x,y:u*r.y+s*o.y},l=P.abcratio(a,e);return{A:{x:i.x+(i.x-c.x)/l,y:i.y+(i.y-c.y)/l},B:i,C:c,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return G.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,u,s=0;a<i.length;a++)u=i[a],P.dist(u,e)<r&&(o.push(u),s+=a/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=P.closest(r,e),a=o.mpos,u=(a-1)/i,s=(a+1)/i,c=.1/i;let l=o.mdist,f=u,h=f,p;l+=1;for(let d;f<s+c;f+=c)p=this.compute(f),d=P.dist(e,p),d<l&&(l=d,h=f);return h=h<0?0:h>1?1:h,p=this.compute(h),p.t=h,p.d=l,p}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?P.computeWithRatios(e,this.points,this.ratios,this._3d):P.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,a,u;o<i;o++)a=e[o],u=e[o-1],r[o]={x:(i-o)/i*a.x+o/i*u.x,y:(i-o)/i*a.y+o/i*u.y};return r[i]=e[i-1],new G(r)}derivative(e){return P.compute(e,this.dpoints[0],this._3d)}dderivative(e){return P.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new G(P.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return P.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return P.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=en(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=en(r.x*r.x+r.y*r.y+r.z*r.z),a=en(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const u={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},s=en(u.x*u.x+u.y*u.y+u.z*u.z);u.x/=s,u.y/=s,u.z/=s;const c=[u.x*u.x,u.x*u.y-u.z,u.x*u.z+u.y,u.x*u.y+u.z,u.y*u.y,u.y*u.z-u.x,u.x*u.z-u.y,u.y*u.z+u.x,u.z*u.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let u=0,s,c=r.length-1;u<c;u++)s=P.lerp(e,r[u],r[u+1]),o[a++]=s,i.push(s);r=i}return o}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new G([i[0],i[3],i[5]]):new G([i[0],i[4],i[7],i[9]]),right:this.order===2?new G([i[5],i[4],i[2]]):new G([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=P.map(0,0,1,this._t1,this._t2),o.left._t2=P.map(e,0,1,this._t1,this._t2),o.right._t1=P.map(e,0,1,this._t1,this._t2),o.right._t2=P.map(1,0,1,this._t1,this._t2),r?(r=P.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let o=function(u){return u[i]},a=this.dpoints[0].map(o);e[i]=P.droots(a),this.order===3&&(a=this.dpoints[1].map(o),e[i]=e[i].concat(P.droots(a))),e[i]=e[i].filter(function(u){return u>=0&&u<=1}),r=r.concat(e[i].sort(P.numberSort))}).bind(this)),e.values=r.sort(P.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=P.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return P.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),o=this.normal(e),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const u={x:a.x+e*i.x,y:a.y+e*i.y};return a.z&&i.z&&(u.z=a.z+e*i.z),u});return[new G(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=P.angle(this.points[0],this.points[3],this.points[1]),a=P.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),nn(mf(i))<bf/3}reduce(){let e,r=0,i=0,o=.01,a,u=[],s=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],a=this.split(r,i),a._t1=r,a._t2=i,u.push(a),r=i;return u.forEach(function(l){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=l.split(r,i),!a.simple()){if(i-=o,nn(r-i)<o)return[];a=l.split(r,i),a._t1=P.map(r,0,1,l._t1,l._t2),a._t2=P.map(i,0,1,l._t1,l._t2),s.push(a),r=i;break}r<1&&(a=l.split(r,1),a._t1=P.map(r,0,1,l._t1,l._t2),a._t2=l._t2,s.push(a))}),s}translate(e,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((u,s)=>(1-s/o)*r+s/o*i);return new G(this.points.map((u,s)=>({x:u.x+e.x*a[s],y:u.y+e.y*a[s]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const u=i?i(0):e,s=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],l=[],f=P.lli4(c[0],c[0].c,c[1],c[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const p=l[h*r]=P.copy(a[h*r]);p.x+=(h?s:u)*c[h].n.x,p.y+=(h?s:u)*c[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var p=a[h+1],d={x:p.x-f.x,y:p.y-f.y},y=i?i((h+1)/r):e;i&&!o&&(y=-y);var _=en(d.x*d.x+d.y*d.y);d.x/=_,d.y/=_,l[h+1]={x:p.x+y*d.x,y:p.y+y*d.y}}}),new G(l)):([0,1].forEach(h=>{if(r===2&&h)return;const p=l[h*r],d=this.derivative(h),y={x:p.x+d.x,y:p.y+d.y};l[h+1]=P.lli4(p,y,f,a[h+1])}),new G(l))}outline(e,r,i,o){if(r=r===void 0?e:r,this._linear){const b=this.normal(0),w=this.points[0],S=this.points[this.points.length-1];let z,C,T;i===void 0&&(i=e,o=r),z={x:w.x+b.x*e,y:w.y+b.y*e},T={x:S.x+b.x*i,y:S.y+b.y*i},C={x:(z.x+T.x)/2,y:(z.y+T.y)/2};const E=[z,C,T];z={x:w.x-b.x*r,y:w.y-b.y*r},T={x:S.x-b.x*o,y:S.y-b.y*o},C={x:(z.x+T.x)/2,y:(z.y+T.y)/2};const N=[T,C,z],q=P.makeline(N[2],E[0]),k=P.makeline(E[2],N[0]),j=[q,new G(E),k,new G(N)];return new ln(j)}const a=this.reduce(),u=a.length,s=[];let c=[],l,f=0,h=this.length();const p=typeof i<"u"&&typeof o<"u";function d(b,w,S,z,C){return function(T){const E=z/S,N=(z+C)/S,q=w-b;return P.map(T,0,1,b+E*q,b+N*q)}}a.forEach(function(b){const w=b.length();p?(s.push(b.scale(d(e,i,h,f,w))),c.push(b.scale(d(-r,-o,h,f,w)))):(s.push(b.scale(e)),c.push(b.scale(-r))),f+=w}),c=c.map(function(b){return l=b.points,l[3]?b.points=[l[3],l[2],l[1],l[0]]:b.points=[l[2],l[1],l[0]],b}).reverse();const y=s[0].points[0],_=s[u-1].points[s[u-1].points.length-1],v=c[u-1].points[c[u-1].points.length-1],g=c[0].points[0],M=P.makeline(v,y),A=P.makeline(_,g),x=[M].concat(s).concat([A]).concat(c);return new ln(x)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,a=[];for(let u=1,s=o.length;u<s/2;u++){const c=P.makeshape(o[u],o[s-u],i);c.startcap.virtual=u>1,c.endcap.virtual=u<s/2-1,a.push(c)}return a}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof G&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=Hr(e.p1.x,e.p2.x),i=Hr(e.p1.y,e.p2.y),o=$r(e.p1.x,e.p2.x),a=$r(e.p1.y,e.p2.y);return P.roots(this.points,e).filter(u=>{var s=this.get(u);return P.between(s.x,r,o)&&P.between(s.y,i,a)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,u,s,c;a<i;a++)s=r.slice(a,a+1),c=r.slice(a+2),u=this.curveintersects(s,c,e),o.push(...u);return o}curveintersects(e,r,i){const o=[];e.forEach(function(u){r.forEach(function(s){u.overlaps(s)&&o.push({left:u,right:s})})});let a=[];return o.forEach(function(u){const s=P.pairiteration(u.left,u.right,i);s.length>0&&(a=a.concat(s))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const a=(o-i)/4,u=this.get(i+a),s=this.get(o-a),c=P.dist(e,r),l=P.dist(e,u),f=P.dist(e,s);return nn(l-c)+nn(f-c)}_iterate(e,r){let i=0,o=1,a;do{a=0,o=1;let u=this.get(i),s,c,l,f,h=!1,p=!1,d,y=o,_=1;do if(p=h,f=l,y=(i+o)/2,s=this.get(y),c=this.get(o),l=P.getccenter(u,s,c),l.interval={start:i,end:o},h=this._error(l,u,i,o)<=e,d=p&&!h,d||(_=o),h){if(o>=1){if(l.interval.end=_=1,f=l,o>1){let v={x:l.x+l.r*_f(l.e),y:l.y+l.r*vf(l.e)};l.e+=P.angle({x:l.x,y:l.y},v,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!d&&a++<100);if(a>=100)break;f=f||l,r.push(f),i=_}while(o<1);return r}}function Ae(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function xf(n){if(Array.isArray(n))return n}function wf(n){if(Array.isArray(n))return Ae(n)}function kf(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mf(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function Af(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zf(n,e){if(n==null)return{};var r,i,o=Of(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function Of(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function Pf(n,e){return xf(n)||Mf(n,e)||to(n,e)||Af()}function Cf(n){return wf(n)||kf(n)||to(n)||Sf()}function Ef(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function jf(n){var e=Ef(n,"string");return typeof e=="symbol"?e:e+""}function to(n,e){if(n){if(typeof n=="string")return Ae(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(n,e):void 0}}var Nf=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),a=n.reduce(function(s,c){var l=s,f=c;return o.forEach(function(h,p){var d=h.keyAccessor,y=h.isProp,_;if(y){var v=f,g=v[d],M=zf(v,[d].map(jf));_=g,f=M}else _=d(f,p);p+1<o.length?(l.hasOwnProperty(_)||(l[_]={}),l=l[_]):r?(l.hasOwnProperty(_)||(l[_]=[]),l[_].push(f)):l[_]=f}),s},{});r instanceof Function&&function s(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l===o.length?Object.keys(c).forEach(function(f){return c[f]=r(c[f])}):Object.values(c).forEach(function(f){return s(f,l+1)})}(a);var u=a;return i&&(u=[],function s(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===o.length?u.push({keys:l,vals:c}):Object.entries(c).forEach(function(f){var h=Pf(f,2),p=h[0],d=h[1];return s(d,[].concat(Cf(l),[p]))})}(a),e instanceof Array&&e.length===0&&u.length===1&&(u[0].keys=[])),u};function Tf(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const Gr=Symbol("implicit");function no(){var n=new fr,e=[],r=[],i=Gr;function o(a){let u=n.get(a);if(u===void 0){if(i!==Gr)return i;n.set(a,u=e.push(a)-1)}return r[u%r.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new fr;for(const u of a)n.has(u)||n.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return no(e,r).unknown(i)},Tf.apply(o,arguments),o}function Df(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const Rf=Df("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function If(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var Uf=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;If(Uf);function Se(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Ff(n){if(Array.isArray(n))return n}function Lf(n){if(Array.isArray(n))return Se(n)}function Yr(n,e,r){if(eo())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var o=new(n.bind.apply(n,i));return o}function _n(n,e,r){return(e=Yf(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function eo(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eo=function(){return!!n})()}function qf(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Bf(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,u,s=[],c=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return s}}function Hf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Bt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wr(Object(r),!0).forEach(function(i){_n(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function cn(n,e){return Ff(n)||Bf(n,e)||ro(n,e)||Hf()}function st(n){return Lf(n)||qf(n)||ro(n)||$f()}function Gf(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yf(n){var e=Gf(n,"string");return typeof e=="symbol"?e:e+""}function ze(n){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(n)}function ro(n,e){if(n){if(typeof n=="string")return Se(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(n,e):void 0}}var Wf=no(Rf);function Xr(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=Wf(e(i))})}function Xf(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,u=a===void 0?function(){return!0}:a,s=o.onLoopError,c=s===void 0?function(d){throw"Invalid DAG structure! Found cycle in node path: ".concat(d.join(" -> "),".")}:s,l={};r.forEach(function(d){return l[e(d)]={data:d,out:[],depth:-1,skip:!u(d)}}),i.forEach(function(d){var y=d.source,_=d.target,v=x(y),g=x(_);if(!l.hasOwnProperty(v))throw"Missing source node with id: ".concat(v);if(!l.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var M=l[v],A=l[g];M.out.push(A);function x(b){return ze(b)==="object"?e(b):b}});var f=[];p(Object.values(l));var h=Object.assign.apply(Object,[{}].concat(st(Object.entries(l).filter(function(d){var y=cn(d,2),_=y[1];return!_.skip}).map(function(d){var y=cn(d,2),_=y[0],v=y[1];return _n({},_,v.depth)}))));return h;function p(d){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=function(){var A=d[g];if(y.indexOf(A)!==-1){var x=[].concat(st(y.slice(y.indexOf(A))),[A]).map(function(b){return e(b.data)});return f.some(function(b){return b.length===x.length&&b.every(function(w,S){return w===x[S]})})||(f.push(x),c(x)),1}_>A.depth&&(A.depth=_,p(A.out,[].concat(st(y),[A]),_+(A.skip?0:1)))},g=0,M=d.length;g<M;g++)v()}}var Vf=2,K=function(n,e){return e.onNeedsRedraw&&e.onNeedsRedraw()},Vr=function(n,e){if(!e.isShadow){var r=H(e.linkDirectionalParticles);e.graphData.links.forEach(function(i){var o=Math.round(Math.abs(r(i)));o?i.__photons=st(Array(o)).map(function(){return{}}):delete i.__photons})}},Gn=Re({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,e){e.engineRunning=!1,Vr(n,e)}},dagMode:{onChange:function(n,e){!n&&(e.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:K},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:K},nodeColor:{default:"color",triggerUpdate:!1,onChange:K},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:K},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:K},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:K},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:K},linkColor:{default:"color",triggerUpdate:!1,onChange:K},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:K},linkWidth:{default:1,triggerUpdate:!1,onChange:K},linkCurvature:{default:0,triggerUpdate:!1,onChange:K},linkCanvasObject:{triggerUpdate:!1,onChange:K},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:K},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:K},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:K},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:K},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Vr},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,e){e.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,e,r){return r===void 0?n.forceLayout.force(e):(n.forceLayout.force(e,r),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&e(),i(),!n.isShadow&&o(),!n.isShadow&&a(),r(),this;function e(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function r(){var u=H(n.nodeVisibility),s=H(n.nodeVal),c=H(n.nodeColor),l=H(n.nodeCanvasObjectMode),f=n.ctx,h=n.isShadow/n.globalScale,p=n.graphData.nodes.filter(u);f.save(),p.forEach(function(d){var y=l(d);if(n.nodeCanvasObject&&(y==="before"||y==="replace")&&(n.nodeCanvasObject(d,f,n.globalScale),y==="replace")){f.restore();return}var _=Math.sqrt(Math.max(0,s(d)||1))*n.nodeRelSize+h;f.beginPath(),f.arc(d.x,d.y,_,0,2*Math.PI,!1),f.fillStyle=c(d)||"rgba(31, 120, 180, 0.92)",f.fill(),n.nodeCanvasObject&&y==="after"&&n.nodeCanvasObject(d,n.ctx,n.globalScale)}),f.restore()}function i(){var u=H(n.linkVisibility),s=H(n.linkColor),c=H(n.linkWidth),l=H(n.linkLineDash),f=H(n.linkCurvature),h=H(n.linkCanvasObjectMode),p=n.ctx,d=n.isShadow*2,y=n.graphData.links.filter(u);y.forEach(b);var _=[],v=[],g=y;if(n.linkCanvasObject){var M=[],A=[];y.forEach(function(w){return({before:_,after:v,replace:M}[h(w)]||A).push(w)}),g=[].concat(st(_),v,A),_=_.concat(M)}p.save(),_.forEach(function(w){return n.linkCanvasObject(w,p,n.globalScale)}),p.restore();var x=Nf(g,[s,c,l]);p.save(),Object.entries(x).forEach(function(w){var S=cn(w,2),z=S[0],C=S[1],T=!z||z==="undefined"?"rgba(0,0,0,0.15)":z;Object.entries(C).forEach(function(E){var N=cn(E,2),q=N[0],k=N[1],j=(q||1)/n.globalScale+d;Object.entries(k).forEach(function(O){var D=cn(O,2);D[0];var I=D[1],F=l(I[0]);p.beginPath(),I.forEach(function(U){var L=U.source,B=U.target;if(!(!L||!B||!L.hasOwnProperty("x")||!B.hasOwnProperty("x"))){p.moveTo(L.x,L.y);var X=U.__controlPoints;X?p[X.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,st(X).concat([B.x,B.y])):p.lineTo(B.x,B.y)}}),p.strokeStyle=T,p.lineWidth=j,p.setLineDash(F||[]),p.stroke()})})}),p.restore(),p.save(),v.forEach(function(w){return n.linkCanvasObject(w,p,n.globalScale)}),p.restore();function b(w){var S=f(w);if(!S){w.__controlPoints=null;return}var z=w.source,C=w.target;if(!(!z||!C||!z.hasOwnProperty("x")||!C.hasOwnProperty("x"))){var T=Math.sqrt(Math.pow(C.x-z.x,2)+Math.pow(C.y-z.y,2));if(T>0){var E=Math.atan2(C.y-z.y,C.x-z.x),N=T*S,q={x:(z.x+C.x)/2+N*Math.cos(E-Math.PI/2),y:(z.y+C.y)/2+N*Math.sin(E-Math.PI/2)};w.__controlPoints=[q.x,q.y]}else{var k=S*70;w.__controlPoints=[C.x,C.y-k,C.x+k,C.y]}}}}function o(){var u=1.6,s=.2,c=H(n.linkDirectionalArrowLength),l=H(n.linkDirectionalArrowRelPos),f=H(n.linkVisibility),h=H(n.linkDirectionalArrowColor||n.linkColor),p=H(n.nodeVal),d=n.ctx;d.save(),n.graphData.links.filter(f).forEach(function(y){var _=c(y);if(!(!_||_<0)){var v=y.source,g=y.target;if(!(!v||!g||!v.hasOwnProperty("x")||!g.hasOwnProperty("x"))){var M=Math.sqrt(Math.max(0,p(v)||1))*n.nodeRelSize,A=Math.sqrt(Math.max(0,p(g)||1))*n.nodeRelSize,x=Math.min(1,Math.max(0,l(y))),b=h(y)||"rgba(0,0,0,0.28)",w=_/u/2,S=y.__controlPoints&&Yr(G,[v.x,v.y].concat(st(y.__controlPoints),[g.x,g.y])),z=S?function(j){return S.get(j)}:function(j){return{x:v.x+(g.x-v.x)*j||0,y:v.y+(g.y-v.y)*j||0}},C=S?S.length():Math.sqrt(Math.pow(g.x-v.x,2)+Math.pow(g.y-v.y,2)),T=M+_+(C-M-A-_)*x,E=z(T/C),N=z((T-_)/C),q=z((T-_*(1-s))/C),k=Math.atan2(E.y-N.y,E.x-N.x)-Math.PI/2;d.beginPath(),d.moveTo(E.x,E.y),d.lineTo(N.x+w*Math.cos(k),N.y+w*Math.sin(k)),d.lineTo(q.x,q.y),d.lineTo(N.x-w*Math.cos(k),N.y-w*Math.sin(k)),d.fillStyle=b,d.fill()}}}),d.restore()}function a(){var u=H(n.linkDirectionalParticles),s=H(n.linkDirectionalParticleSpeed),c=H(n.linkDirectionalParticleOffset),l=H(n.linkDirectionalParticleWidth),f=H(n.linkVisibility),h=H(n.linkDirectionalParticleColor||n.linkColor),p=n.ctx;p.save(),n.graphData.links.filter(f).forEach(function(d){var y=u(d);if(!(!d.hasOwnProperty("__photons")||!d.__photons.length)){var _=d.source,v=d.target;if(!(!_||!v||!_.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var g=s(d),M=Math.abs(c(d)),A=d.__photons||[],x=Math.max(0,l(d)/2)/Math.sqrt(n.globalScale),b=h(d)||"rgba(0,0,0,0.28)";p.fillStyle=b;var w=d.__controlPoints?Yr(G,[_.x,_.y].concat(st(d.__controlPoints),[v.x,v.y])):null,S=0,z=!1;A.forEach(function(C){var T=!!C.__singleHop;if(C.hasOwnProperty("__progressRatio")||(C.__progressRatio=T?0:(S+M)/y),!T&&S++,C.__progressRatio+=g,C.__progressRatio>=1)if(!T)C.__progressRatio=C.__progressRatio%1;else{z=!0;return}var E=C.__progressRatio,N=w?w.get(E):{x:_.x+(v.x-_.x)*E||0,y:_.y+(v.y-_.y)*E||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(N.x,N.y,d,p,n.globalScale):(p.beginPath(),p.arc(N.x,N.y,x,0,2*Math.PI,!1),p.fill())}),z&&(d.__photons=d.__photons.filter(function(C){return!C.__singleHop||C.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(n,e){return e&&(!e.__photons&&(e.__photons=[]),e.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:hf().force("link",ef()).force("charge",ff()).force("center",ih()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,e){e.ctx=n},update:function(n,e){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Xr(n.graphData.nodes,H(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Xr(n.graphData.links,H(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(h){h.source=h[n.linkSource],h.target=h[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var r=n.forceLayout.force("link");r&&r.id(function(h){return h[n.nodeId]}).links(n.graphData.links);var i=n.dagMode&&Xf(n.graphData,function(h){return h[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),o=Math.max.apply(Math,st(Object.values(i||[]))),a=n.dagLevelDistance||n.graphData.nodes.length/(o||1)*Vf*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(e.dagMode)){var u=["lr","rl"].includes(e.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(h){return delete h[u]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var s=["rl","bu"].includes(n.dagMode),c=function(h){return(i[h[n.nodeId]]-o/2)*a*(s?-1:1)},l=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(h){return h[l]=c(h)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?pf(function(h){var p=i[h[n.nodeId]]||-1;return(n.dagMode==="radialin"?o-p:p)*a}).strength(function(h){return n.dagNodeFilter(h)?1:0}):null);for(var f=0;f<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);f++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function io(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(a,u){r.forEach(function(s){return u[s][o](a)})},triggerUpdate:!1}},linkMethod:function(o){return function(a){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];var l=[];return r.forEach(function(f){var h=a[f],p=h[o].apply(h,s);p!==h&&l.push(p)}),l.length?l[0]:this}}}}var Zf=800,Kf=4,Qf=5,oo=io("forceGraph",Gn),Jf=io(["forceGraph","shadowGraph"],Gn),tp=Object.assign.apply(Object,st(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return _n({},n,oo.linkProp(n))})).concat(st(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return _n({},n,Jf.linkProp(n))})))),np=Object.assign.apply(Object,st(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return _n({},n,oo.linkMethod(n))})));function se(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(a){a.style.width="".concat(n.width,"px"),a.style.height="".concat(n.height,"px"),a.width=n.width*i,a.height=n.height*i,!e&&!r&&a.getContext("2d").scale(i,i)});var o=gt(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function ao(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function Zr(n,e,r){n.save(),ao(n),n.clearRect(0,0,e,r),n.restore()}var ep=Re({props:Bt({width:{default:window.innerWidth,onChange:function(n,e){return se(e)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,e){return se(e)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,e){[n.nodes,n.links].every(function(i){return(i||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&e.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(r),e.forceGraph.graphData(n),e.shadowGraph.graphData(n);function r(i){var o=i.type,a=i.objs;a.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var s=e.colorTracker.lookup(u.__indexColor);return!s||!s.hasOwnProperty("d")||s.d!==u}).forEach(function(u){u.__indexColor=e.colorTracker.register({type:o,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,e){e.canvas&&n&&(e.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,e){e.shadowGraph.nodeCanvasObject(n?function(r,i,o){return n(r,r.__indexColor,i,o)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,e){e.shadowGraph.linkCanvasObject(n?function(r,i,o){return n(r,r.__indexColor,i,o)}:null),e.flushShadowCanvas&&e.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,e){e.zoom.scaleExtent([n,e.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,e){e.zoom.scaleExtent([e.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,e){e.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},tp),aliases:{stopAnimation:"pauseAnimation"},methods:Bt({graph2ScreenCoords:function(n,e,r){var i=gt(n.canvas);return{x:e*i.k+i.x,y:r*i.k+i.y}},screen2GraphCoords:function(n,e,r){var i=gt(n.canvas);return{x:(e-i.x)/i.k,y:(r-i.y)/i.k}},centerAt:function(n,e,r,i){if(!n.canvas)return null;if(e!==void 0||r!==void 0){var o=Object.assign({},e!==void 0?{x:e}:{},r!==void 0?{y:r}:{});return i?n.tweenGroup.add(new mr(a()).to(o,i).easing(Ft.Quadratic.Out).onUpdate(u).start()):u(o),this}return a();function a(){var s=gt(n.canvas);return{x:(n.width/2-s.x)/s.k,y:(n.height/2-s.y)/s.k}}function u(s){var c=s.x,l=s.y;n.zoom.translateTo(n.zoom.__baseElem,c===void 0?a().x:c,l===void 0?a().y:l),n.needsRedraw=!0}},zoom:function(n,e,r){if(!n.canvas)return null;if(e!==void 0)return r?n.tweenGroup.add(new mr({k:i()}).to({k:e},r).easing(Ft.Quadratic.Out).onUpdate(function(a){var u=a.k;return o(u)}).start()):o(e),this;return i();function i(){return gt(n.canvas).k}function o(a){n.zoom.scaleTo(n.zoom.__baseElem,a),n.needsRedraw=!0}},zoomToFit:function(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var u=this.getGraphBbox.apply(this,o);if(u){var s={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(n.width-r*2)/(u.x[1]-u.x[0]),(n.height-r*2)/(u.y[1]-u.y[0])));this.centerAt(s.x,s.y,e),this.zoom(c,e)}return this},getGraphBbox:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=H(n.nodeVal),i=function(a){return Math.sqrt(Math.max(0,r(a)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(e).map(function(a){return{x:a.x,y:a.y,r:i(a)}});return o.length?{x:[gr(o,function(a){return a.x-a.r}),dr(o,function(a){return a.x+a.r})],y:[gr(o,function(a){return a.y-a.r}),dr(o,function(a){return a.y+a.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},np),stateInit:function(){return{lastSetZoom:1,zoom:ul(),forceGraph:new Gn,shadowGraph:new Gn().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Rc,tweenGroup:new Pi}},init:function(n,e){var r=this;n.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",n.appendChild(i),e.canvas=document.createElement("canvas"),e.backgroundColor&&(e.canvas.style.background=e.backgroundColor),i.appendChild(e.canvas),e.shadowCanvas=document.createElement("canvas");var o=e.canvas.getContext("2d"),a=e.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},s=function(){var l=null,f=window.devicePixelRatio,h=u.x>0&&u.y>0?a.getImageData(u.x*f,u.y*f,1,1):null;return h&&(l=e.colorTracker.lookup(h.data)),l};ut(e.canvas).call(_u().subject(function(){if(!e.enableNodeDrag)return null;var l=s();return l&&l.type==="Node"?l.d:null}).on("start",function(l){var f=l.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},l.active||(f.fx=f.x,f.fy=f.y),e.canvas.classList.add("grabbable")}).on("drag",function(l){var f=l.subject,h=f.__initialDragPos,p=l,d=gt(e.canvas).k,y={x:h.x+(p.x-h.x)/d-f.x,y:h.y+(p.y-h.y)/d-f.y};["x","y"].forEach(function(_){return f["f".concat(_)]=f[_]=h[_]+(p[_]-h[_])/d}),!(!f.__dragged&&Qf>=Math.sqrt(hl(["x","y"].map(function(_){return Math.pow(l[_]-h[_],2)}))))&&(e.forceGraph.d3AlphaTarget(.3).resetCountdown(),e.isPointerDragging=!0,f.__dragged=!0,e.onNodeDrag(f,y))}).on("end",function(l){var f=l.subject,h=f.__initialDragPos,p={x:f.x-h.x,y:f.y-h.y};h.fx===void 0&&(f.fx=void 0),h.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,e.forceGraph.d3AlphaTarget()&&e.forceGraph.d3AlphaTarget(0).resetCountdown(),e.canvas.classList.remove("grabbable"),e.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,e.onNodeDragEnd(f,p))})),e.zoom(e.zoom.__baseElem=ut(e.canvas)),e.zoom.__baseElem.on("dblclick.zoom",null),e.zoom.filter(function(l){return!l.button&&e.enableZoomPanInteraction&&(l.type!=="wheel"||H(e.enableZoomInteraction)(l))&&(l.type==="wheel"||H(e.enablePanInteraction)(l))}).on("zoom",function(l){var f=l.transform;[o,a].forEach(function(h){ao(h),h.translate(f.x,f.y),h.scale(f.k,f.k)}),e.isPointerDragging=!0,e.onZoom&&e.onZoom(Bt(Bt({},f),r.centerAt())),e.needsRedraw=!0}).on("end",function(l){e.isPointerDragging=!1,e.onZoomEnd&&e.onZoomEnd(Bt(Bt({},l.transform),r.centerAt()))}),se(e),e.forceGraph.onNeedsRedraw(function(){return e.needsRedraw=!0}).onFinishUpdate(function(){gt(e.canvas).k===e.lastSetZoom&&e.graphData.nodes.length&&(e.zoom.scaleTo(e.zoom.__baseElem,e.lastSetZoom=Kf/Math.cbrt(e.graphData.nodes.length)),e.needsRedraw=!0)}),e.tooltip=new rh(i),["pointermove","pointerdown"].forEach(function(l){return i.addEventListener(l,function(f){l==="pointerdown"&&(e.isPointerPressed=!0,e.pointerDownEvent=f),!e.isPointerDragging&&f.type==="pointermove"&&e.onBackgroundClick&&(f.pressure>0||e.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(d){return Math.abs(d)>1}))&&(e.isPointerDragging=!0);var h=p(i);u.x=f.pageX-h.left,u.y=f.pageY-h.top;function p(d){var y=d.getBoundingClientRect(),_=window.pageXOffset||document.documentElement.scrollLeft,v=window.pageYOffset||document.documentElement.scrollTop;return{top:y.top+v,left:y.left+_}}},{passive:!0})}),i.addEventListener("pointerup",function(l){if(e.isPointerPressed){if(e.isPointerPressed=!1,e.isPointerDragging){e.isPointerDragging=!1;return}var f=[l,e.pointerDownEvent];requestAnimationFrame(function(){if(l.button===0)if(e.hoverObj){var h=e["on".concat(e.hoverObj.type,"Click")];h&&h.apply(void 0,[e.hoverObj.d].concat(f))}else e.onBackgroundClick&&e.onBackgroundClick.apply(e,f);if(l.button===2)if(e.hoverObj){var p=e["on".concat(e.hoverObj.type,"RightClick")];p&&p.apply(void 0,[e.hoverObj.d].concat(f))}else e.onBackgroundRightClick&&e.onBackgroundRightClick.apply(e,f)})}},{passive:!0}),i.addEventListener("contextmenu",function(l){return!e.onBackgroundRightClick&&!e.onNodeRightClick&&!e.onLinkRightClick?!0:(l.preventDefault(),!1)}),e.forceGraph(o),e.shadowGraph(a);var c=Bl(function(){Zr(a,e.width,e.height),e.shadowGraph.linkWidth(function(f){return H(e.linkWidth)(f)+e.linkHoverPrecision});var l=gt(e.canvas);e.shadowGraph.globalScale(l.k).tickFrame()},Zf);e.flushShadowCanvas=c.flush,(this._animationCycle=function l(){var f=!e.autoPauseRedraw||!!e.needsRedraw||e.forceGraph.isEngineRunning()||e.graphData.links.some(function(M){return M.__photons&&M.__photons.length});if(e.needsRedraw=!1,e.enablePointerInteraction){var h=e.isPointerDragging?null:s();if(h!==e.hoverObj){var p=e.hoverObj,d=p?p.type:null,y=h?h.type:null;if(d&&d!==y){var _=e["on".concat(d,"Hover")];_&&_(null,p.d)}if(y){var v=e["on".concat(y,"Hover")];v&&v(h.d,d===y?p.d:null)}e.tooltip.content(h&&H(e["".concat(h.type.toLowerCase(),"Label")])(h.d)||null),e.canvas.classList[(h&&e["on".concat(y,"Click")]||!h&&e.onBackgroundClick)&&H(e.showPointerCursor)(h==null?void 0:h.d)?"add":"remove"]("clickable"),e.hoverObj=h}f&&c()}if(f){Zr(o,e.width,e.height);var g=gt(e.canvas).k;e.onRenderFramePre&&e.onRenderFramePre(o,g),e.forceGraph.globalScale(g).tickFrame(),e.onRenderFramePost&&e.onRenderFramePost(o,g)}e.tweenGroup.update(),e.animationFrameRequestId=requestAnimationFrame(l)})()},update:function(n){}});const Qn={width:m.number,height:m.number,graphData:m.shape({nodes:m.arrayOf(m.object).isRequired,links:m.arrayOf(m.object).isRequired}),backgroundColor:m.string,nodeRelSize:m.number,nodeId:m.string,nodeLabel:m.oneOfType([m.string,m.func]),nodeVal:m.oneOfType([m.number,m.string,m.func]),nodeVisibility:m.oneOfType([m.bool,m.string,m.func]),nodeColor:m.oneOfType([m.string,m.func]),nodeAutoColorBy:m.oneOfType([m.string,m.func]),onNodeHover:m.func,onNodeClick:m.func,linkSource:m.string,linkTarget:m.string,linkLabel:m.oneOfType([m.string,m.func]),linkVisibility:m.oneOfType([m.bool,m.string,m.func]),linkColor:m.oneOfType([m.string,m.func]),linkAutoColorBy:m.oneOfType([m.string,m.func]),linkWidth:m.oneOfType([m.number,m.string,m.func]),linkCurvature:m.oneOfType([m.number,m.string,m.func]),linkDirectionalArrowLength:m.oneOfType([m.number,m.string,m.func]),linkDirectionalArrowColor:m.oneOfType([m.string,m.func]),linkDirectionalArrowRelPos:m.oneOfType([m.number,m.string,m.func]),linkDirectionalParticles:m.oneOfType([m.number,m.string,m.func]),linkDirectionalParticleSpeed:m.oneOfType([m.number,m.string,m.func]),linkDirectionalParticleOffset:m.oneOfType([m.number,m.string,m.func]),linkDirectionalParticleWidth:m.oneOfType([m.number,m.string,m.func]),linkDirectionalParticleColor:m.oneOfType([m.string,m.func]),onLinkHover:m.func,onLinkClick:m.func,dagMode:m.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:m.number,dagNodeFilter:m.func,onDagError:m.func,d3AlphaMin:m.number,d3AlphaDecay:m.number,d3VelocityDecay:m.number,warmupTicks:m.number,cooldownTicks:m.number,cooldownTime:m.number,onEngineTick:m.func,onEngineStop:m.func,getGraphBbox:m.func},uo={zoomToFit:m.func,onNodeRightClick:m.func,onNodeDrag:m.func,onNodeDragEnd:m.func,onLinkRightClick:m.func,linkHoverPrecision:m.number,onBackgroundClick:m.func,onBackgroundRightClick:m.func,showPointerCursor:m.oneOfType([m.bool,m.func]),enablePointerInteraction:m.bool,enableNodeDrag:m.bool},$e={showNavInfo:m.bool,nodeOpacity:m.number,nodeResolution:m.number,nodeThreeObject:m.oneOfType([m.object,m.string,m.func]),nodeThreeObjectExtend:m.oneOfType([m.bool,m.string,m.func]),nodePositionUpdate:m.func,linkOpacity:m.number,linkResolution:m.number,linkCurveRotation:m.oneOfType([m.number,m.string,m.func]),linkMaterial:m.oneOfType([m.object,m.string,m.func]),linkThreeObject:m.oneOfType([m.object,m.string,m.func]),linkThreeObjectExtend:m.oneOfType([m.bool,m.string,m.func]),linkPositionUpdate:m.func,linkDirectionalArrowResolution:m.number,linkDirectionalParticleResolution:m.number,linkDirectionalParticleThreeObject:m.oneOfType([m.object,m.string,m.func]),forceEngine:m.oneOf(["d3","ngraph"]),ngraphPhysics:m.object,numDimensions:m.oneOf([1,2,3])},rp=Object.assign({},Qn,uo,{linkLineDash:m.oneOfType([m.arrayOf(m.number),m.string,m.func]),nodeCanvasObjectMode:m.oneOfType([m.string,m.func]),nodeCanvasObject:m.func,nodePointerAreaPaint:m.func,linkCanvasObjectMode:m.oneOfType([m.string,m.func]),linkCanvasObject:m.func,linkPointerAreaPaint:m.func,linkDirectionalParticleCanvasObject:m.func,autoPauseRedraw:m.bool,minZoom:m.number,maxZoom:m.number,enableZoomInteraction:m.oneOfType([m.bool,m.func]),enablePanInteraction:m.oneOfType([m.bool,m.func]),onZoom:m.func,onZoomEnd:m.func,onRenderFramePre:m.func,onRenderFramePost:m.func});Object.assign({},Qn,uo,$e,{enableNavigationControls:m.bool,controlType:m.oneOf(["trackball","orbit","fly"]),rendererConfig:m.object,extraRenderers:m.arrayOf(m.shape({render:m.func.isRequired}))});Object.assign({},Qn,$e,{nodeDesc:m.oneOfType([m.string,m.func]),linkDesc:m.oneOfType([m.string,m.func])});Object.assign({},Qn,$e,{markerAttrs:m.object,yOffset:m.number,glScale:m.number});const so=Po(ep,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});so.displayName="ForceGraph2D";so.propTypes=rp;export{so as default};
