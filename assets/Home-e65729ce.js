import{i as H,u as g,a as A,c as $,f as I,b as f,d as R,r as b,j as a,m as h,R as x}from"./main-0c750a40.js";import{l as T,f as E,H as V}from"./index-1ce64bd9.js";import{d as k}from"./format-d7efe303.js";import{F as B}from"./fuse-11af6271.js";import{h as v}from"./herbs-e584c590.js";import"./star-ffade456.js";const L=e=>e&&typeof e=="object"&&e.mix,X=e=>L(e)?e.mix:void 0;function Y(...e){const t=!Array.isArray(e[0]),s=t?0:-1,c=e[0+s],r=e[1+s],n=e[2+s],l=e[3+s],i=H(r,n,{mixer:X(n[0]),...l});return t?i(c):i}function M(e,t){const s=g(t()),c=()=>s.set(t());return c(),A(()=>{const r=()=>I.update(c,!1,!0),n=e.map(l=>l.on("change",r));return()=>{n.forEach(l=>l()),$(c)}}),s}function _(e){f.current=[],e();const t=M(f.current,e);return f.current=void 0,t}function w(e,t,s,c){if(typeof e=="function")return _(e);const r=typeof t=="function"?t:Y(t,s,c);return Array.isArray(e)?N(e,r):N([e],([n])=>r(n))}function N(e,t){const s=R(()=>[]);return M(e,()=>{s.length=0;const c=e.length;for(let r=0;r<c;r++)s[r]=e[r].get();return t(s)})}const q=()=>{const e=g(0),t=g(0),s=typeof window<"u"?window.innerWidth:1,c=typeof window<"u"?window.innerHeight:1,r=w(e,[0,s],[-30,30]),n=w(t,[0,c],[-30,30]),l=b.useMemo(()=>Array.from({length:25},(i,m)=>({id:m,size:Math.random()*4+2,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5})),[]);return a.jsxs(h.div,{className:"absolute inset-0 -z-10 overflow-hidden",onMouseMove:i=>{e.set(i.clientX),t.set(i.clientY)},children:[l.map(i=>a.jsx(h.span,{style:{width:i.size,height:i.size,left:`${i.x}%`,top:`${i.y}%`},className:"absolute rounded-full bg-forest-green/20",animate:{y:[-10,10,-10]},transition:{duration:8,ease:"easeInOut",repeat:1/0,delay:i.delay}},i.id)),a.jsx(h.div,{className:"bg-cosmic-gradient animate-gradient absolute inset-0",style:{x:r,y:n}})]})},O=q;function D(){const e=b.useCallback(async t=>{await T(t)},[]);return a.jsx(E,{id:"tsparticles",init:e,options:{fullScreen:{enable:!0,zIndex:-1},particles:{color:{value:"#ffffff"},number:{value:40,density:{enable:!0,area:800}},size:{value:1},move:{enable:!0,speed:.3},opacity:{value:.2}},background:{color:"#0c0c1a"}}})}const Q=()=>{const e=b.useMemo(()=>Array.from({length:20},(t,s)=>({id:s,size:Math.random()*60+20,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*10+10,delay:Math.random()*5})),[]);return a.jsx("div",{className:"pointer-events-none fixed inset-0 overflow-hidden","aria-hidden":"true",children:e.map(t=>a.jsx(h.div,{className:"absolute rounded-full",style:{width:t.size,height:t.size,left:`${t.x}%`,top:`${t.y}%`,background:"radial-gradient(circle, rgba(34, 197, 94, 0.15) 0%, transparent 70%)",willChange:"transform, opacity"},animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id))})},U=Q;function W(){return a.jsxs("section",{className:"relative flex min-h-[60vh] items-center justify-center overflow-hidden py-16 text-center",children:[a.jsx(D,{}),a.jsx(O,{}),a.jsx(U,{}),a.jsxs(h.div,{className:"relative z-10 px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h1",{className:"text-gradient animate-ripple mb-4 font-display text-5xl md:text-6xl",children:"The Hippie Scientist"}),a.jsx("p",{className:"text-lg text-opal",children:"Psychedelic Botany & Conscious Exploration"})]})]})}const G=({herbs:e,onFilter:t})=>{const[s,c]=x.useState(""),[r,n]=x.useState([]),[l,i]=x.useState(""),m=x.useMemo(()=>new B(e,{keys:["name","scientificName","tags"],threshold:.3}),[e]),y=()=>{const o=e[Math.floor(Math.random()*e.length)];t([o])},C=x.useMemo(()=>{const o=e.reduce((d,u)=>d.concat(u.tags),[]);return Array.from(new Set(o))},[e]),S=o=>{const d=o.target.value;d&&!r.includes(d)&&n(u=>[...u,d]),o.target.value=""},z=o=>{n(d=>d.filter(u=>u!==o))},F=()=>{c(""),n([]),i(""),t(e)},j=x.useMemo(()=>{const o=s.trim();let d=e;return o&&(d=m.search(o).map(u=>u.item)),r.length&&(d=d.filter(u=>r.every(p=>u.tags.includes(p)))),l==="intensity"?d=[...d].sort((u,p)=>u.intensity.localeCompare(p.intensity)):l==="onset"?d=[...d].sort((u,p)=>u.onset.localeCompare(p.onset)):l==="safetyRating"&&(d=[...d].sort((u,p)=>(u.safetyRating??0)-(p.safetyRating??0))),d},[e,s,r,l]);return x.useEffect(()=>{t(j)},[j,t]),a.jsxs("div",{className:"sticky top-20 z-10 mb-8 space-y-4 rounded-lg bg-white/70 p-4 backdrop-blur-md dark:bg-space-dark/70",children:[a.jsx("input",{type:"text",placeholder:"Search herbs...","aria-label":"Search herbs",value:s,onChange:o=>c(o.target.value),className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-black focus:outline-none focus:ring-2 focus:ring-purple-500 dark:border-gray-700 dark:bg-gray-900 dark:text-white"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 gap-y-2",children:[r.map(o=>a.jsx("button",{type:"button",onClick:()=>z(o),className:"tag-pill",children:k(o)},o)),a.jsxs("select",{onChange:S,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black dark:border-gray-700 dark:bg-gray-900 dark:text-white",defaultValue:"",children:[a.jsx("option",{value:"",children:"Add Tag Filter..."}),C.map(o=>a.jsx("option",{value:o,children:k(o)},o))]}),a.jsx("button",{type:"button",onClick:y,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:hover:bg-gray-700",children:"Random Herb"}),a.jsxs("select",{value:l,onChange:o=>i(o.target.value),className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black dark:border-gray-700 dark:bg-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Sort By..."}),a.jsx("option",{value:"intensity",children:"Intensity"}),a.jsx("option",{value:"onset",children:"Onset"}),a.jsx("option",{value:"safetyRating",children:"Safety"})]}),a.jsx("button",{type:"button",onClick:F,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-black hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:hover:bg-gray-700",children:"Clear Filters"})]})]})},J=G,K=({currentPage:e,totalPages:t,onPageChange:s})=>{const r=(()=>{if(t<=7)return Array.from({length:t},(m,y)=>y+1);const n=[1],l=Math.max(2,e-1),i=Math.min(t-1,e+1);l>2&&n.push("…");for(let m=l;m<=i;m++)n.push(m);return i<t-1&&n.push("…"),n.push(t),n})();return a.jsxs("div",{className:"mt-4 mb-8 flex flex-wrap justify-center gap-2",children:[a.jsx("button",{type:"button",disabled:e===1,onClick:()=>s(e-1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Prev"}),r.map((n,l)=>typeof n=="number"?a.jsx(h.button,{whileHover:{scale:1.1},onClick:()=>s(n),className:`rounded px-2 py-1 text-sm ${n===e?"bg-cosmic-purple text-white":"text-sand"}`,children:n},n):a.jsx("span",{className:"px-2 py-1 text-sand",children:n},`ellipsis-${l}`)),a.jsx("button",{type:"button",disabled:e===t,onClick:()=>s(e+1),className:"rounded px-2 py-1 text-sm text-sand disabled:opacity-50",children:"Next"})]})},Z=K;function re(){const[e,t]=x.useState(v),[s,c]=x.useState(1),r=6,n=Math.ceil(e.length/r),l=x.useMemo(()=>e.slice((s-1)*r,s*r),[e,s]),i=m=>{t(m),c(1)};return a.jsxs("main",{className:"min-h-screen bg-white text-black dark:bg-black dark:text-white px-4 py-10",children:[a.jsx(W,{}),a.jsxs("section",{className:"mx-auto max-w-4xl space-y-12",children:[a.jsx("p",{className:"text-center text-lg sm:text-xl text-opal",children:"Discover visionary plants used throughout history. Search the database or browse page by page."}),a.jsx(J,{herbs:v,onFilter:i}),a.jsxs(h.div,{layout:!0,children:[a.jsx("h2",{className:"text-gradient mb-4 font-display text-3xl md:text-4xl",children:"Herb Index"}),a.jsx(V,{herbs:l}),a.jsx(Z,{currentPage:s,totalPages:n,onPageChange:c})]})]})]})}export{re as default};
