import{j as e,m,T as h,L as f,r as c,W as y,A as w,h as b}from"./main-c3e2a16e.js";import{m as j}from"./useFilteredHerbs-a85cfa6f.js";function v({compound:t}){return e.jsxs(m.article,{whileHover:{scale:1.03},className:"hover-glow flex flex-col rounded-lg border border-gray-200 bg-white p-4 text-left dark:border-gray-700 dark:bg-gray-900",children:[e.jsx("h2",{className:"mb-1 text-lg font-bold text-gray-900 dark:text-gray-100",children:t.name}),e.jsxs("div",{className:"mb-2 flex flex-wrap gap-2",children:[e.jsx(h,{label:t.type}),t.effectClass&&e.jsx(h,{label:t.effectClass,variant:"blue"})]}),e.jsx("p",{className:"mb-2 text-sm text-sand",children:t.description}),e.jsx("p",{className:"mb-2 text-sm text-sand",children:t.mechanismOfAction}),e.jsx("div",{className:"mt-auto flex flex-wrap gap-1",children:t.herbsFound.map(s=>s.slug?e.jsx(f,{to:`/herbs/${s.slug}`,className:"tag-pill bg-space-dark/70 text-sand hover-glow transition-colors duration-300 dark:bg-gray-800 dark:text-gray-200",children:s.name},s.name):e.jsx("span",{className:"tag-pill bg-space-dark/70 text-sand dark:bg-gray-800 dark:text-gray-200",children:s.name},s.name))})]})}function k({options:t,onChange:s}){const[n,x]=c.useState([]),g=r=>{x(o=>o.includes(r)?o.filter(u=>u!==r):[...o,r])};return c.useEffect(()=>{s==null||s(n)},[n,s]),e.jsxs("div",{className:"flex gap-2 overflow-x-auto py-2 no-scrollbar",children:[t.map(r=>{const o=n.includes(r.value);return e.jsx(m.button,{type:"button",onClick:()=>g(r.value),whileTap:{scale:.9},whileHover:{scale:1.08},animate:o?{scale:[1,1.15,1],boxShadow:"0 0 8px rgba(16,185,129,0.8)"}:{scale:1,boxShadow:"none"},transition:{type:"spring",stiffness:220,damping:12},className:`tag-pill whitespace-nowrap hover-glow transition-colors duration-300 ${o?"bg-emerald-700/70 text-white ring-2 ring-emerald-400 dark:bg-emerald-800":"bg-space-dark/70 text-sand dark:bg-gray-800 dark:text-gray-200"}`,children:r.label},r.value)}),n.length>0&&e.jsx(m.button,{type:"button",onClick:()=>x([]),whileTap:{scale:.9},whileHover:{scale:1.08},transition:{type:"spring",stiffness:220,damping:12},className:"tag-pill whitespace-nowrap hover-glow bg-rose-700/70 text-white dark:bg-rose-800 transition-colors duration-300",children:"Clear"})]})}const N=b.filter(t=>"slug"in t),C=b.filter(t=>"foundIn"in t);function L(){const[t,s]=c.useState(""),[n,x]=c.useState([]),g=c.useMemo(()=>{const a=new Map;return N.forEach(l=>{a.set(l.name.toLowerCase(),{slug:l.slug,category:l.category})}),a},[]),r=c.useMemo(()=>C.map(a=>{const l=a.foundIn.map(d=>{const i=g.get(d.toLowerCase());return{name:d,slug:i==null?void 0:i.slug,category:i==null?void 0:i.category}}),p=new Set(l.map(d=>d.category?j(d.category):void 0).filter(Boolean));return{...a,herbsFound:l,effectClass:Array.from(p).join(", ")}}),[g]),o=c.useMemo(()=>Array.from(new Set(r.map(a=>a.type))).sort().map(a=>({label:a,value:a})),[r]),u=c.useMemo(()=>r.filter(a=>{const l=t.trim().toLowerCase(),p=!l||a.name.toLowerCase().includes(l)||a.herbsFound.some(i=>i.name.toLowerCase().includes(l)),d=n.length===0||n.includes(a.type);return p&&d}),[t,n,r]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("title",{children:"Psychoactive Compounds Index - The Hippie Scientist"})}),e.jsx("div",{className:"min-h-screen px-4 pb-12 pt-20",children:e.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[e.jsx("h1",{className:"text-gradient mb-2 text-4xl font-bold",children:"Psychoactive Compounds Index"}),e.jsx("p",{className:"mb-6 text-sand",children:"Explore the active ingredients behind each herbâ€™s effects"}),e.jsxs("div",{className:"mb-4 flex flex-col items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search compounds or herbs...",value:t,onChange:a=>s(a.target.value),className:"w-full rounded-md bg-space-dark/70 px-3 py-2 text-white backdrop-blur-md focus:outline-none sm:w-72"}),e.jsx(k,{options:o,onChange:x})]}),e.jsx(m.div,{layout:!0,className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.jsx(w,{children:u.map(a=>e.jsx(m.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(v,{compound:a})},a.name))})})]})})]})}export{L as default};
